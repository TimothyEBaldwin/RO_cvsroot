head	4.71;
access;
symbols
	TCPIPLibs-5_66:4.71
	TCPIPLibs-5_65:4.70
	TCPIPLibs-5_64:4.69
	TCPIPLibs-5_63:4.68
	TCPIPLibs-5_62:4.67
	TCPIPLibs-5_61:4.66
	TCPIPLibs-5_60:4.65
	TCPIPLibs-5_59:4.64
	TCPIPLibs-5_58:4.63
	TCPIPLibs-5_57:4.62
	TCPIPLibs-5_56:4.61
	TCPIPLibs-5_55:4.60
	TCPIPLibs-5_54:4.59
	TCPIPLibs-5_53:4.58
	TCPIPLibs-5_52:4.57
	TCPIPLibs-5_51:4.56
	TCPIPLibs-5_50:4.55
	TCPIPLibs-5_49:4.52
	RO_5_07:4.51
	TCPIPLibs-5_48:4.51
	TCPIPLibs-5_47:4.50
	TCPIPLibs-5_46:4.49
	TCPIPLibs-5_45:4.48
	TCPIPLibs-5_44:4.47
	TCPIPLibs-5_43:4.46
	TCPIPLibs-5_42:4.45
	TCPIPLibs-5_41:4.44
	TCPIPLibs-5_40:4.43
	TCPIPLibs-5_39:4.42
	dellis_autobuild_BaseSW:4.41
	TCPIPLibs-5_38:4.41
	TCPIPLibs-5_37:4.40
	TCPIPLibs-5_36:4.39
	sbrodie_sedwards_16Mar2000:4.38
	TCPIPLibs-5_35:4.38
	TCPIPLibs-5_34:4.37
	TCPIPLibs-5_33:4.36
	TCPIPLibs-5_32:4.35
	TCPIPLibs-5_31:4.34
	dcotton_autobuild_BaseSW:4.44
	TCPIPLibs-5_30:4.33
	TCPIPLibs-5_29:4.32
	TCPIPLibs-5_28:4.31
	TCPIPLibs-5_27:4.30
	TCPIPLibs-5_26:4.29
	TCPIPLibs-5_25:4.28
	TCPIPLibs-5_24:4.27
	TCPIPLibs-5_23:4.26
	TCPIPLibs-5_22:4.25
	TCPIPLibs-5_21:4.24
	TCPIPLibs-5_20:4.23
	TCPIPLibs-5_19:4.22
	TCPIPLibs-5_18:4.21
	TCPIPLibs-5_17:4.20
	TCPIPLibs-5_16:4.19
	TCPIPLibs-5_15:4.18
	TCPIPLibs-5_14:4.17
	TCPIPLibs-5_13:4.16
	TCPIPLibs-5_12:4.15
	TCPIPLibs-5_11:4.14
	TCPIPLibs-5_10:4.13
	TCPIPLibs-5_09:4.12
	TCPIPLibs-5_08:4.11
	TCPIPLibs-5_07:4.10
	TCPIPLibs-5_06:4.9
	TCPIPLibs-5_05:4.8
	TCPIPLibs-5_04:4.7
	TCPIPLibs-5_03:4.6
	TCPIPLibs-5_02:4.4
	TCPIPLibs-5_01:4.3
	TCPIPLibs-5_00:4.2;
locks; strict;
comment	@# @;


4.71
date	2018.08.25.19.53.39;	author rool;	state Exp;
branches;
next	4.70;
commitid	0Awdheg8IUUDtxPA;

4.70
date	2018.05.19.09.36.49;	author rool;	state Exp;
branches;
next	4.69;
commitid	7uBh0ROj7DZkdTCA;

4.69
date	2018.04.28.09.12.09;	author rool;	state Exp;
branches;
next	4.68;
commitid	e1VdAVmHG5cJKbAA;

4.68
date	2018.01.13.09.51.40;	author rool;	state Exp;
branches;
next	4.67;
commitid	hGNWLSSZDOOxlHmA;

4.67
date	2017.06.23.19.36.19;	author rsprowson;	state Exp;
branches;
next	4.66;
commitid	c4mD2KTyX8KE8xWz;

4.66
date	2016.03.22.23.00.47;	author rsprowson;	state Exp;
branches;
next	4.65;
commitid	8v01Uun2E1gyZGZy;

4.65
date	2014.11.06.21.32.47;	author rsprowson;	state Exp;
branches;
next	4.64;
commitid	6qTlSascKJSNDaXx;

4.64
date	2014.06.28.08.48.05;	author rsprowson;	state Exp;
branches;
next	4.63;
commitid	eDGcJK3sMdAxCgGx;

4.63
date	2013.05.26.19.33.43;	author rsprowson;	state Exp;
branches;
next	4.62;
commitid	WEicgaeWcxFcZaRw;

4.62
date	2013.05.26.15.23.13;	author rsprowson;	state Exp;
branches;
next	4.61;
commitid	SAw6H5NvTdGgB9Rw;

4.61
date	2012.08.26.19.38.12;	author jlee;	state Exp;
branches;
next	4.60;
commitid	FjNoLg7pzbnNM5iw;

4.60
date	2012.05.18.19.42.17;	author rsprowson;	state Exp;
branches;
next	4.59;
commitid	pzTWF1f7YDku1f5w;

4.59
date	2012.05.09.18.25.21;	author rsprowson;	state Exp;
branches;
next	4.58;
commitid	OIMPvU5fhOn2T44w;

4.58
date	2012.03.08.01.17.36;	author jlee;	state Exp;
branches;
next	4.57;
commitid	h86MyDqJDdY0c1Wv;

4.57
date	2012.01.14.23.08.19;	author srevill;	state Exp;
branches;
next	4.56;
commitid	Ngd2EfMPjOQhbcPv;

4.56
date	2012.01.14.18.37.39;	author srevill;	state Exp;
branches;
next	4.55;
commitid	YmziHNybUI1rGaPv;

4.55
date	2010.01.19.16.26.55;	author rool;	state Exp;
branches;
next	4.54;

4.54
date	2009.06.25.23.40.19;	author bavison;	state Exp;
branches;
next	4.53;

4.53
date	2009.06.13.23.36.40;	author bavison;	state Exp;
branches;
next	4.52;

4.52
date	2005.03.30.16.03.07;	author srevill;	state Exp;
branches;
next	4.51;

4.51
date	2004.07.01.15.31.42;	author srevill;	state Exp;
branches;
next	4.50;

4.50
date	2004.01.21.15.15.19;	author bavison;	state Exp;
branches;
next	4.49;

4.49
date	2003.12.02.16.40.14;	author bavison;	state Exp;
branches;
next	4.48;

4.48
date	2003.01.07.18.58.21;	author kbracey;	state Exp;
branches;
next	4.47;

4.47
date	2002.09.30.14.00.13;	author kbracey;	state Exp;
branches;
next	4.46;

4.46
date	2002.05.29.14.05.35;	author bavison;	state Exp;
branches;
next	4.45;

4.45
date	2002.03.21.15.42.51;	author srevill;	state Exp;
branches;
next	4.44;

4.44
date	2001.06.12.16.14.46;	author sbrodie;	state Exp;
branches;
next	4.43;

4.43
date	2001.06.12.15.46.42;	author sbrodie;	state Exp;
branches;
next	4.42;

4.42
date	2001.03.20.14.16.08;	author sbrodie;	state Exp;
branches;
next	4.41;

4.41
date	2000.05.04.10.59.16;	author sbrodie;	state Exp;
branches;
next	4.40;

4.40
date	2000.05.03.16.18.42;	author sbrodie;	state Exp;
branches;
next	4.39;

4.39
date	2000.05.03.10.35.02;	author sbrodie;	state Exp;
branches;
next	4.38;

4.38
date	99.12.02.16.19.03;	author sbrodie;	state Exp;
branches;
next	4.37;

4.37
date	99.12.02.13.42.02;	author sbrodie;	state Exp;
branches;
next	4.36;

4.36
date	99.11.30.12.58.00;	author sbrodie;	state Exp;
branches;
next	4.35;

4.35
date	99.11.29.12.39.03;	author sbrodie;	state Exp;
branches;
next	4.34;

4.34
date	99.10.05.18.55.47;	author sbrodie;	state Exp;
branches;
next	4.33;

4.33
date	99.07.28.11.24.11;	author sbrodie;	state Exp;
branches;
next	4.32;

4.32
date	99.07.22.09.49.12;	author kbracey;	state Exp;
branches;
next	4.31;

4.31
date	99.07.21.12.10.39;	author kbracey;	state Exp;
branches;
next	4.30;

4.30
date	99.07.19.12.40.29;	author kbracey;	state Exp;
branches;
next	4.29;

4.29
date	99.07.15.17.26.33;	author kbracey;	state Exp;
branches;
next	4.28;

4.28
date	99.07.13.10.46.05;	author kbracey;	state Exp;
branches;
next	4.27;

4.27
date	99.07.08.16.31.37;	author kbracey;	state Exp;
branches;
next	4.26;

4.26
date	99.07.08.15.10.28;	author kbracey;	state Exp;
branches;
next	4.25;

4.25
date	99.07.05.11.39.05;	author kbracey;	state Exp;
branches;
next	4.24;

4.24
date	99.07.01.12.14.29;	author kbracey;	state Exp;
branches;
next	4.23;

4.23
date	99.06.30.13.20.40;	author kbracey;	state Exp;
branches;
next	4.22;

4.22
date	99.06.25.09.27.22;	author kbracey;	state Exp;
branches;
next	4.21;

4.21
date	99.06.23.12.57.03;	author sbrodie;	state Exp;
branches;
next	4.20;

4.20
date	99.06.23.10.07.51;	author kbracey;	state Exp;
branches;
next	4.19;

4.19
date	99.06.22.16.17.43;	author kbracey;	state Exp;
branches;
next	4.18;

4.18
date	99.06.07.12.06.04;	author sbrodie;	state Exp;
branches;
next	4.17;

4.17
date	99.06.03.12.25.28;	author sbrodie;	state Exp;
branches;
next	4.16;

4.16
date	99.05.11.13.03.48;	author sbrodie;	state Exp;
branches;
next	4.15;

4.15
date	99.05.11.12.40.05;	author kbracey;	state Exp;
branches;
next	4.14;

4.14
date	99.03.30.12.27.09;	author sbrodie;	state Exp;
branches;
next	4.13;

4.13
date	99.03.30.10.35.36;	author blaughto;	state Exp;
branches;
next	4.12;

4.12
date	99.03.25.14.36.46;	author sbrodie;	state Exp;
branches;
next	4.11;

4.11
date	99.03.19.16.49.24;	author sbrodie;	state Exp;
branches;
next	4.10;

4.10
date	99.03.16.16.25.22;	author sbrodie;	state Exp;
branches;
next	4.9;

4.9
date	99.02.12.14.48.31;	author sbrodie;	state Exp;
branches;
next	4.8;

4.8
date	98.11.30.15.36.36;	author sbrodie;	state Exp;
branches;
next	4.7;

4.7
date	98.11.27.15.40.01;	author sbrodie;	state Exp;
branches;
next	4.6;

4.6
date	98.11.27.11.40.42;	author sbrodie;	state Exp;
branches;
next	4.5;

4.5
date	98.10.22.16.52.06;	author nturton;	state Exp;
branches;
next	4.4;

4.4
date	98.10.15.14.21.20;	author sbrodie;	state Exp;
branches;
next	4.3;

4.3
date	98.10.12.13.20.12;	author sbrodie;	state Exp;
branches;
next	4.2;

4.2
date	98.09.04.15.59.57;	author sbrodie;	state Exp;
branches;
next	4.1;

4.1
date	98.09.04.15.58.37;	author sbrodie;	state Exp;
branches;
next	;


desc
@@


4.71
log
@Add support for RFC2553
Detail:
  headers/net/if.h: new defines, structs, prototypes per RFC2553.
  headers/netdb.h: new defines, structs, prototypes per RFC2553 (from FreeBSD revision 102227).
  headers/sys/socket.h: portability sockaddr_storage struct, extend list of PF_ and AF_ defines (from FreeBSD revision 102227).
  headers/netinet/in.h: new defines, structs, prototypes per RFC2553 (from FreeBSD in6.h revision 102227)
  inetlib/if_indextoname.c
          if_nameindex.c
          if_nametoindex.c: import of new interface functions (from FreeBSD revision 100138).
          in6addr.c: constant structs for in6addr_any and in6addr_loopback per RFC2553.
          getnainfo.c: import of new function (from FreeBSD revision 158790).
          getipnode.c: new (with hostentdup based on _hpcopy from FreeBSD revision 103335).
          getadinfo.c: new (with portions based on FreeBSD revision 103640).
  LibraryDoc: updated with summaries of the new functions in Inetlib.
Admin:
  Test harness in test/rfc2553.c exercises most of the new functionality.
  Submission for TCP/IP bounty.

Version 5.66. Tagged as 'TCPIPLibs-5_66'
@
text
@/* (5.66)
 *
 * This file is automatically maintained by srccommit, do not edit manually.
 * Last processed by srccommit version: 1.1.
 *
 */
#define Module_MajorVersion_CMHG        5.66
#define Module_MinorVersion_CMHG        
#define Module_Date_CMHG                25 Aug 2018

#define Module_MajorVersion             "5.66"
#define Module_Version                  566
#define Module_MinorVersion             ""
#define Module_Date                     "25 Aug 2018"

#define Module_ApplicationDate          "25-Aug-18"

#define Module_ComponentName            "TCPIPLibs"
#define Module_ComponentPath            "mixed/RiscOS/Sources/Lib/TCPIPLibs"

#define Module_FullVersion              "5.66"
#define Module_HelpVersion              "5.66 (25 Aug 2018)"
#define Module_LibraryVersionInfo       "5:66"
@


4.70
log
@Fix to socklib error return handling
Detail:
  copyerror - the highest error is now ENEEDAUTH (81) but socklib was clamping everything above EREMOTE (71).
  mkveneers/InetSWIs - use centrally held Hdr for OS SWI definitions.
  socklib.h/LibraryDoc - remove internal function _makecall() which is no longer used.
Admin:
  Submission for TCP/IP bounty.

Version 5.65. Tagged as 'TCPIPLibs-5_65'
@
text
@d1 1
a1 1
/* (5.65)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.65
d9 1
a9 1
#define Module_Date_CMHG                19 May 2018
d11 2
a12 2
#define Module_MajorVersion             "5.65"
#define Module_Version                  565
d14 1
a14 1
#define Module_Date                     "19 May 2018"
d16 1
a16 1
#define Module_ApplicationDate          "19-May-18"
d21 3
a23 3
#define Module_FullVersion              "5.65"
#define Module_HelpVersion              "5.65 (19 May 2018)"
#define Module_LibraryVersionInfo       "5:65"
@


4.69
log
@Strip out insecure T/TCP support
Detail:
  RFC6247 moved T/TCP to historic status due to security concerns, this change actively removes the code (where previously we disabled it through sysctl).

  headers/netinet/tcp_var.h: remove T/TCP support (per FreeBSD revision 137139).
  headers/netinet/tcp.h: remove T/TCP support (per FreeBSD revision 137139).
  headers/netinet/tcp_seq.h: remove T/TCP support (per FreeBSD revision 137139).
  LibraryDoc: removed references to T/TCP, updated MIB variables section, added
              socketstat() and fstat() details.
Admin:
  Submission for TCP/IP bounty.

Version 5.64. Tagged as 'TCPIPLibs-5_64'
@
text
@d1 1
a1 1
/* (5.64)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.64
d9 1
a9 1
#define Module_Date_CMHG                28 Apr 2018
d11 2
a12 2
#define Module_MajorVersion             "5.64"
#define Module_Version                  564
d14 1
a14 1
#define Module_Date                     "28 Apr 2018"
d16 1
a16 1
#define Module_ApplicationDate          "28-Apr-18"
d21 3
a23 3
#define Module_FullVersion              "5.64"
#define Module_HelpVersion              "5.64 (28 Apr 2018)"
#define Module_LibraryVersionInfo       "5:64"
@


4.68
log
@Updates to queue.h macros
Detail:
  Add safe _FOREACH iterators to the rest of the queue.h types (from FreeBSD revision 118904).
  Retire CIRCLEQ. Use TAILQ instead, it provides the same functionality (from FreeBSD revision 70469).

Version 5.63. Tagged as 'TCPIPLibs-5_63'
@
text
@d1 1
a1 1
/* (5.63)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.63
d9 1
a9 1
#define Module_Date_CMHG                13 Jan 2018
d11 2
a12 2
#define Module_MajorVersion             "5.63"
#define Module_Version                  563
d14 1
a14 1
#define Module_Date                     "13 Jan 2018"
d16 1
a16 1
#define Module_ApplicationDate          "13-Jan-18"
d21 3
a23 3
#define Module_FullVersion              "5.63"
#define Module_HelpVersion              "5.63 (13 Jan 2018)"
#define Module_LibraryVersionInfo       "5:63"
@


4.67
log
@TCPIP header updates
protocols/routed.h updated from FreeBSD revision 32545, circa 1998 as is Internet 5.xx, to replace the 1993 copy that seemed to be missed in the last update.
LibraryDoc & dcistructs.h typos.
filestat.c and unixlib.h function prototype of filestat corrected to reduce warnings.

Version 5.62. Tagged as 'TCPIPLibs-5_62'
@
text
@d1 1
a1 1
/* (5.62)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.62
d9 1
a9 1
#define Module_Date_CMHG                23 Jun 2017
d11 2
a12 2
#define Module_MajorVersion             "5.62"
#define Module_Version                  562
d14 1
a14 1
#define Module_Date                     "23 Jun 2017"
d16 1
a16 1
#define Module_ApplicationDate          "23-Jun-17"
d21 3
a23 3
#define Module_FullVersion              "5.62"
#define Module_HelpVersion              "5.62 (23 Jun 2017)"
#define Module_LibraryVersionInfo       "5:62"
@


4.66
log
@Add missing singularly linked list initialiser
Macros merged from FreeBSD SVN revision 51955.

Version 5.61. Tagged as 'TCPIPLibs-5_61'
@
text
@d1 1
a1 1
/* (5.61)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.61
d9 1
a9 1
#define Module_Date_CMHG                22 Mar 2016
d11 2
a12 2
#define Module_MajorVersion             "5.61"
#define Module_Version                  561
d14 1
a14 1
#define Module_Date                     "22 Mar 2016"
d16 1
a16 1
#define Module_ApplicationDate          "22-Mar-16"
d21 3
a23 3
#define Module_FullVersion              "5.61"
#define Module_HelpVersion              "5.61 (22 Mar 2016)"
#define Module_LibraryVersionInfo       "5:61"
@


4.65
log
@Some extra DCI4 definitions
Define slot types for SDIO (for ethernet via SDIODriver) and the HAL system and peripheral buses (for ethernet via MACs on board the SOC).
Bump DCI revision to 4.07.

Version 5.60. Tagged as 'TCPIPLibs-5_60'
@
text
@d1 1
a1 1
/* (5.60)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.60
d9 1
a9 1
#define Module_Date_CMHG                06 Nov 2014
d11 2
a12 2
#define Module_MajorVersion             "5.60"
#define Module_Version                  560
d14 1
a14 1
#define Module_Date                     "06 Nov 2014"
d16 1
a16 1
#define Module_ApplicationDate          "06-Nov-14"
d21 3
a23 3
#define Module_FullVersion              "5.60"
#define Module_HelpVersion              "5.60 (06 Nov 2014)"
#define Module_LibraryVersionInfo       "5:60"
@


4.64
log
@Make use of StdTools
Use ${TOUCH} instead of *Create.
Tested exports of header and library, no issues seen.

Version 5.59. Tagged as 'TCPIPLibs-5_59'
@
text
@d1 1
a1 1
/* (5.59)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.59
d9 1
a9 1
#define Module_Date_CMHG                28 Jun 2014
d11 2
a12 2
#define Module_MajorVersion             "5.59"
#define Module_Version                  559
d14 1
a14 1
#define Module_Date                     "28 Jun 2014"
d16 1
a16 1
#define Module_ApplicationDate          "28-Jun-14"
d21 3
a23 3
#define Module_FullVersion              "5.59"
#define Module_HelpVersion              "5.59 (28 Jun 2014)"
#define Module_LibraryVersionInfo       "5:59"
@


4.63
log
@Build fixes for cc 5.70
The built in headers with cc 5.70 include new non-ANSI defines in <errno.h> which clash with some of the names in TCPIPLibs:sys/errno.h
This change extends the practice in some of the libs to not include <errno.h> when __unix is not defined (since the symbol for errno is also declared as extern at the top of the TCPIPLibs copy) to avoid the duplication and hence the clash.
Also, add error text for EAUTH and ENEEDAUTH (text from FreeBSD release 9.0.0 SVN revision 229286) in line with those the Internet module knows about in AUNMsgs.
Built with cc 5.70, but no runtime testing.


Version 5.58. Tagged as 'TCPIPLibs-5_58'
@
text
@d1 1
a1 1
/* (5.58)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.58
d9 1
a9 1
#define Module_Date_CMHG                26 May 2013
d11 2
a12 2
#define Module_MajorVersion             "5.58"
#define Module_Version                  558
d14 1
a14 1
#define Module_Date                     "26 May 2013"
d16 1
a16 1
#define Module_ApplicationDate          "26-May-13"
d21 3
a23 3
#define Module_FullVersion              "5.58"
#define Module_HelpVersion              "5.58 (26 May 2013)"
#define Module_LibraryVersionInfo       "5:58"
@


4.62
log
@Update sys/errno.h from FreeBSD
This is SVN revision 229286 from FreeBSD 9.0.0, with the RISC OS-isms left at the top.
The numbers for EDOM, ERANGE, and EILSEQ are redefined if already defined, to sidestep clashes with those defined by ISO9899.

Version 5.57. Tagged as 'TCPIPLibs-5_57'
@
text
@d1 1
a1 1
/* (5.57)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.57
d11 2
a12 2
#define Module_MajorVersion             "5.57"
#define Module_Version                  557
d21 3
a23 3
#define Module_FullVersion              "5.57"
#define Module_HelpVersion              "5.57 (26 May 2013)"
#define Module_LibraryVersionInfo       "5:57"
@


4.61
log
@Fix routes not being cleaned up properly when an interface changes its address
Detail:
  This is the TCPIIPLibs-side part of the fix, incorporating the following changes from FreeBSD:
  headers/netinet/h/in_var - http://www.freebsd.org/cgi/cvsweb.cgi/src/sys/netinet/in_var.h.diff?r1=1.33;r2=1.33.2.1;f=h
  headers/sys/h/protosw - http://www.freebsd.org/cgi/cvsweb.cgi/src/sys/sys/protosw.h.diff?r1=1.12;r2=1.13;f=h
  This provides us with the fix for this bug:
  http://www.freebsd.org/cgi/query-pr.cgi?pr=20785
  Other required changes:
  headers/netccitt/h/x25 - Removed conflicting PRC_IFUP definition (this header was actually deleted from FreeBSD before PRC_IFUP was fully implemented)
  headers/netinet/h/ip_var - Add rip_ctlinput prototype
Admin:
  Tested on Raspberry Pi
  Fixes issue reported on forums with ShareFS not always working:
  http://www.riscosopen.org/forum/forums/5/topics/1193


Version 5.56. Tagged as 'TCPIPLibs-5_56'
@
text
@d1 1
a1 1
/* (5.56)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.56
d9 1
a9 1
#define Module_Date_CMHG                26 Aug 2012
d11 2
a12 2
#define Module_MajorVersion             "5.56"
#define Module_Version                  556
d14 1
a14 1
#define Module_Date                     "26 Aug 2012"
d16 1
a16 1
#define Module_ApplicationDate          "26-Aug-12"
d21 3
a23 3
#define Module_FullVersion              "5.56"
#define Module_HelpVersion              "5.56 (26 Aug 2012)"
#define Module_LibraryVersionInfo       "5:56"
@


4.60
log
@Set aside Dib slot numbers for up to 16 USB buses.
Remove definition of "Bad SWI" (0x1E6) since it's not a TCPIPLib error.
Add defines for the protocol & driver starting/dying service calls.
This corresponds to DCI 4.06.

Version 5.55. Tagged as 'TCPIPLibs-5_55'
@
text
@d1 1
a1 1
/* (5.55)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.55
d9 1
a9 1
#define Module_Date_CMHG                18 May 2012
d11 2
a12 2
#define Module_MajorVersion             "5.55"
#define Module_Version                  555
d14 1
a14 1
#define Module_Date                     "18 May 2012"
d16 1
a16 1
#define Module_ApplicationDate          "18-May-12"
d21 3
a23 3
#define Module_FullVersion              "5.55"
#define Module_HelpVersion              "5.55 (18 May 2012)"
#define Module_LibraryVersionInfo       "5:55"
@


4.59
log
@Add IP checksumming flag bits from DCI 4.05.
Not actually implemented yet, but allocated.
Also trimmed out 2x service call definitions nothing to do with TCP/IP.

Version 5.54. Tagged as 'TCPIPLibs-5_54'
@
text
@d1 1
a1 1
/* (5.54)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.54
d9 1
a9 1
#define Module_Date_CMHG                09 May 2012
d11 2
a12 2
#define Module_MajorVersion             "5.54"
#define Module_Version                  554
d14 1
a14 1
#define Module_Date                     "09 May 2012"
d16 1
a16 1
#define Module_ApplicationDate          "09-May-12"
d21 3
a23 3
#define Module_FullVersion              "5.54"
#define Module_HelpVersion              "5.54 (09 May 2012)"
#define Module_LibraryVersionInfo       "5:54"
@


4.58
log
@Replace mkveneers build tool with Perl version
Detail:
  socklib/mkveeners,102 - New Perl version of mkveneers tool, to workaround 26/32bit clib issues when building PlingSystem on 32bit hosts
  socklib/mkveeners.mk, socklib/c/mkveneers - Removed old C version
  socklib/Makefile, socklib/!MkClean,fd7 - Updated to use Perl version
Admin:
  Tested briefly; produces identical output files to the C version (ignoring date string differences!)


Version 5.53. Tagged as 'TCPIPLibs-5_53'
@
text
@d1 1
a1 1
/* (5.53)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.53
d9 1
a9 1
#define Module_Date_CMHG                08 Mar 2012
d11 2
a12 2
#define Module_MajorVersion             "5.53"
#define Module_Version                  553
d14 1
a14 1
#define Module_Date                     "08 Mar 2012"
d16 1
a16 1
#define Module_ApplicationDate          "08-Mar-12"
d21 3
a23 3
#define Module_FullVersion              "5.53"
#define Module_HelpVersion              "5.53 (08 Mar 2012)"
#define Module_LibraryVersionInfo       "5:53"
@


4.57
log
@Replace "-wipe" with "x wipe" in makefiles to remove annoying errors.

Version 5.52. Tagged as 'TCPIPLibs-5_52'
@
text
@d1 1
a1 1
/* (5.52)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.52
d9 1
a9 1
#define Module_Date_CMHG                14 Jan 2012
d11 2
a12 2
#define Module_MajorVersion             "5.52"
#define Module_Version                  552
d14 1
a14 1
#define Module_Date                     "14 Jan 2012"
d16 1
a16 1
#define Module_ApplicationDate          "14-Jan-12"
d21 3
a23 3
#define Module_FullVersion              "5.52"
#define Module_HelpVersion              "5.52 (14 Jan 2012)"
#define Module_LibraryVersionInfo       "5:52"
@


4.56
log
@Makefile fixes.

Version 5.51. Tagged as 'TCPIPLibs-5_51'
@
text
@d1 1
a1 1
/* (5.51)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.51
d11 2
a12 2
#define Module_MajorVersion             "5.51"
#define Module_Version                  551
d21 3
a23 3
#define Module_FullVersion              "5.51"
#define Module_HelpVersion              "5.51 (14 Jan 2012)"
#define Module_LibraryVersionInfo       "5:51"
@


4.55
log
@Incremented version number, no other change.
Previous changes were untagged, but incrementing the version number gives
us a tag we can associate with the official RISC OS 5.16 release.

Version 5.50. Tagged as 'TCPIPLibs-5_50'
@
text
@d1 1
a1 1
/* (5.50)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.50
d9 1
a9 1
#define Module_Date_CMHG                19 Jan 2010
d11 2
a12 2
#define Module_MajorVersion             "5.50"
#define Module_Version                  550
d14 1
a14 1
#define Module_Date                     "19 Jan 2010"
d16 1
a16 1
#define Module_ApplicationDate          "19-Jan-10"
d21 3
a23 3
#define Module_FullVersion              "5.50"
#define Module_HelpVersion              "5.50 (19 Jan 2010)"
#define Module_LibraryVersionInfo       "5:50"
@


4.54
log
@  Added install rule
Admin:
  This is only intended for use when building the disc image for the C/C++ CD.

Retagged as 'TCPIPLibs-5_49'

Version 5.49. Not tagged
@
text
@d1 1
a1 1
/* (5.49)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.49
d9 1
a9 1
#define Module_Date_CMHG                26 Jun 2009
d11 2
a12 2
#define Module_MajorVersion             "5.49"
#define Module_Version                  549
d14 1
a14 1
#define Module_Date                     "26 Jun 2009"
d16 1
a16 1
#define Module_ApplicationDate          "26-Jun-09"
d21 3
a23 3
#define Module_FullVersion              "5.49"
#define Module_HelpVersion              "5.49 (26 Jun 2009)"
#define Module_LibraryVersionInfo       "5:49"
@


4.53
log
@  Build fix
Detail:
  The build utility socklib.mkveneers, compiled at build time, is now built
  using the HostTools shared makefile, and so will execute on any RISC OS build
  host even if the default compiler options are to target an incompatible ARM
  architecture. Socklib's makefile didn't have dynamic dependency support: this
  has been added. Also now sets the throwback flag when doing builds via the
  !Make and !MkExport obey files.
Admin:
  Tested using an APCS-R build on an Iyonix.

Version 5.49. Not tagged
@
text
@d9 1
a9 1
#define Module_Date_CMHG                14 Jun 2009
d14 1
a14 1
#define Module_Date                     "14 Jun 2009"
d16 1
a16 1
#define Module_ApplicationDate          "14-Jun-09"
d22 1
a22 1
#define Module_HelpVersion              "5.49 (14 Jun 2009)"
@


4.52
log
@  Fix for new compiler
Detail:
  Obsolete #include of strings.h changed to string.h as this is
  now faulted by the latest cc.
Admin:
  To be tested in STB ROM build

Version 5.49. Tagged as 'TCPIPLibs-5_49'
@
text
@d4 1
a4 1
 * Last processed by srccommit version: 1.2.
d9 1
a9 1
#define Module_Date_CMHG                30 Mar 2005
d14 1
a14 1
#define Module_Date                     "30 Mar 2005"
d16 1
a16 1
#define Module_ApplicationDate          "30-Mar-05"
d19 1
a19 1
#define Module_ComponentPath            "RiscOS/Sources/Lib/TCPIPLibs"
d22 1
a22 1
#define Module_HelpVersion              "5.49 (30 Mar 2005)"
@


4.51
log
@  Build changes
Detail:
  socklib now builds on 32-bit machines with a 26-bit environment.
  socklib also creates install directory with mkdir -p rather than cdir
Admin:
  Works in STB Baseline build.

Version 5.48. Tagged as 'TCPIPLibs-5_48'
@
text
@d1 1
a1 1
/* (5.48)
d4 1
a4 1
 * Last processed by srccommit version: 1.68.
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.48
d9 1
a9 1
#define Module_Date_CMHG                01 Jul 2004
d11 2
a12 2
#define Module_MajorVersion             "5.48"
#define Module_Version                  548
d14 1
a14 1
#define Module_Date                     "01 Jul 2004"
d16 1
a16 1
#define Module_ApplicationDate          "01-Jul-04"
d21 3
a23 3
#define Module_FullVersion              "5.48"
#define Module_HelpVersion              "5.48 (01 Jul 2004)"
#define Module_LibraryVersionInfo       "5:48"
@


4.50
log
@  Added some NetBSDisms to help with the USB2 porting work.
Detail:
  * Added macro __KERNEL_RCSID to sys/cdefs.h
  * Added SIMPLEQ macros to sys/queue.h as aliases for FreeBSD's STAILQ
    macros
  * Added STAILQ/SIMPLEQ_FOREACH macro, since it's found inthe latest
    versions of both the FreeBSD and NetBSD sources
Admin:
  Tested against current USB2 sources.

Version 5.47. Tagged as 'TCPIPLibs-5_47'
@
text
@d1 1
a1 1
/* (5.47)
d4 1
a4 1
 * Last processed by srccommit version: 1.2.
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.47
d9 1
a9 1
#define Module_Date_CMHG                21 Jan 2004
d11 2
a12 2
#define Module_MajorVersion             "5.47"
#define Module_Version                  547
d14 1
a14 1
#define Module_Date                     "21 Jan 2004"
d16 1
a16 1
#define Module_ApplicationDate          "21-Jan-04"
d21 3
a23 3
#define Module_FullVersion              "5.47"
#define Module_HelpVersion              "5.47 (21 Jan 2004)"
#define Module_LibraryVersionInfo       "5:47"
@


4.49
log
@Made netinet/in.h compatible with modern C++ compilers - change merged in
from current NetBSD source code.

Version 5.46. Tagged as 'TCPIPLibs-5_46'
@
text
@d1 1
a1 1
/* (5.46)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.46
d9 1
a9 1
#define Module_Date_CMHG                02 Dec 2003
d11 2
a12 2
#define Module_MajorVersion             "5.46"
#define Module_Version                  546
d14 1
a14 1
#define Module_Date                     "02 Dec 2003"
d16 1
a16 1
#define Module_ApplicationDate          "02-Dec-03"
d21 3
a23 3
#define Module_FullVersion              "5.46"
#define Module_HelpVersion              "5.46 (02 Dec 2003)"
#define Module_LibraryVersionInfo       "5:46"
@


4.48
log
@Addition of 1000 base T and fibre magic constant to DCI spec.
Addition of support for HAL timers
Removed a lingering __P in the resolver header file (and while we're
at it all the others).
Added missing open bracket to vn_opn,reported by D.Ellis.

Version 5.45. Tagged as 'TCPIPLibs-5_45'
@
text
@d1 1
a1 1
/* (5.45)
d4 1
a4 1
 * Last processed by srccommit version: 1.68.
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.45
d9 1
a9 1
#define Module_Date_CMHG                07 Jan 2003
d11 2
a12 2
#define Module_MajorVersion             "5.45"
#define Module_Version                  545
d14 1
a14 1
#define Module_Date                     "07 Jan 2003"
d16 1
a16 1
#define Module_ApplicationDate          "07-Jan-03"
d21 3
a23 3
#define Module_FullVersion              "5.45"
#define Module_HelpVersion              "5.45 (07 Jan 2003)"
#define Module_LibraryVersionInfo       "5:45"
@


4.47
log
@Adjustments to machine/types.h and sys/proc.h for new compiler.
rx_cksum added to struct rx_hdr as per DCI 4.05.
1000Mb/s network types added for EtherK - need to check allocations.

Version 5.44. Tagged as 'TCPIPLibs-5_44'
@
text
@d1 1
a1 1
/* (5.44)
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.44
d9 1
a9 1
#define Module_Date_CMHG                30 Sep 2002
d11 2
a12 2
#define Module_MajorVersion             "5.44"
#define Module_Version                  544
d14 1
a14 1
#define Module_Date                     "30 Sep 2002"
d16 1
a16 2
#define Module_ApplicationDate2         "30-Sep-02"
#define Module_ApplicationDate4         "30-Sep-2002"
d21 3
a23 3
#define Module_FullVersion              "5.44"
#define Module_HelpVersion              "5.44 (30 Sep 2002)"
#define Module_LibraryVersionInfo       "5:44"
@


4.46
log
@  Compatible with cc 5.45.
Detail:
  Two problems: first, in machine/types.h, stdint.h was included unless
  KERNEL was defined; doing this triggers a #error unless you're working in
  C99 mode (eg rpclib and socklib, which are compiled in PCC mode).
  Second, sys/types.h tries to define its own 64-bit struct types, with names
  that clash with C99's own 64-bit types. Both are fixed by wrapping them in
  checks on the value of __STDC_VERSION__, and then only including and using
  stdint.h if the compiler is in C99 mode. Unfortunately this does generate
  warnings in PCC mode because __STDC_VERSION__ is undefined.
Admin:
  Builds, but not extensively tested.

Version 5.43. Tagged as 'TCPIPLibs-5_43'
@
text
@d1 1
a1 1
/* (5.43)
d4 1
a4 1
 * Last processed by srccommit version: 1.64.
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.43
d9 1
a9 1
#define Module_Date_CMHG                29 May 2002
d11 2
a12 2
#define Module_MajorVersion             "5.43"
#define Module_Version                  543
d14 1
a14 1
#define Module_Date                     "29 May 2002"
d16 2
a17 2
#define Module_ApplicationDate2         "29-May-02"
#define Module_ApplicationDate4         "29-May-2002"
d22 3
a24 3
#define Module_FullVersion              "5.43"
#define Module_HelpVersion              "5.43 (29 May 2002)"
#define Module_LibraryVersionInfo       "5:43"
@


4.45
log
@  Fixed headers/machine/h/types
Detail:
  The definitions of int32_t and int16_t clash with those defined in
  stdint.h. The offending declarations have been wrapped with the
  appropriate #ifdef.
Admin:
  Fixes the problem and doesn't appear to break anything in a Baseline
  build.

Version 5.42. Tagged as 'TCPIPLibs-5_42'
@
text
@d1 1
a1 1
/* (5.42)
d4 1
a4 1
 * Last processed by srccommit version: 1.62.
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.42
d9 1
a9 1
#define Module_Date_CMHG                21 Mar 2002
d11 2
a12 2
#define Module_MajorVersion             "5.42"
#define Module_Version                  542
d14 1
a14 1
#define Module_Date                     "21 Mar 2002"
d16 2
a17 2
#define Module_ApplicationDate2         "21-Mar-02"
#define Module_ApplicationDate4         "21-Mar-2002"
d22 3
a24 3
#define Module_FullVersion              "5.42"
#define Module_HelpVersion              "5.42 (21 Mar 2002)"
#define Module_LibraryVersionInfo       "5:42"
@


4.44
log
@  Committed the *right* version of clnt_udp.c
Admin:
  This one builds.


Version 5.41. Tagged as 'TCPIPLibs-5_41'
@
text
@d1 1
a1 1
/* (5.41)
d4 1
d7 1
a7 1
#define Module_MajorVersion_CMHG        5.41
d9 1
a9 1
#define Module_Date_CMHG                12 Jun 2001
d11 2
a12 2
#define Module_MajorVersion             "5.41"
#define Module_Version                  541
d14 1
a14 1
#define Module_Date                     "12 Jun 2001"
d16 2
a17 2
#define Module_ApplicationDate2         "12-Jun-01"
#define Module_ApplicationDate4         "12-Jun-2001"
d22 3
a24 2
#define Module_FullVersion              "5.41"
#define Module_HelpVersion              "5.41 (12 Jun 2001)"
@


4.43
log
@  Added a missing declaration to socklib.h
  Added EINTR detection in UDP RPC clients.
Admin:
  NFS module seems to work OK still when you press ESCAPE.


Version 5.40. Tagged as 'TCPIPLibs-5_40'
@
text
@d1 1
a1 1
/* (5.40)
d6 1
a6 1
#define Module_MajorVersion_CMHG        5.40
d10 2
a11 2
#define Module_MajorVersion             "5.40"
#define Module_Version                  540
d21 2
a22 2
#define Module_FullVersion              "5.40"
#define Module_HelpVersion              "5.40 (12 Jun 2001)"
@


4.42
log
@  Documentation update ONLY.
Detail:
  The example code showing how to re-enable IRQs in an Internet event
    handler used an obsolete method - it now uses a working method.
Admin:
  No code changes - no need to products to take this version.

Version 5.39. Tagged as 'TCPIPLibs-5_39'
@
text
@d1 1
a1 1
/* (5.39)
d6 1
a6 1
#define Module_MajorVersion_CMHG        5.39
d8 1
a8 1
#define Module_Date_CMHG                20 Mar 2001
d10 2
a11 2
#define Module_MajorVersion             "5.39"
#define Module_Version                  539
d13 1
a13 1
#define Module_Date                     "20 Mar 2001"
d15 2
a16 2
#define Module_ApplicationDate2         "20-Mar-01"
#define Module_ApplicationDate4         "20-Mar-2001"
d21 2
a22 2
#define Module_FullVersion              "5.39"
#define Module_HelpVersion              "5.39 (20 Mar 2001)"
@


4.41
log
@Removed dependency on DebugLib

Version 5.38. Tagged as 'TCPIPLibs-5_38'
@
text
@d1 1
a1 1
/* (5.38)
d6 1
a6 1
#define Module_MajorVersion_CMHG        5.38
d8 1
a8 1
#define Module_Date_CMHG                04 May 2000
d10 2
a11 2
#define Module_MajorVersion             "5.38"
#define Module_Version                  538
d13 1
a13 1
#define Module_Date                     "04 May 2000"
d15 8
a22 1
#define Module_FullVersion              "5.38"
@


4.40
log
@Removed bogus declaration of malloc in non-ANSI compile case

Version 5.37. Tagged as 'TCPIPLibs-5_37'
@
text
@d1 1
a1 1
/* (5.37)
d6 1
a6 1
#define Module_MajorVersion_CMHG        5.37
d8 1
a8 1
#define Module_Date_CMHG                03 May 2000
d10 2
a11 2
#define Module_MajorVersion             "5.37"
#define Module_Version                  537
d13 1
a13 1
#define Module_Date                     "03 May 2000"
d15 1
a15 1
#define Module_FullVersion              "5.37"
@


4.39
log
@  Minor modification to check that re_errno falls within the bounds
  0..sys_nerr-1 before attempting to dereference sys_errlist array
  with it.
Admin:
  Built.
  Should tidy up the output on RPC send failures (fault #1635)

Version 5.36. Tagged as 'TCPIPLibs-5_36'
@
text
@d1 1
a1 1
/* (5.36)
d6 1
a6 1
#define Module_MajorVersion_CMHG        5.36
d10 2
a11 2
#define Module_MajorVersion             "5.36"
#define Module_Version                  536
d15 1
a15 1
#define Module_FullVersion              "5.36"
@


4.38
log
@  Import of newer socklib.
Detail:
  Missed on previous checkin.  This is the 32-bit capable socklib.
Admin:
  Tested.

Version 5.35. Tagged as 'TCPIPLibs-5_35'
@
text
@d1 1
a1 1
/* (5.35)
d6 1
a6 1
#define Module_MajorVersion_CMHG        5.35
d8 1
a8 1
#define Module_Date_CMHG                02 Dec 1999
d10 2
a11 2
#define Module_MajorVersion             "5.35"
#define Module_Version                  535
d13 1
a13 1
#define Module_Date                     "02 Dec 1999"
d15 1
a15 1
#define Module_FullVersion              "5.35"
@


4.37
log
@  Fix to unixlib.s.asm
Detail:
  Return address was being pulled from the wrong stack!
Admin:
  Tested.

Version 5.34. Tagged as 'TCPIPLibs-5_34'
@
text
@d1 1
a1 1
/* (5.34)
d6 1
a6 1
#define Module_MajorVersion_CMHG        5.34
d10 2
a11 2
#define Module_MajorVersion             "5.34"
#define Module_Version                  534
d15 1
a15 1
#define Module_FullVersion              "5.34"
@


4.36
log
@Detail:
  Exports VersionNum as LibVersion to avoid path cockups.
Admin:
  If you ever exported TCPIPLibs-5_32's headers, you will need to
    manually delete the VersionNum in the Export.Lib.TCPIPLibs
    directory,

Version 5.33. Tagged as 'TCPIPLibs-5_33'
@
text
@d1 1
a1 1
/* (5.33)
d6 1
a6 1
#define Module_MajorVersion_CMHG        5.33
d8 1
a8 1
#define Module_Date_CMHG                30 Nov 1999
d10 2
a11 2
#define Module_MajorVersion             "5.33"
#define Module_Version                  533
d13 1
a13 1
#define Module_Date                     "30 Nov 1999"
d15 1
a15 1
#define Module_FullVersion              "5.33"
@


4.35
log
@  32-bit compatibility added.
  Makefile (for headers) exports LibraryDoc and VersionNum
Detail:
  mkveneers uses {CONFIG} to generate veneers that objasm will
    then build appropriately.
  callback code in rpclib extracted, now requires AsmUtils instead.
Admin:
  Built.

Version 5.32. Tagged as 'TCPIPLibs-5_32'
@
text
@d1 1
a1 1
/* (5.32)
d6 3
a8 3
#define Module_MajorVersion_CMHG     	5.32
#define Module_MinorVersion_CMHG	
#define Module_Date_CMHG      		29 Nov 1999
d10 4
a13 4
#define Module_MajorVersion     	"5.32"
#define Module_Version                  532
#define Module_MinorVersion		""
#define Module_Date      		"29 Nov 1999"
d15 1
a15 1
#define Module_FullVersion              "5.32"
@


4.34
log
@  Service_MbufManagerStatus symbol checked for predefinition.
Detail:
  The recent change to Hdr2H to place all preprocessor macro definitions
     inside parentheses (to minimise evaluation surprises) caused sys/mbuf.h
     to attempt a differing redeclaration of the above symbol.  It also uses
     parentheses now, and checks for predefinition before doing the #define
Admin:
  Required by showstat 0.01 and later (and anything else that tries to
    include both Global/Services.h and sys/mbuf.h)

Version 5.31. Tagged as 'TCPIPLibs-5_31'
@
text
@d1 1
a1 1
/* (5.31)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.31
d8 1
a8 1
#define Module_Date_CMHG      		05 Oct 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.31"
#define Module_Version                  531
d13 1
a13 1
#define Module_Date      		"05 Oct 1999"
d15 1
a15 1
#define Module_FullVersion              "5.31"
@


4.33
log
@  Added new conversion functions from latest resolver libraries.
Detail:
  New function inet_net_ntop, inet_net_pton, inet_ntop, inet_pton
    added.  These are thread-safe versions of other functions and
    should be used in preference to things like inet_ntoa, inet_aton.
    These functions are IPv6 aware - pass AF_INET6 to them if you
    want IPv6 operations, pass AF_INET if you want IPv4 (ie. current
    behaviour).
  Extra address family, protocol family definitions added for IPv6
    (and others since they were there in the FreeBSD headers),
    specifically: AF_INET6, PF_INET6, IN6ADDRSZ.  Corresponding
    extra DNS record types (T_AAAA) have been added too.
  APIs are standard APIs - documentation added to LibraryDoc.
  New inetlib/c/* files also contain their own documentation.
Admin:
  Required by TFTPserver (RISC OS version)
  Note: addition of these macros to the header file does *not* imply
    that the Internet module now supports IPv6.  These are header
    file macros added for the benefit of the conversion routines.

Version 5.30. Tagged as 'TCPIPLibs-5_30'
@
text
@d1 1
a1 1
/* (5.30)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.30
d8 1
a8 1
#define Module_Date_CMHG      		28 Jul 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.30"
#define Module_Version                  530
d13 1
a13 1
#define Module_Date      		"28 Jul 1999"
d15 1
a15 1
#define Module_FullVersion              "5.30"
@


4.32
log
@Header fixes for Internet 5.33

Version 5.29. Tagged as 'TCPIPLibs-5_29'
@
text
@d1 1
a1 1
/* (5.29)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.29
d8 1
a8 1
#define Module_Date_CMHG      		22 Jul 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.29"
#define Module_Version                  529
d13 1
a13 1
#define Module_Date      		"22 Jul 1999"
d15 1
a15 1
#define Module_FullVersion              "5.29"
@


4.31
log
@Disabled interrupts around peek of timer 0.

Version 5.28. Tagged as 'TCPIPLibs-5_28'
@
text
@d1 1
a1 1
/* (5.28)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.28
d8 1
a8 1
#define Module_Date_CMHG      		21 Jul 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.28"
#define Module_Version                  528
d13 1
a13 1
#define Module_Date      		"21 Jul 1999"
d15 1
a15 1
#define Module_FullVersion              "5.28"
@


4.30
log
@Modified gettimeofday() to return microsecond accuracy, as long as it's
running on an IOC or IOMD system.

Version 5.27. Tagged as 'TCPIPLibs-5_27'
@
text
@d1 1
a1 1
/* (5.27)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.27
d8 1
a8 1
#define Module_Date_CMHG      		19 Jul 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.27"
#define Module_Version                  527
d13 1
a13 1
#define Module_Date      		"19 Jul 1999"
d15 1
a15 1
#define Module_FullVersion              "5.27"
@


4.29
log
@Added <bitstring.h>, a funky bitfield manipulation set of macros.
Added ffs() and sleep() to unixlib.
Added ALIGN() to <machine/param.h> - this allows CMSG_NXTHDR() to work.

Version 5.26. Tagged as 'TCPIPLibs-5_26'
@
text
@d1 1
a1 1
/* (5.26)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.26
d8 1
a8 1
#define Module_Date_CMHG      		15 Jul 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.26"
#define Module_Version                  526
d13 1
a13 1
#define Module_Date      		"15 Jul 1999"
d15 1
a15 1
#define Module_FullVersion              "5.26"
@


4.28
log
@Added err_set_silent() to unixlib err() functions.
Added strdup() to unixlib.
Added sysctlbyname() to inetlib.
All the header file changes for Internet 5.31.

Version 5.25. Tagged as 'TCPIPLibs-5_25'
@
text
@d1 1
a1 1
/* (5.25)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.25
d8 1
a8 1
#define Module_Date_CMHG      		13 Jul 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.25"
#define Module_Version                  525
d13 1
a13 1
#define Module_Date      		"13 Jul 1999"
d15 1
a15 1
#define Module_FullVersion              "5.25"
@


4.27
log
@A bit more FreeBSD shuffling in the net/if_arp & netinet/if_ether area.

Version 5.24. Tagged as 'TCPIPLibs-5_24'
@
text
@d1 1
a1 1
/* (5.24)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.24
d8 1
a8 1
#define Module_Date_CMHG      		08 Jul 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.24"
#define Module_Version                  524
d13 1
a13 1
#define Module_Date      		"08 Jul 1999"
d15 1
a15 1
#define Module_FullVersion              "5.24"
@


4.26
log
@Assorted changes from FreeBSD. Might be some slight compatibility hiccoughs
with some sources - might need to #include a bit more before <net/if.h>.

Version 5.23. Tagged as 'TCPIPLibs-5_23'
@
text
@d1 1
a1 1
/* (5.23)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.23
d10 2
a11 2
#define Module_MajorVersion     	"5.23"
#define Module_Version                  523
d15 1
a15 1
#define Module_FullVersion              "5.23"
@


4.25
log
@Lots of options added to <protocols/dhcp.h>

Version 5.22. Tagged as 'TCPIPLibs-5_22'
@
text
@d1 1
a1 1
/* (5.22)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.22
d8 1
a8 1
#define Module_Date_CMHG      		05 Jul 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.22"
#define Module_Version                  522
d13 1
a13 1
#define Module_Date      		"05 Jul 1999"
d15 1
a15 1
#define Module_FullVersion              "5.22"
@


4.24
log
@Minor tweaks for latest command line tools.

Version 5.21. Tagged as 'TCPIPLibs-5_21'
@
text
@d1 1
a1 1
/* (5.21)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.21
d8 1
a8 1
#define Module_Date_CMHG      		01 Jul 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.21"
#define Module_Version                  521
d13 1
a13 1
#define Module_Date      		"01 Jul 1999"
d15 1
a15 1
#define Module_FullVersion              "5.21"
@


4.23
log
@Header changes required by Internet 5.27. Note that these changes affect
the layout of several structures peeked by such tools as InetStat. These will
need recompiling for Internet 5.27.

Version 5.20. Tagged as 'TCPIPLibs-5_20'
@
text
@d1 1
a1 1
/* (5.20)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.20
d8 1
a8 1
#define Module_Date_CMHG      		30 Jun 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.20"
#define Module_Version                  520
d13 1
a13 1
#define Module_Date      		"30 Jun 1999"
d15 1
a15 1
#define Module_FullVersion              "5.20"
@


4.22
log
@Added #define for service call InternetStatus_DuplicateIPAddress.
See LibraryDoc for details.

Version 5.19. Tagged as 'TCPIPLibs-5_19'
@
text
@d1 1
a1 1
/* (5.19)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.19
d8 1
a8 1
#define Module_Date_CMHG      		25 Jun 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.19"
#define Module_Version                  519
d13 1
a13 1
#define Module_Date      		"25 Jun 1999"
d15 1
a15 1
#define Module_FullVersion              "5.19"
@


4.21
log
@  Added new service call sub-reason code.
Detail:
  Service_InternetStatus/DHCPInform is issued whenever a response to a
    DHCPINFORM is received.
  Modules which claim sub-reason code 3 (DynamicBootStart) can now alter
    R2 (if they claim the reason code) to contain the return value for
    the Internet module's ioctl handler.  Previously, the Internet module
    always returned EADDRUNAVAIL if the service call was claimed, which
    meant that callers had to use other means to determine whether the
    dynamic boot had completed (eg. by querying the DHCP module directly)
Admin:
  Documentation file LibraryDoc updated with details.
  Required by Internet 5.25 and later.
  Required by DHCP 0.05 and later.

Version 5.18. Tagged as 'TCPIPLibs-5_18'
@
text
@d1 1
a1 1
/* (5.18)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.18
d8 1
a8 1
#define Module_Date_CMHG      		23 Jun 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.18"
#define Module_Version                  518
d13 1
a13 1
#define Module_Date      		"23 Jun 1999"
d15 1
a15 1
#define Module_FullVersion              "5.18"
@


4.20
log
@if_multiaddrs moved to end of struct ifnet to save binary compatibility
grief with all those horrid little progs like inetstat and ifconfig that
inspect the Internet module's internal structures directly.

Version 5.17. Tagged as 'TCPIPLibs-5_17'
@
text
@d1 1
a1 1
/* (5.17)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.17
d10 2
a11 2
#define Module_MajorVersion     	"5.17"
#define Module_Version                  517
d15 1
a15 1
#define Module_FullVersion              "5.17"
@


4.19
log
@Added if_multiaddrs member to struct ifnet to allow Internet module to keep
track of required multicast addresses. Similar to ac_multiaddrs in struct
arpcom, but we require logical addresses, not just MAC addresses, for DCI.

Version 5.16. Tagged as 'TCPIPLibs-5_16'
@
text
@d1 1
a1 1
/* (5.16)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.16
d8 1
a8 1
#define Module_Date_CMHG      		22 Jun 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.16"
#define Module_Version                  516
d13 1
a13 1
#define Module_Date      		"22 Jun 1999"
d15 1
a15 1
#define Module_FullVersion              "5.16"
@


4.18
log
@Changed all remaining occurrences of __const with const to match the
other references to it in unistd.h.  This fixes compilation in
-pcc mode.

Version 5.15. Tagged as 'TCPIPLibs-5_15'
@
text
@d1 1
a1 1
/* (5.15)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.15
d8 1
a8 1
#define Module_Date_CMHG      		07 Jun 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.15"
#define Module_Version                  515
d13 1
a13 1
#define Module_Date      		"07 Jun 1999"
d15 1
a15 1
#define Module_FullVersion              "5.15"
@


4.17
log
@  TCP sequence number definition changes.
Detail:
  A new function has been declared for generating initial sequence
    numbers for the Internet module's TCP implementation.  More details
    in Internet module logs.
Admin:
  Required by Internet 5.22
    (CVS: RiscOS/Sources/Networking/AUN/Internet  tag: Internet-5_22)

Version 5.14. Tagged as 'TCPIPLibs-5_14'
@
text
@d1 1
a1 1
/* (5.14)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.14
d8 1
a8 1
#define Module_Date_CMHG      		03 Jun 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.14"
#define Module_Version                  514
d13 1
a13 1
#define Module_Date      		"03 Jun 1999"
d15 1
a15 1
#define Module_FullVersion              "5.14"
@


4.16
log
@  Added data allocation redirection capability to RPClib.
Detail:
  The low-level malloc and free calls made by the RPC and XDR libraries
    can now be intercepted if an application defined the two functions
    _rpclib_malloc and _rpclib_free with appropriate prototypes as per
    malloc and free.  This means that you can override the default
    behaviour of stuffing the data into the RMA if you want to, but that
    the default of using the RMA is retained.
Admin:
  Tested with the NFS module.
  Required by NFS 3.00 and later (CVS tag: NFS-3_00)

Version 5.13. Tagged as 'TCPIPLibs-5_13'
@
text
@d1 1
a1 1
/* (5.13)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.13
d8 1
a8 1
#define Module_Date_CMHG      		11 May 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.13"
#define Module_Version                  513
d13 1
a13 1
#define Module_Date      		"11 May 1999"
d15 1
a15 1
#define Module_FullVersion              "5.13"
@


4.15
log
@Prototyped _DELAY() properly.
No longer #defines away const, volatile etc when compiling -pcc.

Version 5.12. Tagged as 'TCPIPLibs-5_12'
@
text
@d1 1
a1 1
/* (5.12)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.12
d10 2
a11 2
#define Module_MajorVersion     	"5.12"
#define Module_Version                  512
d15 1
a15 1
#define Module_FullVersion              "5.12"
@


4.14
log
@  New tag to cover all changes required by Internet 5.21 and DHCP 0.01
Admin:
  Required by Internet 5.21, DHCP 0.01, IPConfig 0.15.

Version 5.11. Tagged as 'TCPIPLibs-5_11'
@
text
@d1 1
a1 1
/* (5.11)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.11
d8 1
a8 1
#define Module_Date_CMHG      		30 Mar 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.11"
#define Module_Version                  511
d13 1
a13 1
#define Module_Date      		"30 Mar 1999"
d15 1
@


4.13
log
@Summary
    Updated net/if.h and sys/mbuf.h to work when used with C++.
Detail
    In net/if.h struct if_data was defined within struct ifnet, but also
    referred to later outside of struct ifnet.  This is fine in C since
    the scope of strutures persists to the end of the translation unit, but
    in C++ it persists until the end of the block.

    This problem is solved by moving the definition of struct if_data out
    of struct ifnet and into the outermost level, as it is in the current
    FreeBSD sources.

    In sys/mbuf.h there were two defintions of struct mbuf; one was for ANSI C
    and one was for K&R C, and the appropriate one was chosen by testing whether
    __STDC__ was defined or not.  The ANSI C version of the structure has
    const members in it, which C++ does not allow unless the structure/class
    has a constructor (since const members can only be initialised in a
    constructor's initialiser-list).  The C++ standard says that use of
    __STDC__ is implementation defined, which means we can't rely on picking up
    the non-ANSI C version of the structure in C++ code.

    A third definition of the structure has been added, which is used if
    __cplusplus is defined.  It retains the const members, but declares a
    private constructor, which keeps the compiler happy with respect to the
    const members.  Under the terms of the C++ standard, this is still a
    'P.O.D.' (Plain Old Data) structure, so it is guaranteed to have the same
    storage layout as the C one.  In addition, the m_sys* members have been
    made private, since the client should never access these.
Admin
    Tested with the ATM driver to verify the the changes work with C++.
    Tested with PPP to ensure that things still work for C.
    Version incremented to 5.10 and tagged.

Version 5.10. Tagged as 'TCPIPLibs-5_10'
@
text
@d1 1
a1 1
/* (5.10)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.10
d10 2
a11 2
#define Module_MajorVersion     	"5.10"
#define Module_Version                  510
@


4.12
log
@  Support for DHCP module.
Detail:
  Added a new ioctl (SIOCGWHOIAMD) for the private use of the
    DHCP module.
  Defined structure for ioctl data in protocols/dhcp.h.  The
    "ifr_flags" field is the union part that is used to pass
    action flags to Internet.
  Updated comment that protocol is defined by RFC2131 & RFC2132.
Admin:
  Software which includes protocols/dhcp.h may need modification
    to ensure that net/if.h is included too, as it requires a
    definition of struct ifreq.  No software in Renaissance is
    believed to be affected currently.
  Required by Internet 5.20
    (Internet-5_20 in RiscOS/Sources/Networking/AUN/Internet)
  Required by DHCP 0.00
    (DHCP-0_00 in RiscOS/Sources/Networking/DHCP)


Version 5.09. Tagged as 'TCPIPLibs-5_09'
@
text
@d1 1
a1 1
/* (5.09)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.09
d8 1
a8 1
#define Module_Date_CMHG      		25 Mar 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.09"
#define Module_Version                  509
d13 1
a13 1
#define Module_Date      		"25 Mar 1999"
@


4.11
log
@  Macro correction Makefile
  64-bit XDR routines fixed.
Detail:
  Makefile now defines COMPAT_INET4 not DOMPAT_INET4 (!)
  Makefile no longer lists the ALF file contents after building them.
  64-bit bit XDR routines now pass pointers to the fields in the 64-bit
    structure, not the fields themselves.  Previously this meant that
    attempting to XDR_DECODE any 64-bit quantity would cause a data
    abort.
Admin:
  Tested as underlying support library for updated NFS module which
    implements NFSv3.

Version 5.08. Tagged as 'TCPIPLibs-5_08'
@
text
@d1 1
a1 1
/* (5.08)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.08
d8 1
a8 1
#define Module_Date_CMHG      		19 Mar 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.08"
#define Module_Version                  508
d13 1
a13 1
#define Module_Date      		"19 Mar 1999"
@


4.10
log
@  64-bit type support in RPC.
  Port discovery function now prototyped!
Detail:
  64-bit support has been added to XDR for any protocols that might
    need it (eg. NFS3)
  getrpcport now has a prototype (rpc/netdb.h)
Admin:
  Tested by building the NFS3 lower-level support files from the
    protocol definition file and verified that the rpcgen generated
    code would compile and link without error.
  This version represents issue 1 of 1215,201/DR and 1215,202/DR.
  This version (5.07) is associated with AMR 5201.

Version 5.07. Tagged as 'TCPIPLibs-5_07'
@
text
@d1 1
a1 1
/* (5.07)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.07
d8 1
a8 1
#define Module_Date_CMHG      		16 Mar 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.07"
#define Module_Version                  507
d13 1
a13 1
#define Module_Date      		"16 Mar 1999"
@


4.9
log
@  Update of TCPIPLibs for rpc/tcp and to define service call reason codes.
  New InternetStatus service call reason codes added and documented.
Detail:
  clnt_tcp.c added and TCP support recompiled in to other parts of RPC
    library.  Requested by third party.
  New macro definitions for InternetStatus_DynamicBootStart and
    InternetStatus_DynamicBootReply added to sys/dcistructs.h
  Documentation for new service calls added to LibraryDoc.
Admin:
  rusers application built against new RPC library to prove rpc/tcp
    support is present and correct.
  Required by Internet 5.19 and later.
    (CVS: RiscOS/Sources/Networking/AUN/Internet (tag: Internet-5_19)
  Required by IPConfig 0.09 and later.
    (CVS: RiscOS/Sources/Networking/IPConfig (tag: IPConfig-0_09)
  Required by development builds of LanManFS 2.00 and later.
    (CVS: RiscOS/Sources/Networking/Omni/Protocols/LanManFS;
          earliest tag: LanManFS-1_87_1_1_1_1_2_12 or LanManFS-2_00)


Version 5.06. Tagged as 'TCPIPLibs-5_06'
@
text
@d1 1
a1 1
/* (5.06)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.06
d8 1
a8 1
#define Module_Date_CMHG      		12 Feb 1999
d10 2
a11 2
#define Module_MajorVersion     	"5.06"
#define Module_Version                  506
d13 1
a13 1
#define Module_Date      		"12 Feb 1999"
@


4.8
log
@  Fixed rpc/svc.h to be ANSI and C++ compatible.
Detail:
  rpc/rpc.h now wraps all the sub-includes with C++ protection.
  rpc/svc.h prototypes ANSI-ised (rpc/rpc.h includes it, so despite services
    not being supported under RISC OS, it still needs to be there)
  rpc/xdr.h declares struct XDR as equivalent to XDR.
Admin:
  At least this version is required by code generated by rpcgen.

Version 5.05. Tagged as 'TCPIPLibs-5_05'
@
text
@d1 1
a1 1
/* (5.05)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.05
d8 1
a8 1
#define Module_Date_CMHG      		30 Nov 1998
d10 2
a11 2
#define Module_MajorVersion     	"5.05"
#define Module_Version                  505
d13 1
a13 1
#define Module_Date      		"30 Nov 1998"
@


4.7
log
@  Prototypes upgraded to ANSI-style.  This is required so that C++ source code
    can include them (third party needs this)
  Removed duplicate headers from inside rpclib - now uses the exported headers
    which should avoid inconsistencies developing.
  No longer uses cc400 during builds.
Detail:
  Nearly every header is changed.  Parameter prototypes cross-checked against
    actual source code, Solaris 2.6 headers, and comments in the rpclib headers.
  Build improvement: no longer uses "cc400" to compile clnt_udp.c.  Previously
    this was done because newer compilers were alleged to generate broken code.
    The example quoted was the NFS module's free display.  The fault actually
    lies in the NFS module passing the wrong parameters to xdr_string!  Future
    builds of NFS will require TCPIPLibs-5_04 or later.
Admin:
  Built.  Tested by building NFS against it.  Verified free space display works
    properly (needs NFS 2.36).  Tested inclusion of all RPC headers from C++
    source file worked without warnings or errors.

Version 5.04. Tagged as 'TCPIPLibs-5_04'
@
text
@d1 1
a1 1
/* (5.04)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.04
d8 1
a8 1
#define Module_Date_CMHG      		27 Nov 1998
d10 2
a11 2
#define Module_MajorVersion     	"5.04"
#define Module_Version                  504
d13 1
a13 1
#define Module_Date      		"27 Nov 1998"
@


4.6
log
@Version number increment to cover changes required for Internet 5.16

Version 5.03. Tagged as 'TCPIPLibs-5_03'
@
text
@d1 1
a1 1
/* (5.03)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.03
d10 2
a11 2
#define Module_MajorVersion     	"5.03"
#define Module_Version                  503
@


4.5
log
@Socklib doesn't build itself every time now...

Version 5.02. Not tagged
@
text
@d1 1
a1 1
/* (5.02)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.02
d8 1
a8 1
#define Module_Date_CMHG      		22 Oct 1998
d10 2
a11 2
#define Module_MajorVersion     	"5.02"
#define Module_Version                  502
d13 1
a13 1
#define Module_Date      		"22 Oct 1998"
@


4.4
log
@Comments about cookie macro amended to be more accurate.
Fixed macro names in DHCP header file.

Version 5.02. Tagged as 'TCPIPLibs-5_02'
@
text
@d8 1
a8 1
#define Module_Date_CMHG      		15 Oct 1998
d13 1
a13 1
#define Module_Date      		"15 Oct 1998"
@


4.3
log
@Brought DCI header up to date with respect to the latest version of the
specification (0284,036/FS; ECO 4112).  Changes are:
* DCIVERSION incremented to 404
* MulticastRequest SWI number added
* Flags for MulticastRequest SWI added
* Selective multicast bit added to Inquire SWI flags
* Multicast filter capability flags added to Filter SWI flags
* Added new types to the stats interface type list
* Added half/full duplex bits to link status bits list
* Created link polarity bits list

Version 5.01. Tagged as 'TCPIPLibs-5_01'
@
text
@d1 1
a1 1
/* (5.01)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.01
d8 1
a8 1
#define Module_Date_CMHG      		12 Oct 1998
d10 2
a11 2
#define Module_MajorVersion     	"5.01"
#define Module_Version                  501
d13 1
a13 1
#define Module_Date      		"12 Oct 1998"
@


4.2
log
@Version number control added.  Library version set to 5.00

Version 5.00. Tagged as 'TCPIPLibs-5_00'
@
text
@d1 1
a1 1
/* (5.00)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	5.00
d8 1
a8 1
#define Module_Date_CMHG      		04 Sep 1998
d10 2
a11 2
#define Module_MajorVersion     	"5.00"
#define Module_Version                  500
d13 1
a13 1
#define Module_Date      		"04 Sep 1998"
@


4.1
log
@created by srccommit.
@
text
@d1 1
a1 1
/* (0.00)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.00
d10 2
a11 2
#define Module_MajorVersion     	"0.00"
#define Module_Version                  0
@
