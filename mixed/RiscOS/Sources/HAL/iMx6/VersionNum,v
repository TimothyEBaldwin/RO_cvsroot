head	1.27;
access;
symbols
	iMx6-1_01:1.27
	iMx6-1_00:1.26
	iMx6-0_99:1.25
	iMx6-0_98:1.24
	iMx6-0_97:1.23
	iMx6-0_96-1_4_2_12:1.4.2.12
	iMx6-0_96:1.22
	iMx6-0_90-1_4_2_11:1.4.2.11
	iMx6-0_95:1.21
	iMx6-0_94:1.20
	iMx6-0_93:1.19
	iMx6-0_92:1.18
	iMx6-0_91:1.17
	iMx6-0_90-1_4_2_10:1.4.2.10
	iMx6-0_90:1.16
	iMx6-0_87-1_4_2_9:1.4.2.9
	iMx6-0_89:1.15
	iMx6-0_87-1_4_2_8:1.4.2.8
	iMx6-0_88:1.14
	iMx6-0_87-1_4_2_7:1.4.2.7
	iMx6-0_87:1.13
	iMx6-0_82-1_4_2_6:1.4.2.6
	iMx6-0_86:1.12
	iMx6-0_82-1_4_2_5:1.4.2.5
	iMx6-0_85:1.11
	iMx6-0_82-1_4_2_4:1.4.2.4
	iMx6-0_84:1.10
	iMx6-0_83:1.9
	iMx6-0_82-1_4_2_3:1.4.2.3
	iMx6-0_82:1.8
	iMx6-0_81:1.7
	iMx6-0_80-1_4_2_2:1.4.2.2
	iMx6-0_80-1_4_2_1:1.4.2.1
	iMx6-0_80:1.6
	iMx6-0_79:1.5
	SMP:1.4.0.2
	SMP_bp:1.4
	iMx6-0_78:1.4
	iMx6-0_77:1.3
	iMx6-0_76:1.2
	iMx6-0_75:1.1.1.1
	Vendor:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2018.08.03.16.03.15;	author jballance;	state Exp;
branches;
next	1.26;
commitid	Ed5fXYSFhc2sUGMA;

1.26
date	2018.07.29.22.47.42;	author jlee;	state Exp;
branches;
next	1.25;
commitid	B8zbowzGiwfaj5MA;

1.25
date	2018.07.21.14.22.43;	author jballance;	state Exp;
branches;
next	1.24;
commitid	R8oReQLmQcRRL0LA;

1.24
date	2018.07.20.21.56.48;	author jballance;	state Exp;
branches;
next	1.23;
commitid	NeITGC3Pu4vDjVKA;

1.23
date	2018.07.07.16.28.48;	author jlee;	state Exp;
branches;
next	1.22;
commitid	b8EPc9OxtyZ1VdJA;

1.22
date	2018.06.29.10.04.11;	author jballance;	state Exp;
branches;
next	1.21;
commitid	JgyeCNAzvIL13aIA;

1.21
date	2018.06.28.13.45.54;	author jballance;	state Exp;
branches;
next	1.20;
commitid	1dUsazjEHsJ4j3IA;

1.20
date	2018.06.21.22.48.46;	author jballance;	state Exp;
branches;
next	1.19;
commitid	9Tz7jQFUenjgxcHA;

1.19
date	2018.05.14.08.48.32;	author jballance;	state Exp;
branches;
next	1.18;
commitid	tVQ5rUfTqgjK6fCA;

1.18
date	2018.05.14.00.02.50;	author jballance;	state Exp;
branches;
next	1.17;
commitid	88vD1KCrTuloccCA;

1.17
date	2018.05.13.22.23.54;	author jballance;	state Exp;
branches;
next	1.16;
commitid	nRyVYjPRWnosEbCA;

1.16
date	2018.02.03.18.09.35;	author jlee;	state Exp;
branches;
next	1.15;
commitid	pieqOhVOYZuvqrpA;

1.15
date	2017.12.31.12.14.25;	author jballance;	state Exp;
branches;
next	1.14;
commitid	TEKmVX6WRzZpy2lA;

1.14
date	2017.10.25.23.27.17;	author jballance;	state Exp;
branches;
next	1.13;
commitid	c0tOy1FXktxMqucA;

1.13
date	2017.09.09.11.31.56;	author rool;	state Exp;
branches;
next	1.12;
commitid	8DzW5RAwt9L2Xv6A;

1.12
date	2017.09.05.11.36.36;	author jballance;	state Exp;
branches;
next	1.11;
commitid	D4hETKnQS35C606A;

1.11
date	2017.09.04.22.37.05;	author jballance;	state Exp;
branches;
next	1.10;
commitid	A13nuuwjCmscNV5A;

1.10
date	2017.08.30.21.01.51;	author jballance;	state Exp;
branches;
next	1.9;
commitid	g4ecytoZTpeuqh5A;

1.9
date	2017.08.17.23.05.00;	author jballance;	state Exp;
branches;
next	1.8;
commitid	PKFENWA4mJtEwC3A;

1.8
date	2017.08.04.17.14.34;	author jballance;	state Exp;
branches;
next	1.7;
commitid	kUu5oRdZtEsk0V1A;

1.7
date	2017.07.30.12.12.49;	author rool;	state Exp;
branches;
next	1.6;
commitid	QATw8OIAizgMuf1A;

1.6
date	2017.07.26.07.36.48;	author jballance;	state Exp;
branches;
next	1.5;
commitid	CyZP0iPCrYQ36I0A;

1.5
date	2017.07.18.12.58.13;	author jballance;	state Exp;
branches;
next	1.4;
commitid	uFhk8BbHvz6h8IZz;

1.4
date	2017.04.24.22.26.32;	author jballance;	state Exp;
branches
	1.4.2.1;
next	1.3;
commitid	30Md76e6HArD0QOz;

1.3
date	2017.04.07.20.58.22;	author jballance;	state Exp;
branches;
next	1.2;
commitid	Mj4rXd0XPnPg4EMz;

1.2
date	2017.03.11.01.24.53;	author jballance;	state Exp;
branches;
next	1.1;
commitid	8CqrdcDGLd9vr4Jz;

1.1
date	2017.01.20.01.46.26;	author jballance;	state Exp;
branches
	1.1.1.1;
next	;
commitid	SZe1LdhMuDPoaECz;

1.4.2.1
date	2017.07.29.12.02.11;	author jlee;	state Exp;
branches;
next	1.4.2.2;
commitid	dFmrZN3Yw5D7t71A;

1.4.2.2
date	2017.07.29.12.11.11;	author jlee;	state Exp;
branches;
next	1.4.2.3;
commitid	hRleSHqgdP6dw71A;

1.4.2.3
date	2017.08.08.18.30.39;	author jlee;	state Exp;
branches;
next	1.4.2.4;
commitid	60vgLLklxfzsir2A;

1.4.2.4
date	2017.08.30.21.20.14;	author jballance;	state Exp;
branches;
next	1.4.2.5;
commitid	YZXuPCIXaffNwh5A;

1.4.2.5
date	2017.09.04.22.42.55;	author jballance;	state Exp;
branches;
next	1.4.2.6;
commitid	Dx6H1KApcdJcPV5A;

1.4.2.6
date	2017.09.05.11.39.43;	author jballance;	state Exp;
branches;
next	1.4.2.7;
commitid	9u0HBVeMsFNG706A;

1.4.2.7
date	2017.09.10.11.46.09;	author jlee;	state Exp;
branches;
next	1.4.2.8;
commitid	8tIBSqEQBXyVZD6A;

1.4.2.8
date	2017.10.28.19.46.25;	author jballance;	state Exp;
branches;
next	1.4.2.9;
commitid	XPN7jTLHC4r17RcA;

1.4.2.9
date	2017.12.31.17.47.39;	author jballance;	state Exp;
branches;
next	1.4.2.10;
commitid	D8i9Xfa5xWMJo4lA;

1.4.2.10
date	2018.02.15.23.56.01;	author jlee;	state Exp;
branches;
next	1.4.2.11;
commitid	yDvpzkXDjZqrX0rA;

1.4.2.11
date	2018.06.29.10.00.19;	author jballance;	state Exp;
branches;
next	1.4.2.12;
commitid	nkjno4wPSfzG1aIA;

1.4.2.12
date	2018.07.07.16.18.06;	author jlee;	state Exp;
branches;
next	;
commitid	UfrPnz2V1LPlRdJA;

1.1.1.1
date	2017.01.20.01.46.26;	author jballance;	state Exp;
branches;
next	;
commitid	SZe1LdhMuDPoaECz;


desc
@@


1.27
log
@  Changes to ethernet phy detection
Detail:
  Recent changes, which used active pin control when releasing the phy
  reset pin, failed to work in the RevD iMx6 boards. Reverted to older method
  for these.
Admin:
  tested in various iMx6 variants

Version 1.01. Tagged as 'iMx6-1_01'
@
text
@/* (1.01)
 *
 * This file is automatically maintained by srccommit, do not edit manually.
 * Last processed by srccommit version: 1.1.
 *
 */
#define Module_MajorVersion_CMHG        1.01
#define Module_MinorVersion_CMHG        
#define Module_Date_CMHG                03 Aug 2018

#define Module_MajorVersion             "1.01"
#define Module_Version                  101
#define Module_MinorVersion             ""
#define Module_Date                     "03 Aug 2018"

#define Module_ApplicationDate          "03-Aug-18"

#define Module_ComponentName            "iMx6"
#define Module_ComponentPath            "mixed/RiscOS/Sources/HAL/iMx6"

#define Module_FullVersion              "1.01"
#define Module_HelpVersion              "1.01 (03 Aug 2018)"
#define Module_LibraryVersionInfo       "1:1"
@


1.26
log
@Fix analogue audio being very prone to FIFO underflows
Detail:
  s/SDMA - Fix the last descriptor of circular DMA transfers to have both WRAP+CONT set. By only setting WRAP, the transfer stops, which for audio playback meant that the CPU had a very tight time window to spot the unexpected stoppage and restart it before the FIFO in the I2S transmitter runs dry.
  s/Audio - Fix FIFO underflow IRQ handler to disable the correct IRQ
  hdr/StaticWS - Update comment
Admin:
  Tested on iMx6
  Fixes frequent pauses in audio when playing CDs via DiskSample, where the bug was causing frequent FIFO underflows (and then a very noticeable pause while the OS stops and restarts audio output)
  Theoretically this could have happened with any workload, but CD+DiskSample seemed to be the perfect storm to make it very obvious.


Version 1.00. Tagged as 'iMx6-1_00'
@
text
@d1 1
a1 1
/* (1.00)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.00
d9 1
a9 1
#define Module_Date_CMHG                29 Jul 2018
d11 2
a12 2
#define Module_MajorVersion             "1.00"
#define Module_Version                  100
d14 1
a14 1
#define Module_Date                     "29 Jul 2018"
d16 1
a16 1
#define Module_ApplicationDate          "29-Jul-18"
d21 3
a23 3
#define Module_FullVersion              "1.00"
#define Module_HelpVersion              "1.00 (29 Jul 2018)"
#define Module_LibraryVersionInfo       "1:0"
@


1.25
log
@  Cleaned up standard ethernet hal startup
Detail:
  Resolved omission in earlier commit
Admin:
  Tested on iMx6

Version 0.99. Tagged as 'iMx6-0_99'
@
text
@d1 1
a1 1
/* (0.99)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.99
d9 1
a9 1
#define Module_Date_CMHG                21 Jul 2018
d11 2
a12 2
#define Module_MajorVersion             "0.99"
#define Module_Version                  99
d14 1
a14 1
#define Module_Date                     "21 Jul 2018"
d16 1
a16 1
#define Module_ApplicationDate          "21-Jul-18"
d21 3
a23 3
#define Module_FullVersion              "0.99"
#define Module_HelpVersion              "0.99 (21 Jul 2018)"
#define Module_LibraryVersionInfo       "0:99"
@


1.24
log
@  Make HAL Ethernet chip detection detect incorrect phy POR address
Detail:
  Some devices do not stabilise one of the phy configuration pins
  whilst the phy is being reset. As a result it might come up with one
  of 2 different addresses. The HAL now detects this and propagates the
  correct phy address via the Ethernet HAL_Device
Admin:
  tested on iMx6

Version 0.98. Tagged as 'iMx6-0_98'
@
text
@d1 1
a1 1
/* (0.98)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.98
d9 1
a9 1
#define Module_Date_CMHG                20 Jul 2018
d11 2
a12 2
#define Module_MajorVersion             "0.98"
#define Module_Version                  98
d14 1
a14 1
#define Module_Date                     "20 Jul 2018"
d16 1
a16 1
#define Module_ApplicationDate          "20-Jul-18"
d21 3
a23 3
#define Module_FullVersion              "0.98"
#define Module_HelpVersion              "0.98 (20 Jul 2018)"
#define Module_LibraryVersionInfo       "0:98"
@


1.23
log
@Merge SMP branch to trunk
Detail:
  Makefile, s/DBell - Add doorbell HAL device implementation, using GIC SGIs
  h/irq_numbers, hdr/iMx6IRQs - Increase IMX_INTERRUPT_COUNT. Core 0 private interrupts are 0-31, core 1 160-191, core 2 192-223, core 3 224-255. Shared interrupts are 32-159.
  hdr/StaticWS - Reserve space for doorbell device & storing last SGI for each core
  hdr/iMx6q - Tidy things up a bit by removing the DebugInterrupts code
  s/Boot - Implement SMP HAL entry points
  s/Interrupts - Tidy up interrupt handling and implement new HAL IRQ calls
  s/Top - Enable cache/TLB maintenance op broadcast, and add some silicion errata workarounds
Admin:
  Untested
  Requires Kernel-6_09


Version 0.97. Tagged as 'iMx6-0_97'
@
text
@d1 1
a1 1
/* (0.97)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.97
d9 1
a9 1
#define Module_Date_CMHG                07 Jul 2018
d11 2
a12 2
#define Module_MajorVersion             "0.97"
#define Module_Version                  97
d14 1
a14 1
#define Module_Date                     "07 Jul 2018"
d16 1
a16 1
#define Module_ApplicationDate          "07-Jul-18"
d21 3
a23 3
#define Module_FullVersion              "0.97"
#define Module_HelpVersion              "0.97 (07 Jul 2018)"
#define Module_LibraryVersionInfo       "0:97"
@


1.22
log
@  Minor change to CMOS ram I2C compilation
Detail:
Admin:
 Tested on Mx6

Version 0.96. Tagged as 'iMx6-0_96'
@
text
@d1 1
a1 1
/* (0.96)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.96
d9 1
a9 1
#define Module_Date_CMHG                29 Jun 2018
d11 2
a12 2
#define Module_MajorVersion             "0.96"
#define Module_Version                  96
d14 1
a14 1
#define Module_Date                     "29 Jun 2018"
d16 1
a16 1
#define Module_ApplicationDate          "29-Jun-18"
d21 3
a23 3
#define Module_FullVersion              "0.96"
#define Module_HelpVersion              "0.96 (29 Jun 2018)"
#define Module_LibraryVersionInfo       "0:96"
@


1.21
log
@  Improved Phy detection and hardware reset. More variant awareness.
Detail:
  There are 2 Phy types, AR8031 and AR8035. Each has slightly different
  configuration strappings as reset is released. Manage this appropriately.
Admin:
  Tested in iMx6

Version 0.95. Tagged as 'iMx6-0_95'
@
text
@d1 1
a1 1
/* (0.95)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.95
d9 1
a9 1
#define Module_Date_CMHG                28 Jun 2018
d11 2
a12 2
#define Module_MajorVersion             "0.95"
#define Module_Version                  95
d14 1
a14 1
#define Module_Date                     "28 Jun 2018"
d16 1
a16 1
#define Module_ApplicationDate          "28-Jun-18"
d21 3
a23 3
#define Module_FullVersion              "0.95"
#define Module_HelpVersion              "0.95 (28 Jun 2018)"
#define Module_LibraryVersionInfo       "0:95"
@


1.20
log
@  complete clock mods for pcf8523 and get I2C working for second variant
Detail:
Admin:
   tested on iMx6


Version 0.94. Tagged as 'iMx6-0_94'
@
text
@d1 1
a1 1
/* (0.94)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.94
d9 1
a9 1
#define Module_Date_CMHG                21 Jun 2018
d11 2
a12 2
#define Module_MajorVersion             "0.94"
#define Module_Version                  94
d14 1
a14 1
#define Module_Date                     "21 Jun 2018"
d16 1
a16 1
#define Module_ApplicationDate          "21-Jun-18"
d21 3
a23 3
#define Module_FullVersion              "0.94"
#define Module_HelpVersion              "0.94 (21 Jun 2018)"
#define Module_LibraryVersionInfo       "0:94"
@


1.19
log
@  minor corrections to complete standard build
Detail:
  (corrected conditional include/exclude syntax)
Admin:
  (highlight level of testing that has taken place)
  (bugfix number if appropriate)


Version 0.93. Tagged as 'iMx6-0_93'
@
text
@d1 1
a1 1
/* (0.93)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.93
d9 1
a9 1
#define Module_Date_CMHG                14 May 2018
d11 2
a12 2
#define Module_MajorVersion             "0.93"
#define Module_Version                  93
d14 1
a14 1
#define Module_Date                     "14 May 2018"
d16 1
a16 1
#define Module_ApplicationDate          "14-May-18"
d21 3
a23 3
#define Module_FullVersion              "0.93"
#define Module_HelpVersion              "0.93 (14 May 2018)"
#define Module_LibraryVersionInfo       "0:93"
@


1.18
log
@  minor build changes to fix standard build
Detail:
Admin:
  tested on imx6


Version 0.92. Tagged as 'iMx6-0_92'
@
text
@d1 1
a1 1
/* (0.92)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.92
d11 2
a12 2
#define Module_MajorVersion             "0.92"
#define Module_Version                  92
d21 3
a23 3
#define Module_FullVersion              "0.92"
#define Module_HelpVersion              "0.92 (14 May 2018)"
#define Module_LibraryVersionInfo       "0:92"
@


1.17
log
@  Initial awareness of additional board variant
Detail:
Admin:


Version 0.91. Tagged as 'iMx6-0_91'
@
text
@d1 1
a1 1
/* (0.91)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.91
d9 1
a9 1
#define Module_Date_CMHG                13 May 2018
d11 2
a12 2
#define Module_MajorVersion             "0.91"
#define Module_Version                  91
d14 1
a14 1
#define Module_Date                     "13 May 2018"
d16 1
a16 1
#define Module_ApplicationDate          "13-May-18"
d21 3
a23 3
#define Module_FullVersion              "0.91"
#define Module_HelpVersion              "0.91 (13 May 2018)"
#define Module_LibraryVersionInfo       "0:91"
@


1.16
log
@Disable HAL video driver
Detail:
  Makefile - Now that the full IMXVideo module is in public CVS, and we're moving towards a stable release, there's no particular need for having the HAL version of the video driver enabled. Disable it to reduce the potential for bugs or other weird behaviour.
Admin:
  Tested on wandboard


Version 0.90. Tagged as 'iMx6-0_90'
@
text
@d1 1
a1 1
/* (0.90)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.90
d9 1
a9 1
#define Module_Date_CMHG                03 Feb 2018
d11 2
a12 2
#define Module_MajorVersion             "0.90"
#define Module_Version                  90
d14 1
a14 1
#define Module_Date                     "03 Feb 2018"
d16 1
a16 1
#define Module_ApplicationDate          "03-Feb-18"
d21 3
a23 3
#define Module_FullVersion              "0.90"
#define Module_HelpVersion              "0.90 (03 Feb 2018)"
#define Module_LibraryVersionInfo       "0:90"
@


1.15
log
@Improved GPIO isolation
Detail:
Occasional misstarts of EtherTH in RevD boards resolved to GPIO issues.
Barrier instructions added.
Admin:


Version 0.89. Tagged as 'iMx6-0_89'
@
text
@d1 1
a1 1
/* (0.89)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.89
d9 1
a9 1
#define Module_Date_CMHG                31 Dec 2017
d11 2
a12 2
#define Module_MajorVersion             "0.89"
#define Module_Version                  89
d14 1
a14 1
#define Module_Date                     "31 Dec 2017"
d16 1
a16 1
#define Module_ApplicationDate          "31-Dec-17"
d21 3
a23 3
#define Module_FullVersion              "0.89"
#define Module_HelpVersion              "0.89 (31 Dec 2017)"
#define Module_LibraryVersionInfo       "0:89"
@


1.14
log
@  Correct build to track recent USB mods
Detail:
  HAL_USB no longer in use...
Admin:
  tested on iMx6

Version 0.88. Tagged as 'iMx6-0_88'
@
text
@d1 1
a1 1
/* (0.88)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.88
d9 1
a9 1
#define Module_Date_CMHG                26 Oct 2017
d11 2
a12 2
#define Module_MajorVersion             "0.88"
#define Module_Version                  88
d14 1
a14 1
#define Module_Date                     "26 Oct 2017"
d16 1
a16 1
#define Module_ApplicationDate          "26-Oct-17"
d21 3
a23 3
#define Module_FullVersion              "0.88"
#define Module_HelpVersion              "0.88 (26 Oct 2017)"
#define Module_LibraryVersionInfo       "0:88"
@


1.13
log
@Participate in keyboard scan dependencies
Detail:
  Add keyboard scan code with list of modules that the kernel needs to do the same (the EHCI code was bypassed, and the HAL EHCI not linked against).
  Reorder the HALEntries to match Kernel-5_89.
  Remove unused stub functions.
Admin:
  Submission for USB bounty.

Version 0.87. Tagged as 'iMx6-0_87'
@
text
@d1 1
a1 1
/* (0.87)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.87
d9 1
a9 1
#define Module_Date_CMHG                09 Sep 2017
d11 2
a12 2
#define Module_MajorVersion             "0.87"
#define Module_Version                  87
d14 1
a14 1
#define Module_Date                     "09 Sep 2017"
d16 1
a16 1
#define Module_ApplicationDate          "09-Sep-17"
d21 3
a23 3
#define Module_FullVersion              "0.87"
#define Module_HelpVersion              "0.87 (09 Sep 2017)"
#define Module_LibraryVersionInfo       "0:87"
@


1.12
log
@  Correct table entry order in 3rd I2C recovery entry
Detail:
Admin:
 tested on iMx6

Version 0.86. Tagged as 'iMx6-0_86'
@
text
@d1 1
a1 1
/* (0.86)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.86
d9 1
a9 1
#define Module_Date_CMHG                05 Sep 2017
d11 2
a12 2
#define Module_MajorVersion             "0.86"
#define Module_Version                  86
d14 1
a14 1
#define Module_Date                     "05 Sep 2017"
d16 1
a16 1
#define Module_ApplicationDate          "05-Sep-17"
d21 3
a23 3
#define Module_FullVersion              "0.86"
#define Module_HelpVersion              "0.86 (05 Sep 2017)"
#define Module_LibraryVersionInfo       "0:86"
@


1.11
log
@  Allow for fact that I2C channel numbers start at 1 not 0
Detail:
  I2C error recovery address look up table assumed the channel number
  started at 0 not 1. I2C3 error recovery fell off the end of the address
  lookup table.
Admin:
  Tested in iMx6


Version 0.85. Tagged as 'iMx6-0_85'
@
text
@d1 1
a1 1
/* (0.85)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.85
d9 1
a9 1
#define Module_Date_CMHG                04 Sep 2017
d11 2
a12 2
#define Module_MajorVersion             "0.85"
#define Module_Version                  85
d14 1
a14 1
#define Module_Date                     "04 Sep 2017"
d16 1
a16 1
#define Module_ApplicationDate          "04-Sep-17"
d21 3
a23 3
#define Module_FullVersion              "0.85"
#define Module_HelpVersion              "0.85 (04 Sep 2017)"
#define Module_LibraryVersionInfo       "0:85"
@


1.10
log
@  Revert HAL_VideoIICOp to low level (manual) method as this works with more monitors.
  Extend low level code to cover the changes required for Rev D boards.
Detail:
Admin:
  tested in iMx6 Rev B and Rev D

Version 0.84. Tagged as 'iMx6-0_84'
@
text
@d1 1
a1 1
/* (0.84)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.84
d9 1
a9 1
#define Module_Date_CMHG                30 Aug 2017
d11 2
a12 2
#define Module_MajorVersion             "0.84"
#define Module_Version                  84
d14 1
a14 1
#define Module_Date                     "30 Aug 2017"
d16 1
a16 1
#define Module_ApplicationDate          "30-Aug-17"
d21 3
a23 3
#define Module_FullVersion              "0.84"
#define Module_HelpVersion              "0.84 (30 Aug 2017)"
#define Module_LibraryVersionInfo       "0:84"
@


1.9
log
@   Early detect Phy ID to explicitly detect Rev D boards
   or earlier
Detail:
   Read Phy IDL register by bit banging the MD interface to the Phy
   Rev D boards have an AR8035 Phy, Earlier revisions AR8031
Admin:
   tested on iMx6 Rev B and D

Version 0.83. Tagged as 'iMx6-0_83'
@
text
@d1 1
a1 1
/* (0.83)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.83
d9 1
a9 1
#define Module_Date_CMHG                18 Aug 2017
d11 2
a12 2
#define Module_MajorVersion             "0.83"
#define Module_Version                  83
d14 1
a14 1
#define Module_Date                     "18 Aug 2017"
d16 1
a16 1
#define Module_ApplicationDate          "18-Aug-17"
d21 3
a23 3
#define Module_FullVersion              "0.83"
#define Module_HelpVersion              "0.83 (18 Aug 2017)"
#define Module_LibraryVersionInfo       "0:83"
@


1.8
log
@  Resolve I2C error recovery abort
Detail:
  The code for unlocking stuck I2C transaction failed to get the base
  address of the I2C GPIO port. This had caused an AODT if the I2C transaction
  failed. Issue corrected
Admin:


Version 0.82. Tagged as 'iMx6-0_82'
@
text
@d1 1
a1 1
/* (0.82)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.82
d9 1
a9 1
#define Module_Date_CMHG                04 Aug 2017
d11 2
a12 2
#define Module_MajorVersion             "0.82"
#define Module_Version                  82
d14 1
a14 1
#define Module_Date                     "04 Aug 2017"
d16 1
a16 1
#define Module_ApplicationDate          "04-Aug-17"
d21 3
a23 3
#define Module_FullVersion              "0.82"
#define Module_HelpVersion              "0.82 (04 Aug 2017)"
#define Module_LibraryVersionInfo       "0:82"
@


1.7
log
@Build fix
Admin:
  As a side effect of changes in USBDriver-1_20, rename the library object.

Version 0.81. Tagged as 'iMx6-0_81'
@
text
@d1 1
a1 1
/* (0.81)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.81
d9 1
a9 1
#define Module_Date_CMHG                30 Jul 2017
d11 2
a12 2
#define Module_MajorVersion             "0.81"
#define Module_Version                  81
d14 1
a14 1
#define Module_Date                     "30 Jul 2017"
d16 1
a16 1
#define Module_ApplicationDate          "30-Jul-17"
d21 3
a23 3
#define Module_FullVersion              "0.81"
#define Module_HelpVersion              "0.81 (30 Jul 2017)"
#define Module_LibraryVersionInfo       "0:81"
@


1.6
log
@   Resolve I2C differences between RevB and C boards and RevD
Detail:
   RevD boards have put the HDMI EDID I2C lines on I2C2 instead of
   I2C1. This conflicts with the CMOS RAM. A routine has been created
   to detect the RevD board (by the presence of a power swithch on the
   Ethernet Phy), so the HAL can set up appropriately.
Admin:
   Tested on Rev B and Rev D iMx6 boards


Version 0.80. Tagged as 'iMx6-0_80'
@
text
@d1 1
a1 1
/* (0.80)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.80
d9 1
a9 1
#define Module_Date_CMHG                26 Jul 2017
d11 2
a12 2
#define Module_MajorVersion             "0.80"
#define Module_Version                  80
d14 1
a14 1
#define Module_Date                     "26 Jul 2017"
d16 1
a16 1
#define Module_ApplicationDate          "26-Jul-17"
d21 3
a23 3
#define Module_FullVersion              "0.80"
#define Module_HelpVersion              "0.80 (26 Jul 2017)"
#define Module_LibraryVersionInfo       "0:80"
@


1.5
log
@  Added routine to control Ethernet Phy power and reset pins
Detail:
  HAL_EtherDevice now gives access to a routine to control the
  Ethernet Phy power and reset pins. This updated device is present if the
  hal workspace pointer is non zero (bug fix) and GPIO_WriteBit routine
  now writes correctly in all cases.
Admin:
  tested on iMx6 revC2 and revD1


Version 0.79. Tagged as 'iMx6-0_79'
@
text
@d1 1
a1 1
/* (0.79)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.79
d9 1
a9 1
#define Module_Date_CMHG                18 Jul 2017
d11 2
a12 2
#define Module_MajorVersion             "0.79"
#define Module_Version                  79
d14 1
a14 1
#define Module_Date                     "18 Jul 2017"
d16 1
a16 1
#define Module_ApplicationDate          "18-Jul-17"
d21 3
a23 3
#define Module_FullVersion              "0.79"
#define Module_HelpVersion              "0.79 (18 Jul 2017)"
#define Module_LibraryVersionInfo       "0:79"
@


1.4
log
@Correct HAL Serial handshake configuration call.
Detail:
Further serial port testing showed inconsistency in handshake configuration.
This in now corrected.
Tested using a DeviceFS test setup and DeviceFS calls.

Admin:


Version 0.78. Tagged as 'iMx6-0_78'
@
text
@d1 1
a1 1
/* (0.78)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.78
d9 1
a9 1
#define Module_Date_CMHG                24 Apr 2017
d11 2
a12 2
#define Module_MajorVersion             "0.78"
#define Module_Version                  78
d14 1
a14 1
#define Module_Date                     "24 Apr 2017"
d16 1
a16 1
#define Module_ApplicationDate          "24-Apr-17"
d21 3
a23 3
#define Module_FullVersion              "0.78"
#define Module_HelpVersion              "0.78 (24 Apr 2017)"
#define Module_LibraryVersionInfo       "0:78"
@


1.4.2.1
log
@Merge in HEAD
Detail:
  Merge in iMx6-0_80 to keep SMP branch up to date
  Files changed: hdr/StaticWS, hdr/iMx6qboard, s/Audio, s/EtherDrv, s/GPIO, s/I2C, s/RTC, s/iMx6qboard
Admin:
  Untested


Version 0.80, 1.4.2.1. Tagged as 'iMx6-0_80-1_4_2_1'
@
text
@d1 1
a1 1
/* (0.80)
d7 3
a9 3
#define Module_MajorVersion_CMHG        0.80
#define Module_MinorVersion_CMHG        1.4.2.1
#define Module_Date_CMHG                29 Jul 2017
d11 4
a14 4
#define Module_MajorVersion             "0.80"
#define Module_Version                  80
#define Module_MinorVersion             "1.4.2.1"
#define Module_Date                     "29 Jul 2017"
d16 1
a16 1
#define Module_ApplicationDate          "29-Jul-17"
d21 3
a23 3
#define Module_FullVersion              "0.80 (1.4.2.1)"
#define Module_HelpVersion              "0.80 (29 Jul 2017) 1.4.2.1"
#define Module_LibraryVersionInfo       "0:80"
@


1.4.2.2
log
@Initial SMP support
Detail:
  s/DBell, Makefile - Implement doorbell HAL device
  h/irq_numbers, hdr/iMx6IRQs - Reserve space for core 1-3 private interrupts with bases 160, 192, 224
  s/Interrupts - Remove DebugInterrupts code to make things easier to follow. Adjust IRQ entry points for SMP-ness and implement the new entry points.
  hdr/StaticWS - Remove DebugInterrupts code. Reserve space for doorbell device and SGI interrupt tracking.
  hdr/iMx6q - Remove DebugInterrupts code.
  s/Boot - Implement new SMP-related HAL entry points
  s/Top - Implement some Cortex-A9 errata workarounds. Ensure smp_enable enables cache/TLB maintenance broadcast.
Admin:
  Tested on wandboard B1


Version 0.80, 1.4.2.2. Tagged as 'iMx6-0_80-1_4_2_2'
@
text
@d8 1
a8 1
#define Module_MinorVersion_CMHG        1.4.2.2
d13 1
a13 1
#define Module_MinorVersion             "1.4.2.2"
d21 2
a22 2
#define Module_FullVersion              "0.80 (1.4.2.2)"
#define Module_HelpVersion              "0.80 (29 Jul 2017) 1.4.2.2"
@


1.4.2.3
log
@Merge in changes since iMx6-0_80

Version 0.82, 1.4.2.3. Tagged as 'iMx6-0_82-1_4_2_3'
@
text
@d1 1
a1 1
/* (0.82)
d7 3
a9 3
#define Module_MajorVersion_CMHG        0.82
#define Module_MinorVersion_CMHG        1.4.2.3
#define Module_Date_CMHG                08 Aug 2017
d11 4
a14 4
#define Module_MajorVersion             "0.82"
#define Module_Version                  82
#define Module_MinorVersion             "1.4.2.3"
#define Module_Date                     "08 Aug 2017"
d16 1
a16 1
#define Module_ApplicationDate          "08-Aug-17"
d21 3
a23 3
#define Module_FullVersion              "0.82 (1.4.2.3)"
#define Module_HelpVersion              "0.82 (08 Aug 2017) 1.4.2.3"
#define Module_LibraryVersionInfo       "0:82"
@


1.4.2.4
log
@   resync with non SMP version
Detail:
Admin:


Version 0.82, 1.4.2.4. Tagged as 'iMx6-0_82-1_4_2_4'
@
text
@d8 2
a9 2
#define Module_MinorVersion_CMHG        1.4.2.4
#define Module_Date_CMHG                30 Aug 2017
d13 2
a14 2
#define Module_MinorVersion             "1.4.2.4"
#define Module_Date                     "30 Aug 2017"
d16 1
a16 1
#define Module_ApplicationDate          "30-Aug-17"
d21 2
a22 2
#define Module_FullVersion              "0.82 (1.4.2.4)"
#define Module_HelpVersion              "0.82 (30 Aug 2017) 1.4.2.4"
@


1.4.2.5
log
@  Track I2C change in main version
Detail:
Admin:


Version 0.82, 1.4.2.5. Tagged as 'iMx6-0_82-1_4_2_5'
@
text
@d8 2
a9 2
#define Module_MinorVersion_CMHG        1.4.2.5
#define Module_Date_CMHG                04 Sep 2017
d13 2
a14 2
#define Module_MinorVersion             "1.4.2.5"
#define Module_Date                     "04 Sep 2017"
d16 1
a16 1
#define Module_ApplicationDate          "04-Sep-17"
d21 2
a22 2
#define Module_FullVersion              "0.82 (1.4.2.5)"
#define Module_HelpVersion              "0.82 (04 Sep 2017) 1.4.2.5"
@


1.4.2.6
log
@  Track I2C change intoo SPM branch
Detail:
Admin:


Version 0.82, 1.4.2.6. Tagged as 'iMx6-0_82-1_4_2_6'
@
text
@d8 2
a9 2
#define Module_MinorVersion_CMHG        1.4.2.6
#define Module_Date_CMHG                05 Sep 2017
d13 2
a14 2
#define Module_MinorVersion             "1.4.2.6"
#define Module_Date                     "05 Sep 2017"
d16 1
a16 1
#define Module_ApplicationDate          "05-Sep-17"
d21 2
a22 2
#define Module_FullVersion              "0.82 (1.4.2.6)"
#define Module_HelpVersion              "0.82 (05 Sep 2017) 1.4.2.6"
@


1.4.2.7
log
@Merge in latest changes from main branch

Version 0.87, 1.4.2.7. Tagged as 'iMx6-0_87-1_4_2_7'
@
text
@d1 1
a1 1
/* (0.87)
d7 3
a9 3
#define Module_MajorVersion_CMHG        0.87
#define Module_MinorVersion_CMHG        1.4.2.7
#define Module_Date_CMHG                10 Sep 2017
d11 4
a14 4
#define Module_MajorVersion             "0.87"
#define Module_Version                  87
#define Module_MinorVersion             "1.4.2.7"
#define Module_Date                     "10 Sep 2017"
d16 1
a16 1
#define Module_ApplicationDate          "10-Sep-17"
d21 3
a23 3
#define Module_FullVersion              "0.87 (1.4.2.7)"
#define Module_HelpVersion              "0.87 (10 Sep 2017) 1.4.2.7"
#define Module_LibraryVersionInfo       "0:87"
@


1.4.2.8
log
@  Build correction following recent USB changes
Detail:
Admin:


Version 0.87, 1.4.2.8. Tagged as 'iMx6-0_87-1_4_2_8'
@
text
@d8 2
a9 2
#define Module_MinorVersion_CMHG        1.4.2.8
#define Module_Date_CMHG                28 Oct 2017
d13 2
a14 2
#define Module_MinorVersion             "1.4.2.8"
#define Module_Date                     "28 Oct 2017"
d16 1
a16 1
#define Module_ApplicationDate          "28-Oct-17"
d21 2
a22 2
#define Module_FullVersion              "0.87 (1.4.2.8)"
#define Module_HelpVersion              "0.87 (28 Oct 2017) 1.4.2.8"
@


1.4.2.9
log
@Track changes in non SMP HAL
Detail:
Admin:


Version 0.87, 1.4.2.9. Tagged as 'iMx6-0_87-1_4_2_9'
@
text
@d8 2
a9 2
#define Module_MinorVersion_CMHG        1.4.2.9
#define Module_Date_CMHG                31 Dec 2017
d13 2
a14 2
#define Module_MinorVersion             "1.4.2.9"
#define Module_Date                     "31 Dec 2017"
d16 1
a16 1
#define Module_ApplicationDate          "31-Dec-17"
d21 2
a22 2
#define Module_FullVersion              "0.87 (1.4.2.9)"
#define Module_HelpVersion              "0.87 (31 Dec 2017) 1.4.2.9"
@


1.4.2.10
log
@Merge in latest changes from main branch

Version 0.90, 1.4.2.10. Tagged as 'iMx6-0_90-1_4_2_10'
@
text
@d1 1
a1 1
/* (0.90)
d7 3
a9 3
#define Module_MajorVersion_CMHG        0.90
#define Module_MinorVersion_CMHG        1.4.2.10
#define Module_Date_CMHG                15 Feb 2018
d11 4
a14 4
#define Module_MajorVersion             "0.90"
#define Module_Version                  90
#define Module_MinorVersion             "1.4.2.10"
#define Module_Date                     "15 Feb 2018"
d16 1
a16 1
#define Module_ApplicationDate          "15-Feb-18"
d21 3
a23 3
#define Module_FullVersion              "0.90 (1.4.2.10)"
#define Module_HelpVersion              "0.90 (15 Feb 2018) 1.4.2.10"
#define Module_LibraryVersionInfo       "0:90"
@


1.4.2.11
log
@  Patch in recent HAL modifications
Detail:
  Bring up to date with HEAD version 0.96
Admin:
  Tested in iMx6

Version 0.90, 1.4.2.11. Tagged as 'iMx6-0_90-1_4_2_11'
@
text
@d8 2
a9 2
#define Module_MinorVersion_CMHG        1.4.2.11
#define Module_Date_CMHG                29 Jun 2018
d13 2
a14 2
#define Module_MinorVersion             "1.4.2.11"
#define Module_Date                     "29 Jun 2018"
d16 1
a16 1
#define Module_ApplicationDate          "29-Jun-18"
d21 2
a22 2
#define Module_FullVersion              "0.90 (1.4.2.11)"
#define Module_HelpVersion              "0.90 (29 Jun 2018) 1.4.2.11"
@


1.4.2.12
log
@Merge in latest changes from HEAD

Version 0.96, 1.4.2.12. Tagged as 'iMx6-0_96-1_4_2_12'
@
text
@d1 1
a1 1
/* (0.96)
d7 3
a9 3
#define Module_MajorVersion_CMHG        0.96
#define Module_MinorVersion_CMHG        1.4.2.12
#define Module_Date_CMHG                07 Jul 2018
d11 4
a14 4
#define Module_MajorVersion             "0.96"
#define Module_Version                  96
#define Module_MinorVersion             "1.4.2.12"
#define Module_Date                     "07 Jul 2018"
d16 1
a16 1
#define Module_ApplicationDate          "07-Jul-18"
d21 3
a23 3
#define Module_FullVersion              "0.96 (1.4.2.12)"
#define Module_HelpVersion              "0.96 (07 Jul 2018) 1.4.2.12"
#define Module_LibraryVersionInfo       "0:96"
@


1.3
log
@  Rebuild UART receive handler to accommodate changes made within DualSerial
Detail:
  Changes in DualSerial last October exposed an error in the HAL_UARTReceiveByte
  routine. This provides a solution.
Admin:
  Tested on iMx6

Version 0.77. Tagged as 'iMx6-0_77'
@
text
@d1 1
a1 1
/* (0.77)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.77
d9 1
a9 1
#define Module_Date_CMHG                07 Apr 2017
d11 2
a12 2
#define Module_MajorVersion             "0.77"
#define Module_Version                  77
d14 1
a14 1
#define Module_Date                     "07 Apr 2017"
d16 1
a16 1
#define Module_ApplicationDate          "07-Apr-17"
d21 3
a23 3
#define Module_FullVersion              "0.77"
#define Module_HelpVersion              "0.77 (07 Apr 2017)"
#define Module_LibraryVersionInfo       "0:77"
@


1.2
log
@  GPIODevice has ceased to invoke HALDevice, so include it where needed


Version 0.76. Tagged as 'iMx6-0_76'
@
text
@d1 1
a1 1
/* (0.76)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.76
d9 1
a9 1
#define Module_Date_CMHG                11 Mar 2017
d11 2
a12 2
#define Module_MajorVersion             "0.76"
#define Module_Version                  76
d14 1
a14 1
#define Module_Date                     "11 Mar 2017"
d16 1
a16 1
#define Module_ApplicationDate          "11-Mar-17"
d21 3
a23 3
#define Module_FullVersion              "0.76"
#define Module_HelpVersion              "0.76 (11 Mar 2017)"
#define Module_LibraryVersionInfo       "0:76"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
/* (0.75)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.75
d9 1
a9 1
#define Module_Date_CMHG                13 Dec 2016
d11 2
a12 2
#define Module_MajorVersion             "0.75"
#define Module_Version                  75
d14 1
a14 1
#define Module_Date                     "13 Dec 2016"
d16 1
a16 1
#define Module_ApplicationDate          "13-Dec-16"
d19 1
a19 1
#define Module_ComponentPath            "private/RiscOS/Sources/HAL/iMx6"
d21 3
a23 3
#define Module_FullVersion              "0.75"
#define Module_HelpVersion              "0.75 (13 Dec 2016)"
#define Module_LibraryVersionInfo       "0:75"
@


1.1.1.1
log
@Initial import of iMx6 HAL
@
text
@@
