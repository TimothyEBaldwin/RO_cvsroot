head	4.30;
access;
symbols
	Internet-5_66:4.30
	Internet-5_65:4.30
	Internet-5_64:4.30
	Internet-5_63:4.30
	Internet-5_62:4.30
	Internet-5_61:4.30
	Internet-5_60:4.30
	Internet-5_59:4.29
	Internet-5_58:4.29
	Internet-5_57:4.28
	Internet-5_56:4.28
	Internet-5_55:4.28
	Internet-5_54:4.27
	Internet-5_53:4.27
	Internet-5_52:4.27
	Internet-5_51:4.27
	Internet-5_50:4.27
	Internet-5_49:4.26
	Internet-5_48:4.24
	Internet-5_47:4.23
	Internet-5_46:4.22
	Internet-5_45:4.21
	RO_5_07:4.20
	Internet-5_44:4.20
	Internet-5_43b:4.19
	Internet-5_43a:4.19
	Internet-5_43:4.19
	Internet-5_42:4.17
	Internet-5_41:4.16
	Internet-5_40:4.16
	Internet-5_39:4.16
	Internet-5_38:4.15
	Internet-5_37:4.14
	Internet-5_36:4.14
	Internet-5_35:4.14
	Internet-5_34:4.13
	Internet-5_33:4.13
	Internet-5_32:4.12
	Internet-5_31:4.12
	Internet-5_30:4.12
	kbracey_Internet_000204:4.11
	nbingham_Internet_991119:4.10
	nbingham_Internet_991007:4.8
	nturton_Internet-0_00:4.4
	mstphens_UrsulaRiscPCBuild_20Nov98:4.2
	Ursula_RiscPC:4.2.0.4
	rthornb_UrsulaBuild-19Aug1998:4.2
	UrsulaBuild_FinalSoftload:4.2
	Ursula:4.2.0.2
	Ursula_bp:4.2
	Ursula_17Aug1998_bp:4.1.3.1
	Ursula_17Aug1998:4.1.3.1.0.4
	rthornb_UrsulaBuild-12Aug1998:4.1.3.1
	aglover_UrsulaBuild-05Aug1998:4.1.3.1
	rthornb_UrsulaBuild-29Jul1998:4.1.3.1
	rthornb_UrsulaBuild-22Jul1998:4.1.3.1
	rthornb_UrsulaBuild-15Jul1998:4.1.3.1
	rthornb_UrsulaBuild-07Jul1998:4.1.3.1
	rthornb_UrsulaBuild-17Jun1998:4.1.3.1
	rthornb_UrsulaBuild-03Jun1998:4.1.3.1
	rthornb_UrsulaBuild-27May1998:4.1.3.1
	rthornb_UrsulaBuild-21May1998:4.1.3.1
	rthornb_UrsulaBuild_01May1998:4.1.3.1
	Daytona:4.1.3.1.0.6
	Daytona_bp:4.1.3.1
	RO_3_71:4.1.3.1
	ART_bp:4.1.3.1
	ART:4.1.3.1.0.2
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	StrongARM:4.1.3;
locks; strict;
comment	@# @;


4.30
date	2018.03.17.09.57.31;	author rool;	state Exp;
branches;
next	4.29;
commitid	rcLf7h4ueJjZlNuA;

4.29
date	2016.06.22.20.41.51;	author rsprowson;	state Exp;
branches;
next	4.28;
commitid	9O5pveFxhJ9ygvbz;

4.28
date	2014.09.06.19.48.08;	author rsprowson;	state Exp;
branches;
next	4.27;
commitid	ZkA8J33l2UVs1kPx;

4.27
date	2012.09.19.10.41.44;	author rsprowson;	state Exp;
branches;
next	4.26;
commitid	zFRNtigyL8EV28lw;

4.26
date	2012.09.02.11.59.58;	author rsprowson;	state Exp;
branches;
next	4.25;
commitid	TSchSoe67E1k1Xiw;

4.25
date	2012.08.31.22.08.27;	author bavison;	state Exp;
branches;
next	4.24;
commitid	kiHWYcmlaFKnsKiw;

4.24
date	2012.07.07.21.47.00;	author rsprowson;	state Exp;
branches;
next	4.23;
commitid	4WB3EuBOSPkC6Gbw;

4.23
date	2012.01.14.23.09.08;	author srevill;	state Exp;
branches;
next	4.22;
commitid	EXw8WJMx8owybcPv;

4.22
date	2009.10.24.23.07.38;	author jlee;	state Exp;
branches;
next	4.21;

4.21
date	2004.11.09.18.33.56;	author bavison;	state Exp;
branches;
next	4.20;

4.20
date	2004.07.01.16.35.09;	author srevill;	state Exp;
branches;
next	4.19;

4.19
date	2003.12.03.18.17.09;	author bavison;	state Exp;
branches;
next	4.18;

4.18
date	2003.11.12.21.31.18;	author bavison;	state Exp;
branches;
next	4.17;

4.17
date	2003.11.12.20.46.27;	author bavison;	state Exp;
branches;
next	4.16;

4.16
date	2003.01.17.19.53.07;	author rsprowson;	state Exp;
branches;
next	4.15;

4.15
date	2003.01.02.23.23.01;	author srevill;	state Exp;
branches;
next	4.14;

4.14
date	2001.10.06.13.48.18;	author srevill;	state Exp;
branches;
next	4.13;

4.13
date	2001.03.05.12.22.46;	author dcotton;	state Exp;
branches;
next	4.12;

4.12
date	2000.02.07.11.01.28;	author kbracey;	state Exp;
branches;
next	4.11;

4.11
date	2000.02.04.17.29.07;	author kbracey;	state Exp;
branches;
next	4.10;

4.10
date	99.11.19.16.33.00;	author nbingham;	state Exp;
branches;
next	4.9;

4.9
date	99.11.04.17.21.29;	author sbrodie;	state Exp;
branches;
next	4.8;

4.8
date	99.10.07.10.32.39;	author nbingham;	state Exp;
branches;
next	4.7;

4.7
date	99.07.22.16.49.27;	author kbracey;	state Exp;
branches;
next	4.6;

4.6
date	99.07.15.16.53.13;	author kbracey;	state Exp;
branches;
next	4.5;

4.5
date	99.05.24.08.55.56;	author sbrodie;	state Exp;
branches;
next	4.4;

4.4
date	99.02.18.15.11.45;	author nturton;	state Exp;
branches;
next	4.3;

4.3
date	99.02.11.18.16.43;	author nturton;	state Exp;
branches;
next	4.2;

4.2
date	98.07.06.14.04.14;	author sbrodie;	state Exp;
branches;
next	4.1;

4.1
date	96.11.06.03.56.58;	author nturton;	state Exp;
branches
	4.1.3.1;
next	;

4.1.3.1
date	96.11.06.03.56.58;	author nturton;	state Exp;
branches;
next	;


desc
@@


4.30
log
@Internet resource updates and additions
Detail:
  Add some trusted root certificates to InetDBase: for use by AcornSSL.
  Remove 'pong', such that it doesn't have to be maintained (the Internet module responds to ICMP requests).
  Change the examples in AUNMap for a 10.x.x.x based network.
  Add ssh/https/nfsd to our table of known services (for AcornSSL and NFS).
Admin:
  Submission for TCP/IP bounty.

Version 5.60. Tagged as 'Internet-5_60'
@
text
@# Copyright 1996 Acorn Computers Ltd
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Makefile for Internet resources
#
# ***********************************
# ***    C h a n g e   L i s t    ***
# ***********************************
# Date           Name   Description
# ----           ----   -----------
# 03-Jul-96      KJB    Derived from Scrap makefile
# 05-Oct-99      SNB    Updated to allow slimmed down STB !Internet to be built.
#                       Passing OPTIONS=STB builds a cut down structure.
#

#
# Program specific options:
#
COMPONENT  = Internet
APP        = !${COMPONENT}
RDIR       = Resources
LDIR       = ${RDIR}.${LOCALE}
SDIR       = Sources
INSTAPP    = ${INSTDIR}.${APP}
RESD       = ${RESDIR}.Internet

# Generic options:
#
MKDIR   = do mkdir -p
CHMOD   = Unix.chmod ${CHMODFLAGS}
CP      = copy
RM      = remove
WIPE    = x wipe
AWK     = GNU.gawk

CPFLAGS = ~cfr~v
WFLAGS  = ~c~v
CHMODFLAGS = -R 0777

COMMONFILES=\
 ${SDIR}.arp.ARP\
 ${SDIR}.ifconfig.IfConfig\
 ${SDIR}.inetstat.InetStat\
 ${SDIR}.ipvars.IPVars\
 ${SDIR}.ping.Ping\
 ${SDIR}.route.Route\
 ${SDIR}.showstat.ShowStat\
 ${SDIR}.sysctl.SysCtl\
 ${SDIR}.traceroute.TraceRoute

STBFILES=\
        ${RDIR}.!Boot\

DBFILES=\
        ${RDIR}.files.AUNMap\
        ${RDIR}.files.CertData\
        ${RDIR}.files.Hosts\
        ${RDIR}.files.MimeMap\
        ${RDIR}.files.Networks\
        ${RDIR}.files.Protocols\
        ${RDIR}.files.Services\

DISCFILES=\
        ${RDIR}.!Boot\
        ${LDIR}.!Help\
        ${LDIR}.!Run\
        ${RDIR}.!Sprites\
        ${RDIR}.!Sprites22\
        ${RDIR}.!Sprites11\
        ${SDIR}.gethost.GetHost\
        ${SDIR}.ifrconfig.IfRConfig\
        ${SDIR}.map-mbone.Map-MBone\
        ${SDIR}.md5.MD5\
        ${SDIR}.mrinfo.MRInfo\
        ${SDIR}.mtrace.MTrace\
        ${SDIR}.tftp.Tftp\
        ${SDIR}.utils.utl.RMFind\
        ${RDIR}.utils.BootNet\
        ${SDIR}.utils.utl.CheckMem\
        ${SDIR}.newfiler.NewFiler\
        ${SDIR}.utils.utl.ReadCMOSIP\
        ${SDIR}.utils.utl.TriggerCBs

FILES=\
        ${COMMONFILES} \
        ${DISCFILES} \
        ${DBFILES} \
        ${STBFILES}

EMERGENCYUTILS = \
        ${SDIR}.arp.ARP              \
        ${SDIR}.ifconfig.IfConfig    \
        ${SDIR}.ping.Ping            \
        ${SDIR}.utils.utl.CheckMem   \
        ${SDIR}.newfiler.NewFiler    \
        ${SDIR}.sysctl.SysCtl        \
        ${LDIR}.!Run                 \
  
NETUTILS = \
        ${SDIR}.arp.ARP              \
        ${SDIR}.ifrconfig.IfRConfig  \
        ${SDIR}.ifconfig.IfConfig    \
        ${SDIR}.inetstat.InetStat    \
        ${SDIR}.ipvars.IPVars        \
        ${SDIR}.map-mbone.Map-MBone  \
        ${SDIR}.md5.MD5              \
        ${SDIR}.mrinfo.MRInfo        \
        ${SDIR}.mtrace.MTrace        \
        ${SDIR}.ping.Ping            \
        ${SDIR}.utils.utl.RMFind     \
        ${SDIR}.route.Route          \
        ${SDIR}.showstat.ShowStat    \
        ${SDIR}.sysctl.SysCtl        \
        ${SDIR}.tftp.Tftp            \
        ${SDIR}.traceroute.TraceRoute \
        ${RDIR}.!Boot                 \
        ${LDIR}.!Run                  \
        ${RDIR}.!Sprites              \
        ${RDIR}.!Sprites11            \
        ${RDIR}.!Sprites22            \

#
# Main rules:
#
all: ${FILES}
        @@echo ${COMPONENT}: All built (Disc)

install: install_${OPTIONS} install_common dirs
        ${CHMOD} ${INSTAPP}
        @@echo ${COMPONENT}: All installed (Disc)

install_common: ${COMMONFILES}
        ${RM} ${INSTAPP}.!Help
        ${RM} ${INSTAPP}.!Run
        ${RM} ${INSTAPP}.!Boot
        ${RM} ${INSTAPP}.files.AUNMap
        ${CP} ${SDIR}.arp.ARP               ${INSTAPP}.bin.ARP          ${CPFLAGS}
        ${CP} ${SDIR}.ifconfig.IfConfig     ${INSTAPP}.bin.IfConfig     ${CPFLAGS}
        ${CP} ${SDIR}.inetstat.InetStat     ${INSTAPP}.bin.InetStat     ${CPFLAGS}
        ${CP} ${SDIR}.ipvars.IPVars         ${INSTAPP}.bin.IPVars       ${CPFLAGS}
        ${CP} ${SDIR}.ping.Ping             ${INSTAPP}.bin.Ping         ${CPFLAGS}
        ${CP} ${SDIR}.route.Route           ${INSTAPP}.bin.Route        ${CPFLAGS}
        ${CP} ${SDIR}.showstat.ShowStat     ${INSTAPP}.bin.ShowStat     ${CPFLAGS}
        ${CP} ${SDIR}.sysctl.SysCtl         ${INSTAPP}.bin.SysCtl       ${CPFLAGS}
        ${CP} ${SDIR}.traceroute.TraceRoute ${INSTAPP}.bin.TraceRoute   ${CPFLAGS}

install_STB: ${STBFILES} ${DBFILES}
        ${AWK} -f awk.Version LocalUserIFRes:!Boot > ${INSTAPP}.!Boot
        SetType ${INSTAPP}.!Boot Obey
        ${CP} LocalUserIFRes:CopyLocal ${INSTAPP}.CopyLocal       ${CPFLAGS}
        ${CP} LocalUserIFRes:RTime     ${INSTAPP}.bin.RTime       ${CPFLAGS}
        ${CP} ${RDIR}.files.Hosts      ${INSTAPP}.files.Hosts     ${CPFLAGS}
        ${CP} LocalUserIFRes:MimeMap   ${INSTAPP}.files.MimeMap   ${CPFLAGS}
        ${CP} ${RDIR}.files.Networks   ${INSTAPP}.files.Networks  ${CPFLAGS}
        ${CP} ${RDIR}.files.Protocols  ${INSTAPP}.files.Protocols ${CPFLAGS}
        ${CP} ${RDIR}.files.Services   ${INSTAPP}.files.Services  ${CPFLAGS}

install_: ${DISCFILES} ${DBFILES}
        ${AWK} -f awk.Version ${RDIR}.!Boot > ${INSTAPP}.!Boot
        SetType ${INSTAPP}.!Boot Obey
        ${AWK} -f awk.Version ${LDIR}.!Help > ${INSTAPP}.!Help
        ${AWK} -f awk.Version ${LDIR}.!Run >  ${INSTAPP}.!Run
        SetType ${INSTAPP}.!Run Obey
        |
        ${MKDIR} ${INSTAPP}.Themes
        ${CP} ${RDIR}.!Sprites   ${INSTAPP}.Themes.!Sprites   ${CPFLAGS}
        ${CP} ${RDIR}.!Sprites11 ${INSTAPP}.Themes.!Sprites11 ${CPFLAGS}
        ${CP} ${RDIR}.!Sprites22 ${INSTAPP}.Themes.!Sprites22 ${CPFLAGS}
        ${CP} ${LDIR}.Ursula     ${INSTAPP}.Themes.Ursula     ${CPFLAGS}
        ${CP} ${LDIR}.Morris4    ${INSTAPP}.Themes.Morris4    ${CPFLAGS}
        |
        ${CP} ${RDIR}.files      ${INSTAPP}.files      ${CPFLAGS}
        ${AWK} -f awk.Version ${RDIR}.files.AUNMap > ${INSTAPP}.files.AUNMap
        SetType ${INSTAPP}.files.AUNMap Obey
        ${CP} ${RDIR}.utils      ${INSTAPP}.utils      ${CPFLAGS}
        |
        ${CP} ${SDIR}.gethost.GetHost       ${INSTAPP}.bin.GetHost      ${CPFLAGS}
        ${CP} ${SDIR}.ifrconfig.IfRConfig   ${INSTAPP}.bin.IfRConfig    ${CPFLAGS}
        ${CP} ${SDIR}.map-mbone.Map-MBone   ${INSTAPP}.bin.Map-MBone    ${CPFLAGS}
        ${CP} ${SDIR}.md5.MD5               ${INSTAPP}.bin.MD5          ${CPFLAGS}
        ${CP} ${SDIR}.mrinfo.MRInfo         ${INSTAPP}.bin.MRInfo       ${CPFLAGS}
        ${CP} ${SDIR}.mtrace.MTrace         ${INSTAPP}.bin.MTrace       ${CPFLAGS}
        ${CP} ${SDIR}.tftp.Tftp             ${INSTAPP}.bin.Tftp         ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.RMFind      ${INSTAPP}.bin.RMFind       ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.CheckMem    ${INSTAPP}.utils.CheckMem   ${CPFLAGS}
        ${CP} ${SDIR}.newfiler.NewFiler     ${INSTAPP}.utils.NewFiler   ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.ReadCMOSIP  ${INSTAPP}.utils.ReadCMOSIP ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.TriggerCBs  ${INSTAPP}.utils.TriggerCBs ${CPFLAGS}

dirs:
        ${MKDIR} ${INSTAPP}
        ${MKDIR} ${INSTAPP}.bin
        ${MKDIR} ${INSTAPP}.files

clean:
        dir ${SDIR}
        !MkMods clean
        up
        @@echo ${COMPONENT}: cleaned

resources: resources-${TYPE}

resources-:
        @@echo ${COMPONENT}: No resource files to copy

resources-NetUtils: ${NETUTILS}
        ${MKDIR} ${RESD}.Themes
        ${MKDIR} ${RESD}.bin
        ${MKDIR} ${RESD}.files
        ${CP} ${SDIR}.arp.ARP               ${RESD}.bin.ARP          ${CPFLAGS}
        ${CP} ${SDIR}.ifconfig.IfConfig     ${RESD}.bin.IfConfig     ${CPFLAGS}
        ${CP} ${SDIR}.ifrconfig.IfRConfig   ${RESD}.bin.IfRConfig    ${CPFLAGS}
        ${CP} ${SDIR}.ipvars.IPVars         ${RESD}.bin.IPVars       ${CPFLAGS}
        ${CP} ${SDIR}.inetstat.InetStat     ${RESD}.bin.InetStat     ${CPFLAGS}
        ${CP} ${SDIR}.map-mbone.Map-MBone   ${RESD}.bin.Map-MBone    ${CPFLAGS}
        ${CP} ${SDIR}.md5.MD5               ${RESD}.bin.MD5          ${CPFLAGS}
        ${CP} ${SDIR}.mrinfo.MRInfo         ${RESD}.bin.MRInfo       ${CPFLAGS}
        ${CP} ${SDIR}.mtrace.MTrace         ${RESD}.bin.MTrace       ${CPFLAGS}
        ${CP} ${SDIR}.ping.Ping             ${RESD}.bin.Ping         ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.RMFind      ${RESD}.bin.RMFind       ${CPFLAGS}
        ${CP} ${SDIR}.route.Route           ${RESD}.bin.Route        ${CPFLAGS}
        ${CP} ${SDIR}.sysctl.SysCtl         ${RESD}.bin.SysCtl       ${CPFLAGS}
        ${CP} ${SDIR}.showstat.ShowStat     ${RESD}.bin.ShowStat     ${CPFLAGS}
        ${CP} ${SDIR}.traceroute.TraceRoute ${RESD}.bin.TraceRoute   ${CPFLAGS}
        ${CP} ${SDIR}.tftp.Tftp             ${RESD}.bin.Tftp         ${CPFLAGS}
        ${AWK} -f awk.Version ${RDIR}.files.AUNMap > ${RESD}.files.AUNMap
        SetType ${RESD}.files.AUNMap Obey
        ${CP} ${RDIR}.files.Hosts           ${RESD}.files.Hosts      ${CPFLAGS}
        ${CP} ${RDIR}.files.Networks        ${RESD}.files.Networks   ${CPFLAGS}
        ${CP} ${RDIR}.files.Protocols       ${RESD}.files.Protocols  ${CPFLAGS}
        ${CP} ${RDIR}.files.Services        ${RESD}.files.Services   ${CPFLAGS}
        ${AWK} -f awk.Version ${RDIR}.!Boot > ${RESD}.!Boot
        SetType ${RESD}.!Boot Obey
        ${AWK} -f awk.Version ${LDIR}.!Run > ${RESD}.!Run
        SetType ${RESD}.!Run Obey
        ${CP} ${RDIR}.!Sprites              ${RESD}.Themes.!Sprites   ${CPFLAGS}
        ${CP} ${RDIR}.!Sprites22            ${RESD}.Themes.!Sprites22 ${CPFLAGS}

resources-EmergencyUtils: ${EMERGENCYUTILS}
        ${MKDIR} ${RESD}
        ${MKDIR} ${RESD}.bin
        ${MKDIR} ${RESD}.utils
        ${MKDIR} ${RESD}.files
        ${CP} ${SDIR}.arp.ARP               ${RESD}.bin.ARP          ${CPFLAGS}
        ${CP} ${SDIR}.ifconfig.IfConfig     ${RESD}.bin.IfConfig     ${CPFLAGS}
        ${CP} ${SDIR}.ping.Ping             ${RESD}.bin.Ping         ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.CheckMem    ${RESD}.utils.CheckMem   ${CPFLAGS}
        ${CP} ${SDIR}.newfiler.NewFiler     ${RESD}.utils.NewFiler   ${CPFLAGS}
        ${CP} ${SDIR}.sysctl.SysCtl         ${RESD}.bin.SysCtl       ${CPFLAGS}
        ${AWK} -f awk.Version ${RDIR}.files.AUNMap > ${RESD}.files.AUNMap
        SetType ${RESD}.files.AUNMap Obey
        ${CP} ${RDIR}.files.Hosts           ${RESD}.files.Hosts      ${CPFLAGS}
        ${CP} ${RDIR}.files.Networks        ${RESD}.files.Networks   ${CPFLAGS}
        ${CP} ${RDIR}.files.Protocols       ${RESD}.files.Protocols  ${CPFLAGS}
        ${CP} ${RDIR}.files.Services        ${RESD}.files.Services   ${CPFLAGS}
        ${AWK} -f awk.Version ${LDIR}.!Run > ${RESD}.!Run
        SetType ${RESD}.!Run Obey

${SDIR}.arp.ARP: ${SDIR}.arp.c.ARP
        dir ${SDIR}.arp
        @@amu_machine
        @@up
        @@up

${SDIR}.ifconfig.IfConfig: ${SDIR}.ifconfig.c.IfConfig
        dir ${SDIR}.ifconfig
        @@amu_machine
        @@up
        @@up

${SDIR}.ifrconfig.IfRConfig: ${SDIR}.ifrconfig.c.IfRConfig
        dir ${SDIR}.ifrconfig
        @@amu_machine
        @@up
        @@up

${SDIR}.gethost.GetHost: ${SDIR}.gethost.c.gethost
        dir ${SDIR}.gethost
        @@amu_machine
        @@up
        @@up

${SDIR}.ipvars.IPVars: ${SDIR}.ipvars.c.ipvars
        dir ${SDIR}.ipvars
        @@amu_machine
        @@up
        @@up

${SDIR}.inetstat.InetStat: ${SDIR}.inetstat.c.main \
        ${SDIR}.inetstat.c.if\
        ${SDIR}.inetstat.c.inet\
        ${SDIR}.inetstat.c.route\
        ${SDIR}.inetstat.c.mroute
        dir ${SDIR}.inetstat
        @@amu_machine
        @@up
        @@up

${SDIR}.map-mbone.Map-MBone: ${SDIR}.map-mbone.c.Map-MBone \
        ${SDIR}.map-mbone.c.igmp \
        ${SDIR}.map-mbone.c.inet \
        ${SDIR}.map-mbone.c.kern
        dir ${SDIR}.map-mbone
        @@amu_machine
        @@up
        @@up

${SDIR}.md5.MD5: ${SDIR}.md5.c.md5 \
        ${SDIR}.md5.c.md5c \
        ${SDIR}.md5.c.mdXhl
        dir ${SDIR}.md5
        @@amu_machine
        @@up
        @@up

${SDIR}.mrinfo.MRInfo: ${SDIR}.mrinfo.c.MRInfo \
        ${SDIR}.mrinfo.c.igmp \
        ${SDIR}.mrinfo.c.inet \
        ${SDIR}.mrinfo.c.kern
        dir ${SDIR}.mrinfo
        @@amu_machine
        @@up
        @@up

${SDIR}.mtrace.MTrace: ${SDIR}.mtrace.c.MTrace
        dir ${SDIR}.mtrace
        @@amu_machine
        @@up
        @@up

${SDIR}.ping.Ping: ${SDIR}.ping.c.Ping
        dir ${SDIR}.ping
        @@amu_machine
        @@up
        @@up

${SDIR}.pong.Pong: ${SDIR}.pong.c.Pong
        dir ${SDIR}.pong
        @@amu_machine
        @@up
        @@up

${SDIR}.route.Route: ${SDIR}.route.c.Route
        dir ${SDIR}.route
        @@amu_machine
        @@up
        @@up

${SDIR}.showstat.ShowStat:
        dir ${SDIR}.showstat
        @@amu_machine 
        @@up
        @@up

${SDIR}.sysctl.SysCtl: ${SDIR}.sysctl.c.SysCtl
        dir ${SDIR}.sysctl
        @@amu_machine
        @@up
        @@up

${SDIR}.tftp.Tftp: ${SDIR}.tftp.c.main \
        ${SDIR}.tftp.c.tftp \
        ${SDIR}.tftp.c.tftpsubs
        dir ${SDIR}.tftp
        @@amu_machine
        @@up
        @@up

${SDIR}.traceroute.TraceRoute: ${SDIR}.traceroute.c.TraceRoute
        dir ${SDIR}.traceroute
        @@amu_machine
        @@up
        @@up

${SDIR}.newfiler.NewFiler: ${SDIR}.newfiler.c.NewFiler
        dir ${SDIR}.newfiler
        @@amu_machine
        @@up
        @@up

${SDIR}.utils.utl.CheckMem: ${SDIR}.utils.s.CheckMem
        dir ${SDIR}.utils
        @@amu_machine utl.CheckMem
        @@up
        @@up

${SDIR}.utils.utl.ReadCMOSIP: ${SDIR}.utils.s.ReadCMOSIP
        dir ${SDIR}.utils
        @@amu_machine utl.ReadCMOSIP
        @@up
        @@up

${SDIR}.utils.utl.RMFind: ${SDIR}.utils.s.RMFind
        dir ${SDIR}.utils
        @@amu_machine utl.RMFind
        @@up
        @@up

${SDIR}.utils.utl.TriggerCBs: ${SDIR}.utils.s.TriggerCBs
        dir ${SDIR}.utils
        @@amu_machine utl.TriggerCBs
        @@up
        @@up

${SDIR}.utils.utl.X: ${SDIR}.utils.s.X
        dir ${SDIR}.utils
        @@amu_machine utl.X
        @@up
        @@up

# Dynamic dependencies:
@


4.29
log
@Add Tftp to the disc based !Internet commands
A TFTP client is described in the TCP/IP Protocol Suite manual but seems to have been lost somewhere along the way, perhaps when the Internet 5 work was done? TFTP is often used to load OS images or similar boot time stuff as it's a very simple (and insecure) protocol.
Port a contemporary client from FreeBSD (circa March 2000) with a few changes to allow it to run on RISC OS.
Makefile:
  Remove the BareMinUtils option. Nothing uses it, and it wouldn't work anyway since it's missing !Run.
  Add Tftp

Tested against OpenTFTP server 1.64 running on Windows, GETting and PUTing a number of files.

Version 5.58. Tagged as 'Internet-5_58'
@
text
@d62 2
a63 1
STBFILES=${SDIR}.pong.Pong
d65 11
a75 1
DISCFILES= ${RDIR}.!Boot\
a86 1
        ${SDIR}.pong.Pong\
a88 6
        ${RDIR}.files.AUNMap\
        ${RDIR}.files.Hosts\
        ${RDIR}.files.MimeMap\
        ${RDIR}.files.Networks\
        ${RDIR}.files.Protocols\
        ${RDIR}.files.Services\
d98 1
a120 1
        ${SDIR}.pong.Pong            \
d158 1
a158 2
install_STB: ${STBFILES}
        ${MKDIR} ${INSTAPP}.files
a162 1
        ${CP} ${SDIR}.pong.Pong        ${INSTAPP}.bin.Pong        ${CPFLAGS}
d169 1
a169 1
install_: ${DISCFILES} dirs
d194 1
a194 1
        ${CP} ${SDIR}.pong.Pong             ${INSTAPP}.bin.Pong         ${CPFLAGS}
a195 1
        ${CP} ${SDIR}.tftp.Tftp             ${INSTAPP}.bin.Tftp         ${CPFLAGS}
d204 1
a230 1
        ${CP} ${SDIR}.pong.Pong             ${RESD}.bin.Pong         ${CPFLAGS}
@


4.28
log
@Add md5 utility A port of the FreeBSD tool of the same name, md5
calculates a long check sequence to see if the file has been transported across the internet without error.
Specifically, this is a snapshot of
  /lib/libmd/md5c.c revision 154479
  /lib/libmd/mdXhl.c revision 154479
  /sbin/md5/md5.c revision 238964
with a few tweaks for RISC OS.
Tested by comparing the MD5 sum of a few downloads from the downloads page.

Version 5.55. Tagged as 'Internet-5_55'
@
text
@d77 1
a95 5
BAREMINUTILS = \
        ${SDIR}.ifconfig.IfConfig    \
        ${SDIR}.ping.Ping            \
        ${RDIR}.!Boot
  
d121 1
d194 1
d235 1
a268 12
resources-BareMinUtils: ${BAREMINUTILS}
        ${MKDIR} ${RESD}
        ${MKDIR} ${RESD}.bin
        ${MKDIR} ${RESD}.files
        ${CP} ${SDIR}.ifconfig.IfConfig     ${RESD}.bin.IfConfig     ${CPFLAGS}
        ${CP} ${SDIR}.ping.Ping             ${RESD}.bin.Ping         ${CPFLAGS}
        ${CP} ${RDIR}.files.Hosts           ${RESD}.files.Hosts      ${CPFLAGS}
        ${CP} ${RDIR}.files.Protocols       ${RESD}.files.Protocols  ${CPFLAGS}
        ${CP} ${RDIR}.files.Services        ${RESD}.files.Services   ${CPFLAGS}
        ${AWK} -f awk.Version ${RDIR}.!Boot > ${RESD}.!Boot
        SetType ${RESD}.!Boot Obey

d371 8
@


4.27
log
@Install alternate !Internet icons
To save a little disc space the default is the RISC OS 5 cream colour folder, hence only the deltas (Ursula and Morris4) are needed.
Also, use Push/Pull in RMFind, move !Run into LocalRes: because it's english.

Version 5.50. Tagged as 'Internet-5_50'
@
text
@d73 1
d93 1
a93 1
        ${STBFILE}
a103 1
        ${SDIR}.pong.Pong            \
d116 1
a188 1
        ${CP} ${SDIR}.map-mbone.Map-MBone   ${INSTAPP}.bin.Map-MBone    ${CPFLAGS}
d191 2
d227 1
a257 1
        ${CP} ${SDIR}.pong.Pong             ${RESD}.bin.Pong         ${CPFLAGS}
d331 8
a425 86
BBETYPE = internet
bbe-internet: bbe-internet-${OPTIONS}-${TYPE} bbe-generic
        ${NOP}

bbe-internet-install_common:
        BBE_Export_File_In_Dir Sources.arp ARP
        BBE_Export_File_In_Dir Sources.ifconfig IfConfig
        BBE_Export_File_In_Dir Sources.inetstat InetStat
        BBE_Export_File_In_Dir Sources.ipvars IPVars
        BBE_Export_File_In_Dir Sources.ping Ping
        BBE_Export_File_In_Dir Sources.route Route
        BBE_Export_File_In_Dir Sources.showstat ShowStat
        BBE_Export_File_In_Dir Sources.sysctl SysCtl
        BBE_Export_File_In_Dir Sources.traceroute TraceRoute

bbe-internet-STB-: bbe-internet-install_common
        BBE_Export_File_In_Dir awk Version
        BBE_Export_File_In_Dir Resources !Boot
        BBE_Export_File_In_Dir Sources.pong Pong
        BBE_Export_Dir Resources.files

# assume if neither OPTIONS nor TYPE was set that it's an install build
bbe-internet--: bbe-internet-install_common
        BBE_Export_File_In_Dir awk Version
        BBE_Export_File_In_Dir Resources !Boot
        BBE_Export_File_In_Dir Resources !Run
        BBE_Export_File_In_Dir Resources !Sprites
        BBE_Export_File_In_Dir Resources !Sprites22
        BBE_Export_Dir Resources.files
        BBE_Export_Dir Resources.utils
        BBE_Export_File_In_Dir Sources.map-mbone Map-MBone
        BBE_Export_File_In_Dir Sources.gethost GetHost
        BBE_Export_File_In_Dir Sources.ifrconfig IfRConfig
        BBE_Export_File_In_Dir Sources.mrinfo MRInfo
        BBE_Export_File_In_Dir Sources.mtrace MTrace
        BBE_Export_File_In_Dir Sources.pong Pong
        BBE_Export_File_In_Dir Sources.utils.utl RMFind
        BBE_Export_File_In_Dir Sources.utils.utl CheckMem
        BBE_Export_File_In_Dir Sources.newfiler NewFiler
        BBE_Export_File_In_Dir Sources.utils.utl ReadCMOSIP
        BBE_Export_File_In_Dir Sources.utils.utl TriggerCBs

bbe-internet--NetUtils:
        BBE_Export_File_In_Dir Sources.arp ARP
        BBE_Export_File_In_Dir Sources.ifconfig IfConfig
        BBE_Export_File_In_Dir Sources.ifrconfig IfRConfig
        BBE_Export_File_In_Dir Sources.ipvars IPVars
        BBE_Export_File_In_Dir Sources.inetstat InetStat
        BBE_Export_File_In_Dir Sources.map-mbone Map-MBone
        BBE_Export_File_In_Dir Sources.mrinfo MRInfo
        BBE_Export_File_In_Dir Sources.mtrace MTrace
        BBE_Export_File_In_Dir Sources.ping Ping
        BBE_Export_File_In_Dir Sources.pong Pong
        BBE_Export_File_In_Dir Sources.utils.utl RMFind
        BBE_Export_File_In_Dir Sources.route Route
        BBE_Export_File_In_Dir Sources.sysctl SysCtl
        BBE_Export_File_In_Dir Sources.showstat ShowStat
        BBE_Export_File_In_Dir Sources.traceroute TraceRoute
        BBE_Export_File_In_Dir awk Version
        BBE_Export_Dir Resources.files
        BBE_Export_File_In_Dir Resources !Boot
        BBE_Export_File_In_Dir Resources !Run
        BBE_Export_File_In_Dir Resources !Sprites
        BBE_Export_File_In_Dir Resources !Sprites22

bbe-internet--EmergencyUtils:
        BBE_Export_File_In_Dir Sources.arp ARP
        BBE_Export_File_In_Dir Sources.ifconfig IfConfig
        BBE_Export_File_In_Dir Sources.ping Ping
        BBE_Export_File_In_Dir Sources.pong Pong
        BBE_Export_File_In_Dir Sources.utils.utl CheckMem
        BBE_Export_File_In_Dir Sources.newfiler NewFiler
        BBE_Export_File_In_Dir Sources.sysctl SysCtl
        BBE_Export_File_In_Dir awk Version
        BBE_Export_Dir Resources.files
        BBE_Export_File_In_Dir Resources !Boot
        BBE_Export_File_In_Dir Resources !Run

bbe-internet--BareMinUtils:
        BBE_Export_File_In_Dir Sources.ifconfig IfConfig
        BBE_Export_File_In_Dir Sources.ping Ping
        BBE_Export_Dir Resources.files
        BBE_Export_File_In_Dir awk Version
        BBE_Export_File_In_Dir Resources !Boot

#---------------------------------------------------------------------------
@


4.26
log
@Be a little more selective about what gets deleted
See changelog for revision 4.25, same idea, different implementation.
@
text
@d66 1
a66 1
        ${RDIR}.!Run\
d69 1
d107 1
a107 1
        ${RDIR}.!Run                 \
d126 1
a126 1
        ${RDIR}.!Run                  \
d173 1
a173 1
        ${AWK} -f awk.Version ${RDIR}.!Run > ${INSTAPP}.!Run
d175 8
a182 3
        ${CP} ${RDIR}.!Sprites   ${INSTAPP}.!Sprites   ${CPFLAGS}
        ${CP} ${RDIR}.!Sprites11 ${INSTAPP}.!Sprites11 ${CPFLAGS}
        ${CP} ${RDIR}.!Sprites22 ${INSTAPP}.!Sprites22 ${CPFLAGS}
d216 1
a216 1
        ${MKDIR} ${RESD}
d242 1
a242 1
        ${AWK} -f awk.Version ${RDIR}.!Run > ${RESD}.!Run
d244 2
a245 3
        ${CP} ${RDIR}.!Sprites              ${RESD}.!Sprites   ${CPFLAGS}
        ${CP} ${RDIR}.!Sprites11            ${RESD}.!Sprites11 ${CPFLAGS}
        ${CP} ${RDIR}.!Sprites22            ${RESD}.!Sprites22 ${CPFLAGS}
d265 1
a265 1
        ${AWK} -f awk.Version ${RDIR}.!Run > ${RESD}.!Run
@


4.25
log
@  Build fix
Detail:
  Install rule could only be run once because the redirection of the output
  of awk failed because the file already existed and was read-only. Fixed by
  wiping the destination directory before we start.
Admin:
  Checked in a disc build.

Retagged as 'Internet-5_49'

Version 5.49. Not tagged
@
text
@d141 4
a194 1
	${WIPE} ${INSTAPP} ${WFLAGS}
@


4.24
log
@Omit !Boot file from emergency utils
When included in a ROM in emergency utils form this isn't an application, so !Boot is unnecessary as !Run does the same initial variable assignments.
Also, since there are no sprites in that case, don't iconsprites the non existant file.

Version 5.48. Tagged as 'Internet-5_48'
@
text
@d191 1
@


4.23
log
@Replace "-wipe" with "x wipe" in makefiles to remove annoying errors.

Version 5.47. Tagged as 'Internet-5_47'
@
text
@d65 22
a86 22
 ${LDIR}.!Help\
 ${RDIR}.!Run\
 ${RDIR}.!Sprites\
 ${RDIR}.!Sprites22\
 ${SDIR}.gethost.GetHost\
 ${SDIR}.ifrconfig.IfRConfig\
 ${SDIR}.map-mbone.Map-MBone\
 ${SDIR}.mrinfo.MRInfo\
 ${SDIR}.mtrace.MTrace\
 ${SDIR}.pong.Pong\
 ${SDIR}.utils.utl.RMFind\
 ${RDIR}.files.AUNMap\
 ${RDIR}.files.Hosts\
 ${RDIR}.files.MimeMap\
 ${RDIR}.files.Networks\
 ${RDIR}.files.Protocols\
 ${RDIR}.files.Services\
 ${RDIR}.utils.BootNet\
 ${SDIR}.utils.utl.CheckMem\
 ${SDIR}.newfiler.NewFiler\
 ${SDIR}.utils.utl.ReadCMOSIP\
 ${SDIR}.utils.utl.TriggerCBs
d89 3
a91 3
  ${COMMONFILES} \
  ${DISCFILES} \
  ${STBFILE}
a105 1
        ${RDIR}.!Boot                \
a255 2
        ${AWK} -f awk.Version ${RDIR}.!Boot > ${RESD}.!Boot
        SetType ${RESD}.!Boot Obey
@


4.22
log
@Bulk import of missing !Sprites11 files

Version 5.46. Tagged as 'Internet-5_46'
@
text
@d44 1
a44 1
WIPE    = -wipe
@


4.21
log
@Added an appropriate BBE export rule, possibly the most compilcated yet!

Retagged since this won't affect code generation for existing builds.
-------
@
text
@d128 1
d172 1
d175 2
d236 1
@


4.20
log
@  Build updates
Detail:
  Updated to build correctly on Iyonix.
Summary:
  Tested in DB220 Baseline build

Version 5.44. Tagged as 'Internet-5_44'
@
text
@d405 84
@


4.19
log
@ANSIized.

Version 5.43. Tagged as 'Internet-5_43'
@
text
@d40 2
a41 2
MKDIR   = mkdir -p
ATTR    = -attr
d49 1
a49 1

d137 1
a137 2
        ${ATTR} -directories +wr -ww ${INSTAPP}
        ${ATTR} -files +or +ow +wr -ww ${INSTAPP}
@


4.18
log
@Sets filetype appropriately for !Run, !Boot and AUNMap.
@
text
@a172 1
        ${CP} ${RDIR}.bin        ${INSTAPP}.bin        ${CPFLAGS}
@


4.17
log
@Brought up-to-date with respect to Tungsten ROM releases - sources from
Kevin's hard disc.
Also automated version numbering of !Run/!Boot/!Help/AUNMap.

Version 5.42. Tagged as 'Internet-5_42'
@
text
@d155 1
d167 1
d170 1
d224 1
d230 1
d232 1
d249 1
d255 1
d257 1
d269 1
@


4.16
log
@Updated version numbers in an assortment of places to 5.39
Added freebsd disclaimer to !Help
added gethost produced from sources
Deleted ANT gethost and host binaries
Added useful help to all the utilities

Version 5.39. Tagged as 'Internet-5_39'
@
text
@d45 1
a61 2
# ${SDIR}.utils.utl.X

d92 16
d154 1
a154 1
        ${CP} LocalUserIFRes:!Boot     ${INSTAPP}.!Boot           ${CPFLAGS}
d165 3
a167 3
        ${CP} ${RDIR}.!Boot      ${INSTAPP}.!Boot      ${CPFLAGS}
        ${CP} ${LDIR}.!Help      ${INSTAPP}.!Help      ${CPFLAGS}
        ${CP} ${RDIR}.!Run       ${INSTAPP}.!Run       ${CPFLAGS}
d220 1
a220 2
        ${CP} ${SDIR}.utils.utl.X           ${RESD}.bin.X            ${CPFLAGS}
        ${CP} ${RDIR}.files.AUNMap          ${RESD}.files.AUNMap     ${CPFLAGS}
d225 2
a226 2
        ${CP} ${RDIR}.!Boot                 ${RESD}.!Boot      ${CPFLAGS}
        ${CP} ${RDIR}.!Run                  ${RESD}.!Run       ${CPFLAGS}
d229 31
@


4.15
log
@Build changes to use objasm.
Added a MimeMap file to the disc resources.
New sprites added.
As featured on the disc image accompanying RISC OS 5.00

Version 5.38. Tagged as 'Internet-5_38'
@
text
@d70 2
a71 2
 ${RDIR}.bin.GetHost\
 ${RDIR}.bin.Host\
d96 1
d113 1
a113 3
        ${RDIR}.!Sprites22

#        ${SDIR}.utils.utl.X           \
a136 2
#        ${CP} ${SDIR}.utils.utl.X           ${INSTAPP}.bin.X            ${CPFLAGS}

d160 2
d176 3
a178 3
	dir ${SDIR}
	!MkMods clean
	up
d184 1
a184 1
	@@echo ${COMPONENT}: No resource files to copy
d187 3
a189 3
	${MKDIR} ${RESD}
	${MKDIR} ${RESD}.bin
	${MKDIR} ${RESD}.files
d192 1
d217 4
a220 4
	dir ${SDIR}.arp
	@@amu_machine
	@@up
	@@up
d223 16
a238 4
	dir ${SDIR}.ifconfig
	@@amu_machine
	@@up
	@@up
d241 4
a244 4
	dir ${SDIR}.ipvars
	@@amu_machine
	@@up
	@@up
d247 8
a254 8
	${SDIR}.inetstat.c.if\
	${SDIR}.inetstat.c.inet\
	${SDIR}.inetstat.c.route\
	${SDIR}.inetstat.c.mroute
	dir ${SDIR}.inetstat
	@@amu_machine
	@@up
	@@up
d257 7
a263 7
	${SDIR}.map-mbone.c.igmp \
	${SDIR}.map-mbone.c.inet \
	${SDIR}.map-mbone.c.kern
	dir ${SDIR}.map-mbone
	@@amu_machine
	@@up
	@@up
d266 7
a272 7
	${SDIR}.mrinfo.c.igmp \
	${SDIR}.mrinfo.c.inet \
	${SDIR}.mrinfo.c.kern
	dir ${SDIR}.mrinfo
	@@amu_machine
	@@up
	@@up
d275 4
a278 4
	dir ${SDIR}.mtrace
	@@amu_machine
	@@up
	@@up
d281 4
a284 4
	dir ${SDIR}.ping
	@@amu_machine
	@@up
	@@up
d287 4
a290 4
	dir ${SDIR}.pong
	@@amu_machine
	@@up
	@@up
d293 4
a296 4
	dir ${SDIR}.route
	@@amu_machine
	@@up
	@@up
d299 4
a302 4
	dir ${SDIR}.showstat
	@@amu_machine 
	@@up
	@@up
d305 4
a308 4
	dir ${SDIR}.sysctl
	@@amu_machine
	@@up
	@@up
d311 4
a314 4
	dir ${SDIR}.traceroute
	@@amu_machine
	@@up
	@@up
d317 4
a320 4
	dir ${SDIR}.newfiler
	@@amu_machine
	@@up
	@@up
d323 4
a326 4
	dir ${SDIR}.utils
	@@amu_machine utl.CheckMem
	@@up
	@@up
d329 4
a332 4
	dir ${SDIR}.utils
	@@amu_machine utl.ReadCMOSIP
	@@up
	@@up
d335 4
a338 4
	dir ${SDIR}.utils
	@@amu_machine utl.RMFind
	@@up
	@@up
d341 4
a344 4
	dir ${SDIR}.utils
	@@amu_machine utl.TriggerCBs
	@@up
	@@up
d347 4
a350 4
	dir ${SDIR}.utils
	@@amu_machine utl.X
	@@up
	@@up
@


4.14
log
@  Brought into line with current STB Baseline builds.
Detail:
    * Updated the resources to include the current !Boot and the CopyLocal script
  * Adjusted the Makefile so STB builds also include the 'Pong' tool
Admin:
  Builds correctly.

Version 5.35. Tagged as 'Internet-5_35'
@
text
@d59 3
a61 2
 ${SDIR}.traceroute.TraceRoute\
 ${SDIR}.utils.utl.X
d79 1
a108 1
        ${SDIR}.utils.utl.X           \
d114 2
d137 2
a138 1
        ${CP} ${SDIR}.utils.utl.X           ${INSTAPP}.bin.X            ${CPFLAGS}
@


4.13
log
@    Compoment now exports resources correctly.

Detail:
    Amu would complain about the nesting in this component. This is due to a
bugfix in the latest version of amu (5.13) that means that macro expansion
works correctly. Fixed the makefile so that we do not get recursive macro
expansion.

Admin:
    Tested in a 32-bit Lazarus build.

Version 5.33. Tagged as 'Internet-5_33'
@
text
@d40 1
a40 1
MKDIR   = cdir
d60 3
a62 1
 ${SDIR}.utils.utl.X\
d89 2
a90 1
  ${DISCFILES}
d136 11
a146 6
install_STB:
        ${MKDIR} ${INSTAPP}.etc
        ${CP} LocalUserIFRes:!Boot     ${INSTAPP}.!Boot         ${CPFLAGS}
        ${CP} ${RDIR}.files.Hosts      ${INSTAPP}.etc.hosts     ${CPFLAGS}
        ${CP} ${RDIR}.files.protocols  ${INSTAPP}.etc.protocols ${CPFLAGS}
        ${CP} ${RDIR}.files.services   ${INSTAPP}.etc.services  ${CPFLAGS}
@


4.12
log
@srccommitted. "STB" install now installs standard hosts, services and
protocols files.

Version 5.30. Tagged as 'Internet-5_30'
@
text
@d35 1
a35 1
INSTDIR    = ${INSTDIR}.${APP}
d117 2
a118 2
        ${ATTR} -directories +wr -ww ${INSTDIR}
        ${ATTR} -files +or +ow +wr -ww ${INSTDIR}
d122 10
a131 10
        ${CP} ${SDIR}.arp.ARP               ${INSTDIR}.bin.ARP          ${CPFLAGS}
        ${CP} ${SDIR}.ifconfig.IfConfig     ${INSTDIR}.bin.IfConfig     ${CPFLAGS}
        ${CP} ${SDIR}.inetstat.InetStat     ${INSTDIR}.bin.InetStat     ${CPFLAGS}
        ${CP} ${SDIR}.ipvars.IPVars         ${INSTDIR}.bin.IPVars       ${CPFLAGS}
        ${CP} ${SDIR}.ping.Ping             ${INSTDIR}.bin.Ping         ${CPFLAGS}
        ${CP} ${SDIR}.route.Route           ${INSTDIR}.bin.Route        ${CPFLAGS}
        ${CP} ${SDIR}.showstat.ShowStat     ${INSTDIR}.bin.ShowStat     ${CPFLAGS}
        ${CP} ${SDIR}.sysctl.SysCtl         ${INSTDIR}.bin.SysCtl       ${CPFLAGS}
        ${CP} ${SDIR}.traceroute.TraceRoute ${INSTDIR}.bin.TraceRoute   ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.X           ${INSTDIR}.bin.X            ${CPFLAGS}
d134 5
a138 5
        ${MKDIR} ${INSTDIR}.etc
        ${CP} LocalUserIFRes:!Boot     ${INSTDIR}.!Boot         ${CPFLAGS}
        ${CP} ${RDIR}.files.Hosts      ${INSTDIR}.etc.hosts     ${CPFLAGS}
        ${CP} ${RDIR}.files.protocols  ${INSTDIR}.etc.protocols ${CPFLAGS}
        ${CP} ${RDIR}.files.services   ${INSTDIR}.etc.services  ${CPFLAGS}
d141 8
a148 8
        ${CP} ${RDIR}.!Boot      ${INSTDIR}.!Boot      ${CPFLAGS}
        ${CP} ${LDIR}.!Help      ${INSTDIR}.!Help      ${CPFLAGS}
        ${CP} ${RDIR}.!Run       ${INSTDIR}.!Run       ${CPFLAGS}
        ${CP} ${RDIR}.!Sprites   ${INSTDIR}.!Sprites   ${CPFLAGS}
        ${CP} ${RDIR}.!Sprites22 ${INSTDIR}.!Sprites22 ${CPFLAGS}
        ${CP} ${RDIR}.bin        ${INSTDIR}.bin        ${CPFLAGS}
        ${CP} ${RDIR}.files      ${INSTDIR}.files      ${CPFLAGS}
        ${CP} ${RDIR}.utils      ${INSTDIR}.utils      ${CPFLAGS}
d150 9
a158 9
        ${CP} ${SDIR}.map-mbone.Map-MBone   ${INSTDIR}.bin.Map-MBone    ${CPFLAGS}
        ${CP} ${SDIR}.mrinfo.MRInfo         ${INSTDIR}.bin.MRInfo       ${CPFLAGS}
        ${CP} ${SDIR}.mtrace.MTrace         ${INSTDIR}.bin.MTrace       ${CPFLAGS}
        ${CP} ${SDIR}.pong.Pong             ${INSTDIR}.bin.Pong         ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.RMFind      ${INSTDIR}.bin.RMFind       ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.CheckMem    ${INSTDIR}.utils.CheckMem   ${CPFLAGS}
        ${CP} ${SDIR}.newfiler.NewFiler     ${INSTDIR}.utils.NewFiler   ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.ReadCMOSIP  ${INSTDIR}.utils.ReadCMOSIP ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.TriggerCBs  ${INSTDIR}.utils.TriggerCBs ${CPFLAGS}
d161 2
a162 2
        ${MKDIR} ${INSTDIR}
        ${MKDIR} ${INSTDIR}.bin
@


4.11
log
@Obsolete hosts, protocols and services files removed from STB400 directory.
@
text
@d136 3
@


4.10
log
@Summary
  * STB400 Baseline work.
Detail
  * Removed Resources/STB400/UK/!Run & !Help as they are no longer exported
    in the Baseline.
  * Added Resources/STB400/UK/!Boot.
Admin
  * Changes only affect install: builds with OPTIONS=STB set.  Tested on
    baseline build BL400UK (checkin to follow).
@
text
@a135 3
        ${CP} LocalUserIFRes:hosts     ${INSTDIR}.etc.hosts     ${CPFLAGS}
        ${CP} LocalUserIFRes:protocols ${INSTDIR}.etc.protocols ${CPFLAGS}
        ${CP} LocalUserIFRes:services  ${INSTDIR}.etc.services  ${CPFLAGS}
@


4.9
log
@  Added new IPVars tool.
Detail:
  IPVars sets 6 variables per active interface.
  For interface ei0, you get:
    Inet$ei0$Addr       - IP Address
    Inet$ei0$Mask       - IP Subnet mask
    Inet$ei0$Host       - Host portion of address
    Inet$ei0$Network    - Network portion of address
    Inet$ei0$Broadcast  - Broadcast address for interface
    Inet$ei0$MAC        - MAC address of interface
Admin:
  Work done for STB-400.
@
text
@d135 1
a135 2
        ${CP} LocalUserIFRes:!Run      ${INSTDIR}.!Run          ${CPFLAGS}
        ${CP} LocalUserIFRes:!Help     ${INSTDIR}.!Help         ${CPFLAGS}
@


4.8
log
@* Updated Makefile to allow building on minimalist STB !Internet.  If
  OPTIONS=STB is passed into the makefile this is built, otherwise the
  normal disc build is built.  Makefile expects Resources.<UserIF>.<Locale>
  to contain !Boot, !Run etc.  Not checked in yet.
* Added !MkInstSTB.
* Tested building STB and original builds.

Added for STB400 Baseline.
@
text
@d54 1
d93 1
d125 1
d182 1
d213 6
@


4.7
log
@Added MRInfo.
MTrace would occasionally close someone else's socket.
@
text
@d23 2
d49 13
a61 2
FILES=\
 ${RDIR}.!Boot\
a65 1
 ${SDIR}.arp.ARP\
a67 2
 ${SDIR}.ifconfig.IfConfig\
 ${SDIR}.inetstat.InetStat\
a70 1
 ${SDIR}.ping.Ping\
a72 5
 ${SDIR}.route.Route\
 ${SDIR}.traceroute.TraceRoute\
 ${SDIR}.showstat.ShowStat\
 ${SDIR}.sysctl.SysCtl\
 ${SDIR}.utils.utl.X\
d84 4
d114 25
a138 3
install: ${FILES}
        ${MKDIR} ${INSTDIR}
        |
a147 3
        ${CP} ${SDIR}.arp.ARP               ${INSTDIR}.bin.ARP          ${CPFLAGS}
        ${CP} ${SDIR}.ifconfig.IfConfig     ${INSTDIR}.bin.IfConfig     ${CPFLAGS}
        ${CP} ${SDIR}.inetstat.InetStat     ${INSTDIR}.bin.InetStat     ${CPFLAGS}
a150 1
        ${CP} ${SDIR}.ping.Ping             ${INSTDIR}.bin.Ping         ${CPFLAGS}
a152 5
        ${CP} ${SDIR}.route.Route           ${INSTDIR}.bin.Route        ${CPFLAGS}
        ${CP} ${SDIR}.showstat.ShowStat     ${INSTDIR}.bin.ShowStat     ${CPFLAGS}
        ${CP} ${SDIR}.sysctl.SysCtl         ${INSTDIR}.bin.SysCtl       ${CPFLAGS}
        ${CP} ${SDIR}.traceroute.TraceRoute ${INSTDIR}.bin.TraceRoute   ${CPFLAGS}
        ${CP} ${SDIR}.utils.utl.X           ${INSTDIR}.bin.X            ${CPFLAGS}
d157 4
a160 5
        |
        ${ATTR} -directories +wr -ww ${INSTDIR}
        ${ATTR} -files +or +ow +wr -ww ${INSTDIR}
        |
        @@echo ${COMPONENT}: All installed (Disc)
@


4.6
log
@Added RISC OS versions of the multicast diagnostic utilities map-mbone and
mtrace.
@
text
@d59 1
d85 1
d122 1
d161 1
d208 9
@


4.5
log
@Updated to build and export our version of showstat.
@
text
@d58 2
d83 2
d119 2
d157 2
d195 15
@


4.4
log
@Added "files" directory, !Boot, !Run and !Sprites* to resources version.
@
text
@d63 1
a63 1
 ${RDIR}.bin.ShowStat\
d85 1
d119 1
d156 1
d206 6
@


4.3
log
@Modified to export just resources when TYPE=NetUtils
@
text
@d34 1
a34 1
RESD       = ${RESDIR}.Internet.bin
d86 6
a91 2
        ${SDIR}.traceroute.TraceRoute\
        ${SDIR}.utils.utl.X          
a142 1
	${MKDIR} ${RESDIR}.Internet
d145 1
d156 9
@


4.2
log
@* Removed binaries which can now be rebuilt from imported sources.  (The old
  binaries are still available if you extract them explicitly, of course)
* Added externally supplied binaries of Host and GetHost (which we are
  shipping on J233) for reference.
@
text
@d34 1
d77 12
d132 20
@


4.1
log
@Initial revision
@
text
@d15 1
a15 1
# Makefile for Scrap
d32 1
d52 10
a61 6
 ${RDIR}.bin.ARP\
 ${RDIR}.bin.IfConfig\
 ${RDIR}.bin.InetStat\
 ${RDIR}.bin.Ping\
 ${RDIR}.bin.RMFind\
 ${RDIR}.bin.Route\
d63 2
a64 2
 ${RDIR}.bin.Sysctl\
 ${RDIR}.bin.X\
d71 4
a74 4
 ${RDIR}.utils.CheckMem\
 ${RDIR}.utils.NewFiler\
 ${RDIR}.utils.ReadCMOSIP\
 ${RDIR}.utils.TriggerCBs
d94 15
d115 3
d119 89
@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@@
