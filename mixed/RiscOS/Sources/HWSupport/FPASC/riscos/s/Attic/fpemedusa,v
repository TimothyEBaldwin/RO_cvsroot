head	4.7;
access;
symbols
	FPASC-4_30:4.6
	FPASC-4_29:4.6
	FPASC-4_28-2:4.6
	FPASC-4_28:4.6
	FPASC-4_27:4.6
	FPASC-4_26:4.6
	FPASC-4_25:4.6
	FPASC-4_24:4.6
	FPASC-4_23:4.6
	RO_5_07:4.6
	FPASC-4_22:4.6
	FPASC-4_21:4.6
	FPASC-4_20:4.6
	FPASC-4_18:4.4
	FPASC-4_17:4.4
	FPASC-4_16:4.4
	FPASC-4_15:4.4
	FPASC-4_14:4.4
	dellis_autobuild_BaseSW:4.4
	FPASC-4_13:4.4
	FPASC-4_12:4.4
	sbrodie_sedwards_16Mar2000:4.4
	kbracey_32bit_merge:4.4
	FPASC-4_11:4.4
	FPASC-4_10-4_3_2_1:4.4
	kbracey_32bit:4.4.0.2
	dcotton_autobuild_BaseSW:4.4
	FPASC-4_10:4.4
	Ursula_merge:4.3.2.2
	mstphens_UrsulaRiscPCBuild_20Nov98:4.3.2.1.2.1
	Ursula_RiscPC:4.3.2.1.0.2
	nicke_FPASC-4_05:4.1.7.1
	FPASC-4_09:4.3
	rthornb_UrsulaBuild-19Aug1998:4.3.2.1
	UrsulaBuild_FinalSoftload:4.3.2.1
	rthornb_UrsulaBuild-12Aug1998:4.3.2.1
	aglover_UrsulaBuild-05Aug1998:4.3.2.1
	rthornb_UrsulaBuild-29Jul1998:4.3.2.1
	rthornb_UrsulaBuild-22Jul1998:4.3.2.1
	rthornb_UrsulaBuild-15Jul1998:4.3.2.1
	rthornb_UrsulaBuild-07Jul1998:4.3.2.1
	rthornb_UrsulaBuild-17Jun1998:4.3.2.1
	rthornb_UrsulaBuild-03Jun1998:4.3.2.1
	rthornb_UrsulaBuild-27May1998:4.3.2.1
	rthornb_UrsulaBuild-21May1998:4.3.2.1
	rthornb_UrsulaBuild_01May1998:4.3.2.1
	afrost_NC2_Generic:4.1.7.1
	Spinner_RCA116:4.1.7.1
	Spinner_B20_2:4.1.7.1
	Spinner_19_3:4.1.7.1
	Spinner_B18:4.1.7.1
	Spinner_B17:4.1.7.1
	Spinner_B15:4.1.7.1
	Spinner_B14:4.1.7.1
	Spinner_B13:4.1.7.1
	Spinner_B12:4.1.7.1
	Spinner_B10:4.1.7.1
	Daytona:4.3.0.4
	Daytona_bp:4.3
	Ursula:4.3.0.2
	Ursula_bp:4.3
	Spinner_B7:4.1.7.1
	RO_3_71:4.1.3.2
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	RCA_bp:4.2
	ARTtmp:4.1.7.1.0.2
	RCA:4.2.0.4
	Spin_merge:4.1.7.1
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.7
date	2013.01.27.17.27.12;	author rsprowson;	state dead;
branches;
next	4.6;
commitid	s568crYEpbWU6SBw;

4.6
date	2003.02.21.14.35.25;	author kbracey;	state Exp;
branches;
next	4.5;

4.5
date	2002.04.12.13.42.16;	author srevill;	state dead;
branches;
next	4.4;

4.4
date	99.08.03.17.56.57;	author kbracey;	state Exp;
branches;
next	4.3;

4.3
date	97.05.02.09.52.06;	author kbracey;	state Exp;
branches
	4.3.2.1;
next	4.2;

4.2
date	97.01.21.16.24.44;	author nturton;	state Exp;
branches;
next	4.1;

4.1
date	96.11.05.09.35.54;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.3.2.1
date	98.03.27.10.35.13;	author mstphens;	state Exp;
branches
	4.3.2.1.2.1;
next	4.3.2.2;

4.3.2.2
date	98.11.13.14.40.01;	author mstphens;	state Exp;
branches;
next	;

4.3.2.1.2.1
date	98.11.23.15.01.25;	author mstphens;	state Exp;
branches;
next	;

4.1.1.1
date	96.11.05.09.35.54;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.06.01.25.02;	author nturton;	state Exp;
branches
	4.1.3.1.2.1;
next	4.1.3.2;

4.1.3.2
date	97.05.01.14.35.54;	author kbracey;	state Exp;
branches;
next	;

4.1.3.1.2.1
date	97.04.30.12.28.14;	author kbracey;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.11.51.50;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.20.46.44;	author nturton;	state Exp;
branches;
next	;


desc
@@


4.7
log
@IOMD moved to distinct machine
Comments updated in CortexA8/CortexA9/STB55/STB5cx/Tungsten.
Machine '32' offers SoftOnly now.
Removed fpemedusa and Phoebe.
Removed some proliferating !MkROM obey files.

Version 4.31. Tagged as 'FPASC-4_31'
@
text
@; Copyright 1996 Acorn Computers Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;
; -*-As-*-
;
; > riscos.s.fpe400
;
; Copyright (c) 1994 Acorn Computers Ltd., Cambridge, England.
;
; Assembler source for FPA support code and emulator
; ==================================================
; Header file for the riscos veneer.
;

                GBLS    VeneerName      ;The name of the veneer to use
VeneerName      SETS    "riscos"

                GBLS    CoreDir
CoreDir         SETS    "^.coresrc.s."  ;RISC OS uses "." as the directory
                                        ; separator character

                GBLS    VeneerDir
VeneerDir       SETS    "^.vensrc.$VeneerName.."
                                        ;NB first "." after "$VeneerName"
                                        ; terminates the variable name, the
                                        ; second is the directory separator

                GBLS    FileExt
FileExt         SETS    ""              ;RISC OS doesn't use filename
                                        ; extensions

;
; Controls for veneer sources
;
        GBLS    Flavour
Flavour SETS    "Both"    ;no FPA support for Ursula (aimed at SA-110 Phoebe)

        GBLL    Arm600
Arm600  SETL    {TRUE}

        LNK     $CoreDir.main$FileExt
@


4.6
log
@Bug fix in STFP - minor error at bottom of word.
New switch to allow use of CLZ.
Added Docs.

Version 4.20. Tagged as 'FPASC-4_20'
@
text
@@


4.5
log
@  * Fixed install phase;
  * Moved stripdepnd out of Makefile;
  * Variants passed on amu command line.
Detail:
  * You can now specify the precise build variant of the FPEmulator by passing
    System=... and FPE_APCS=... on the amu command line. There are now more
    files in riscos.s to set the options for various types (as per Wimp).
    The default FPE as was is now built with: System="RO380" FPE_APCS="3/32bit"
Admin:
  Builds.
Version 4.19. Tagged as 'FPASC-4_19'
@
text
@@


4.4
log
@Ursula branch merged. This contains:
  Use of UMULL (compiled out).
  Service call table.
  Runs in UND32 mode (requires latest Kernel), giving a speed boost.

Version 4.10. Tagged as 'FPASC-4_10'
@
text
@@


4.3
log
@Version RO_3_71 merged
@
text
@d47 1
a47 1
Flavour SETS    "Both"
a50 6

        GBLL    StrongARM
        GBLL    SASTMhatbroken

StrongARM       SETL {TRUE}
SASTMhatbroken  SETL {TRUE} :LAND: StrongARM
@


4.3.2.1
log
@incorporate KBracey changes:
  Use long multiply (assumes long multiply; won't work on ARM 610,710)
  Compile with 32-bit APCS for better efficiency (requires Ursula kernel)
  Also compile for soft FP only (suit SA110)
update module format to Ursula service handler table
@
text
@d47 1
a47 1
Flavour SETS    "SoftOnly"    ;no FPA support for Ursula (aimed at SA-110 Phoebe)
d51 6
@


4.3.2.1.2.1
log
@Change switches, for Ursula on RPC and A7000(+), as follows:
  vensrc.riscos.options
    Use64bitMultiply set FALSE (for 610,710,7500)
  riscos.s.fpemedusa
    Flavour changed from SoftOnly to Both (for 7500FE)
This is the same as my last commit to the Ursula branch
@
text
@d47 1
a47 1
Flavour SETS    "Both"    ;no FPA support for Ursula (aimed at SA-110 Phoebe)
@


4.3.2.2
log
@Change switches, for Ursula on RPC and A7000(+), as follows:
  vensrc.riscos.options
    Use64bitMultiply set FALSE (for 610,710,7500)
  riscos.s.fpemedusa
    Flavour changed from SoftOnly to Both (for 7500FE)
@
text
@d47 1
a47 1
Flavour SETS    "Both"    ;no FPA support for Ursula (aimed at SA-110 Phoebe)
@


4.2
log
@Version RO_3_70 taken
@
text
@d52 5
a56 2
        GBLL    SAnaffsilicon   ;fudges for naff prototype StrongARM silicon
SAnaffsilicon SETL {TRUE}
@


4.1
log
@Initial revision
@
text
@d46 2
a47 2
	GBLS	Flavour
Flavour	SETS	"Both"
d49 5
a53 2
	GBLL	Arm600
Arm600	SETL	{TRUE}
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.5.1
log
@Import from SrcFiler
@
text
@@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@d46 2
a47 2
        GBLS    Flavour
Flavour SETS    "Both"
d49 2
a50 5
        GBLL    Arm600
Arm600  SETL    {TRUE}

        GBLL    SAnaffsilicon   ;fudges for naff prototype StrongARM silicon
SAnaffsilicon SETL {TRUE}
@


4.1.3.2
log
@Version RO_3_71 taken
@
text
@d52 2
a53 5
        GBLL    StrongARM
        GBLL    SASTMhatbroken

StrongARM       SETL {TRUE}
SASTMhatbroken  SETL {TRUE} :LAND: StrongARM
@


4.1.3.1.2.1
log
@Merged from 3.71 CD
@
text
@d52 2
a53 5
        GBLL    StrongARM
        GBLL    SASTMhatbroken

StrongARM       SETL {TRUE}
SASTMhatbroken  SETL {TRUE} :LAND: StrongARM
@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
