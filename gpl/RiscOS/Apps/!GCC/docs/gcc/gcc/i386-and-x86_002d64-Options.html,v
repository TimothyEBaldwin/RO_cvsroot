head	1.1;
branch	1.1.1;
access;
symbols
	GCC-4_7_4_r3:1.1.1.2
	GCC-4_1_2_r2:1.1.1.1
	MAIN:1.1.1;
locks; strict;
comment	@# @;


1.1
date	2013.07.29.22.46.19;	author jlee;	state Exp;
branches
	1.1.1.1;
next	;
commitid	Uxh7I3IiWVY2YpZw;

1.1.1.1
date	2013.07.29.22.46.19;	author jlee;	state Exp;
branches;
next	1.1.1.2;
commitid	Uxh7I3IiWVY2YpZw;

1.1.1.2
date	2017.04.15.15.12.27;	author jlee;	state Exp;
branches;
next	;
commitid	Kx60weqAWGeJSDNz;


desc
@@


1.1
log
@Initial revision
@
text
@<html lang="en">
<head>
<title>i386 and x86-64 Options - Using the GNU Compiler Collection (GCC)</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Using the GNU Compiler Collection (GCC)">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Submodel-Options.html#Submodel-Options" title="Submodel Options">
<link rel="prev" href="HPPA-Options.html#HPPA-Options" title="HPPA Options">
<link rel="next" href="IA_002d64-Options.html#IA_002d64-Options" title="IA-64 Options">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'' and ``Funding
Free Software'', the Front-Cover texts being (a) (see below), and with
the Back-Cover Texts being (b) (see below).  A copy of the license is
included in the section entitled ``GNU Free Documentation License''.

(a) The FSF's Front-Cover Text is:

     A GNU Manual

(b) The FSF's Back-Cover Text is:

     You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="i386-and-x86-64-Options"></a>
<a name="i386-and-x86_002d64-Options"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="IA_002d64-Options.html#IA_002d64-Options">IA-64 Options</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="HPPA-Options.html#HPPA-Options">HPPA Options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Submodel-Options.html#Submodel-Options">Submodel Options</a>
<hr>
</div>

<h4 class="subsection">3.17.13 Intel 386 and AMD x86-64 Options</h4>

<p><a name="index-i386-Options-1007"></a><a name="index-x86_002d64-Options-1008"></a><a name="index-Intel-386-Options-1009"></a><a name="index-AMD-x86_002d64-Options-1010"></a>
These &lsquo;<samp><span class="samp">-m</span></samp>&rsquo; options are defined for the i386 and x86-64 family of
computers:

     <dl>
<dt><code>-mtune=</code><var>cpu-type</var><dd><a name="index-mtune-1011"></a>Tune to <var>cpu-type</var> everything applicable about the generated code, except
for the ABI and the set of available instructions.  The choices for
<var>cpu-type</var> are:
          <dl>
<dt><em>i386</em><dd>Original Intel's i386 CPU. 
<br><dt><em>i486</em><dd>Intel's i486 CPU.  (No scheduling is implemented for this chip.) 
<br><dt><em>i586, pentium</em><dd>Intel Pentium CPU with no MMX support. 
<br><dt><em>pentium-mmx</em><dd>Intel PentiumMMX CPU based on Pentium core with MMX instruction set support. 
<br><dt><em>i686, pentiumpro</em><dd>Intel PentiumPro CPU. 
<br><dt><em>pentium2</em><dd>Intel Pentium2 CPU based on PentiumPro core with MMX instruction set support. 
<br><dt><em>pentium3, pentium3m</em><dd>Intel Pentium3 CPU based on PentiumPro core with MMX and SSE instruction set
support. 
<br><dt><em>pentium-m</em><dd>Low power version of Intel Pentium3 CPU with MMX, SSE and SSE2 instruction set
support.  Used by Centrino notebooks. 
<br><dt><em>pentium4, pentium4m</em><dd>Intel Pentium4 CPU with MMX, SSE and SSE2 instruction set support. 
<br><dt><em>prescott</em><dd>Improved version of Intel Pentium4 CPU with MMX, SSE, SSE2 and SSE3 instruction
set support. 
<br><dt><em>nocona</em><dd>Improved version of Intel Pentium4 CPU with 64-bit extensions, MMX, SSE,
SSE2 and SSE3 instruction set support. 
<br><dt><em>k6</em><dd>AMD K6 CPU with MMX instruction set support. 
<br><dt><em>k6-2, k6-3</em><dd>Improved versions of AMD K6 CPU with MMX and 3dNOW! instruction set support. 
<br><dt><em>athlon, athlon-tbird</em><dd>AMD Athlon CPU with MMX, 3dNOW!, enhanced 3dNOW! and SSE prefetch instructions
support. 
<br><dt><em>athlon-4, athlon-xp, athlon-mp</em><dd>Improved AMD Athlon CPU with MMX, 3dNOW!, enhanced 3dNOW! and full SSE
instruction set support. 
<br><dt><em>k8, opteron, athlon64, athlon-fx</em><dd>AMD K8 core based CPUs with x86-64 instruction set support.  (This supersets
MMX, SSE, SSE2, 3dNOW!, enhanced 3dNOW! and 64-bit instruction set extensions.) 
<br><dt><em>winchip-c6</em><dd>IDT Winchip C6 CPU, dealt in same way as i486 with additional MMX instruction
set support. 
<br><dt><em>winchip2</em><dd>IDT Winchip2 CPU, dealt in same way as i486 with additional MMX and 3dNOW! 
instruction set support. 
<br><dt><em>c3</em><dd>Via C3 CPU with MMX and 3dNOW! instruction set support.  (No scheduling is
implemented for this chip.) 
<br><dt><em>c3-2</em><dd>Via C3-2 CPU with MMX and SSE instruction set support.  (No scheduling is
implemented for this chip.) 
</dl>

     <p>While picking a specific <var>cpu-type</var> will schedule things appropriately
for that particular chip, the compiler will not generate any code that
does not run on the i386 without the <samp><span class="option">-march=</span><var>cpu-type</var></samp> option
being used.

     <br><dt><code>-march=</code><var>cpu-type</var><dd><a name="index-march-1012"></a>Generate instructions for the machine type <var>cpu-type</var>.  The choices
for <var>cpu-type</var> are the same as for <samp><span class="option">-mtune</span></samp>.  Moreover,
specifying <samp><span class="option">-march=</span><var>cpu-type</var></samp> implies <samp><span class="option">-mtune=</span><var>cpu-type</var></samp>.

     <br><dt><code>-mcpu=</code><var>cpu-type</var><dd><a name="index-mcpu-1013"></a>A deprecated synonym for <samp><span class="option">-mtune</span></samp>.

     <br><dt><code>-m386</code><dt><code>-m486</code><dt><code>-mpentium</code><dt><code>-mpentiumpro</code><dd><a name="index-m386-1014"></a><a name="index-m486-1015"></a><a name="index-mpentium-1016"></a><a name="index-mpentiumpro-1017"></a>These options are synonyms for <samp><span class="option">-mtune=i386</span></samp>, <samp><span class="option">-mtune=i486</span></samp>,
<samp><span class="option">-mtune=pentium</span></samp>, and <samp><span class="option">-mtune=pentiumpro</span></samp> respectively. 
These synonyms are deprecated.

     <br><dt><code>-mfpmath=</code><var>unit</var><dd><a name="index-march-1018"></a>Generate floating point arithmetics for selected unit <var>unit</var>.  The choices
for <var>unit</var> are:

          <dl>
<dt>&lsquo;<samp><span class="samp">387</span></samp>&rsquo;<dd>Use the standard 387 floating point coprocessor present majority of chips and
emulated otherwise.  Code compiled with this option will run almost everywhere. 
The temporary results are computed in 80bit precision instead of precision
specified by the type resulting in slightly different results compared to most
of other chips.  See <samp><span class="option">-ffloat-store</span></samp> for more detailed description.

          <p>This is the default choice for i386 compiler.

          <br><dt>&lsquo;<samp><span class="samp">sse</span></samp>&rsquo;<dd>Use scalar floating point instructions present in the SSE instruction set. 
This instruction set is supported by Pentium3 and newer chips, in the AMD line
by Athlon-4, Athlon-xp and Athlon-mp chips.  The earlier version of SSE
instruction set supports only single precision arithmetics, thus the double and
extended precision arithmetics is still done using 387.  Later version, present
only in Pentium4 and the future AMD x86-64 chips supports double precision
arithmetics too.

          <p>For the i386 compiler, you need to use <samp><span class="option">-march=</span><var>cpu-type</var></samp>, <samp><span class="option">-msse</span></samp>
or <samp><span class="option">-msse2</span></samp> switches to enable SSE extensions and make this option
effective.  For the x86-64 compiler, these extensions are enabled by default.

          <p>The resulting code should be considerably faster in the majority of cases and avoid
the numerical instability problems of 387 code, but may break some existing
code that expects temporaries to be 80bit.

          <p>This is the default choice for the x86-64 compiler.

          <br><dt>&lsquo;<samp><span class="samp">sse,387</span></samp>&rsquo;<dd>Attempt to utilize both instruction sets at once.  This effectively double the
amount of available registers and on chips with separate execution units for
387 and SSE the execution resources too.  Use this option with care, as it is
still experimental, because the GCC register allocator does not model separate
functional units well resulting in instable performance. 
</dl>

     <br><dt><code>-masm=</code><var>dialect</var><dd><a name="index-masm_003d_0040var_007bdialect_007d-1019"></a>Output asm instructions using selected <var>dialect</var>.  Supported
choices are &lsquo;<samp><span class="samp">intel</span></samp>&rsquo; or &lsquo;<samp><span class="samp">att</span></samp>&rsquo; (the default one).  Darwin does
not support &lsquo;<samp><span class="samp">intel</span></samp>&rsquo;.

     <br><dt><code>-mieee-fp</code><dt><code>-mno-ieee-fp</code><dd><a name="index-mieee_002dfp-1020"></a><a name="index-mno_002dieee_002dfp-1021"></a>Control whether or not the compiler uses IEEE floating point
comparisons.  These handle correctly the case where the result of a
comparison is unordered.

     <br><dt><code>-msoft-float</code><dd><a name="index-msoft_002dfloat-1022"></a>Generate output containing library calls for floating point. 
<strong>Warning:</strong> the requisite libraries are not part of GCC. 
Normally the facilities of the machine's usual C compiler are used, but
this can't be done directly in cross-compilation.  You must make your
own arrangements to provide suitable library functions for
cross-compilation.

     <p>On machines where a function returns floating point results in the 80387
register stack, some floating point opcodes may be emitted even if
<samp><span class="option">-msoft-float</span></samp> is used.

     <br><dt><code>-mno-fp-ret-in-387</code><dd><a name="index-mno_002dfp_002dret_002din_002d387-1023"></a>Do not use the FPU registers for return values of functions.

     <p>The usual calling convention has functions return values of types
<code>float</code> and <code>double</code> in an FPU register, even if there
is no FPU.  The idea is that the operating system should emulate
an FPU.

     <p>The option <samp><span class="option">-mno-fp-ret-in-387</span></samp> causes such values to be returned
in ordinary CPU registers instead.

     <br><dt><code>-mno-fancy-math-387</code><dd><a name="index-mno_002dfancy_002dmath_002d387-1024"></a>Some 387 emulators do not support the <code>sin</code>, <code>cos</code> and
<code>sqrt</code> instructions for the 387.  Specify this option to avoid
generating those instructions.  This option is the default on FreeBSD,
OpenBSD and NetBSD.  This option is overridden when <samp><span class="option">-march</span></samp>
indicates that the target cpu will always have an FPU and so the
instruction will not need emulation.  As of revision 2.6.1, these
instructions are not generated unless you also use the
<samp><span class="option">-funsafe-math-optimizations</span></samp> switch.

     <br><dt><code>-malign-double</code><dt><code>-mno-align-double</code><dd><a name="index-malign_002ddouble-1025"></a><a name="index-mno_002dalign_002ddouble-1026"></a>Control whether GCC aligns <code>double</code>, <code>long double</code>, and
<code>long long</code> variables on a two word boundary or a one word
boundary.  Aligning <code>double</code> variables on a two word boundary will
produce code that runs somewhat faster on a &lsquo;<samp><span class="samp">Pentium</span></samp>&rsquo; at the
expense of more memory.

     <p>On x86-64, <samp><span class="option">-malign-double</span></samp> is enabled by default.

     <p><strong>Warning:</strong> if you use the <samp><span class="option">-malign-double</span></samp> switch,
structures containing the above types will be aligned differently than
the published application binary interface specifications for the 386
and will not be binary compatible with structures in code compiled
without that switch.

     <br><dt><code>-m96bit-long-double</code><dt><code>-m128bit-long-double</code><dd><a name="index-m96bit_002dlong_002ddouble-1027"></a><a name="index-m128bit_002dlong_002ddouble-1028"></a>These switches control the size of <code>long double</code> type.  The i386
application binary interface specifies the size to be 96 bits,
so <samp><span class="option">-m96bit-long-double</span></samp> is the default in 32 bit mode.

     <p>Modern architectures (Pentium and newer) would prefer <code>long double</code>
to be aligned to an 8 or 16 byte boundary.  In arrays or structures
conforming to the ABI, this would not be possible.  So specifying a
<samp><span class="option">-m128bit-long-double</span></samp> will align <code>long double</code>
to a 16 byte boundary by padding the <code>long double</code> with an additional
32 bit zero.

     <p>In the x86-64 compiler, <samp><span class="option">-m128bit-long-double</span></samp> is the default choice as
its ABI specifies that <code>long double</code> is to be aligned on 16 byte boundary.

     <p>Notice that neither of these options enable any extra precision over the x87
standard of 80 bits for a <code>long double</code>.

     <p><strong>Warning:</strong> if you override the default value for your target ABI, the
structures and arrays containing <code>long double</code> variables will change
their size as well as function calling convention for function taking
<code>long double</code> will be modified.  Hence they will not be binary
compatible with arrays or structures in code compiled without that switch.

     <br><dt><code>-mmlarge-data-threshold=</code><var>number</var><dd><a name="index-mlarge_002ddata_002dthreshold_003d_0040var_007bnumber_007d-1029"></a>When <samp><span class="option">-mcmodel=medium</span></samp> is specified, the data greater than
<var>threshold</var> are placed in large data section.  This value must be the
same across all object linked into the binary and defaults to 65535.

     <br><dt><code>-msvr3-shlib</code><dt><code>-mno-svr3-shlib</code><dd><a name="index-msvr3_002dshlib-1030"></a><a name="index-mno_002dsvr3_002dshlib-1031"></a>Control whether GCC places uninitialized local variables into the
<code>bss</code> or <code>data</code> segments.  <samp><span class="option">-msvr3-shlib</span></samp> places them
into <code>bss</code>.  These options are meaningful only on System V Release 3.

     <br><dt><code>-mrtd</code><dd><a name="index-mrtd-1032"></a>Use a different function-calling convention, in which functions that
take a fixed number of arguments return with the <code>ret</code> <var>num</var>
instruction, which pops their arguments while returning.  This saves one
instruction in the caller since there is no need to pop the arguments
there.

     <p>You can specify that an individual function is called with this calling
sequence with the function attribute &lsquo;<samp><span class="samp">stdcall</span></samp>&rsquo;.  You can also
override the <samp><span class="option">-mrtd</span></samp> option by using the function attribute
&lsquo;<samp><span class="samp">cdecl</span></samp>&rsquo;.  See <a href="Function-Attributes.html#Function-Attributes">Function Attributes</a>.

     <p><strong>Warning:</strong> this calling convention is incompatible with the one
normally used on Unix, so you cannot use it if you need to call
libraries compiled with the Unix compiler.

     <p>Also, you must provide function prototypes for all functions that
take variable numbers of arguments (including <code>printf</code>);
otherwise incorrect code will be generated for calls to those
functions.

     <p>In addition, seriously incorrect code will result if you call a
function with too many arguments.  (Normally, extra arguments are
harmlessly ignored.)

     <br><dt><code>-mregparm=</code><var>num</var><dd><a name="index-mregparm-1033"></a>Control how many registers are used to pass integer arguments.  By
default, no registers are used to pass arguments, and at most 3
registers can be used.  You can control this behavior for a specific
function by using the function attribute &lsquo;<samp><span class="samp">regparm</span></samp>&rsquo;. 
See <a href="Function-Attributes.html#Function-Attributes">Function Attributes</a>.

     <p><strong>Warning:</strong> if you use this switch, and
<var>num</var> is nonzero, then you must build all modules with the same
value, including any libraries.  This includes the system libraries and
startup modules.

     <br><dt><code>-msseregparm</code><dd><a name="index-msseregparm-1034"></a>Use SSE register passing conventions for float and double arguments
and return values.  You can control this behavior for a specific
function by using the function attribute &lsquo;<samp><span class="samp">sseregparm</span></samp>&rsquo;. 
See <a href="Function-Attributes.html#Function-Attributes">Function Attributes</a>.

     <p><strong>Warning:</strong> if you use this switch then you must build all
modules with the same value, including any libraries.  This includes
the system libraries and startup modules.

     <br><dt><code>-mpreferred-stack-boundary=</code><var>num</var><dd><a name="index-mpreferred_002dstack_002dboundary-1035"></a>Attempt to keep the stack boundary aligned to a 2 raised to <var>num</var>
byte boundary.  If <samp><span class="option">-mpreferred-stack-boundary</span></samp> is not specified,
the default is 4 (16 bytes or 128 bits).

     <p>On Pentium and PentiumPro, <code>double</code> and <code>long double</code> values
should be aligned to an 8 byte boundary (see <samp><span class="option">-malign-double</span></samp>) or
suffer significant run time performance penalties.  On Pentium III, the
Streaming SIMD Extension (SSE) data type <code>__m128</code> may not work
properly if it is not 16 byte aligned.

     <p>To ensure proper alignment of this values on the stack, the stack boundary
must be as aligned as that required by any value stored on the stack. 
Further, every function must be generated such that it keeps the stack
aligned.  Thus calling a function compiled with a higher preferred
stack boundary from a function compiled with a lower preferred stack
boundary will most likely misalign the stack.  It is recommended that
libraries that use callbacks always use the default setting.

     <p>This extra alignment does consume extra stack space, and generally
increases code size.  Code that is sensitive to stack space usage, such
as embedded systems and operating system kernels, may want to reduce the
preferred alignment to <samp><span class="option">-mpreferred-stack-boundary=2</span></samp>.

     <br><dt><code>-mmmx</code><dt><code>-mno-mmx</code><br><dt><code>-msse</code><dt><code>-mno-sse</code><br><dt><code>-msse2</code><dt><code>-mno-sse2</code><br><dt><code>-msse3</code><dt><code>-mno-sse3</code><br><dt><code>-m3dnow</code><dt><code>-mno-3dnow</code><dd><a name="index-mmmx-1036"></a><a name="index-mno_002dmmx-1037"></a><a name="index-msse-1038"></a><a name="index-mno_002dsse-1039"></a><a name="index-m3dnow-1040"></a><a name="index-mno_002d3dnow-1041"></a>These switches enable or disable the use of instructions in the MMX,
SSE, SSE2 or 3DNow! extended instruction sets.  These extensions are
also available as built-in functions: see <a href="X86-Built_002din-Functions.html#X86-Built_002din-Functions">X86 Built-in Functions</a>,
for details of the functions enabled and disabled by these switches.

     <p>To have SSE/SSE2 instructions generated automatically from floating-point
code (as opposed to 387 instructions), see <samp><span class="option">-mfpmath=sse</span></samp>.

     <p>These options will enable GCC to use these extended instructions in
generated code, even without <samp><span class="option">-mfpmath=sse</span></samp>.  Applications which
perform runtime CPU detection must compile separate files for each
supported architecture, using the appropriate flags.  In particular,
the file containing the CPU detection code should be compiled without
these options.

     <br><dt><code>-mpush-args</code><dt><code>-mno-push-args</code><dd><a name="index-mpush_002dargs-1042"></a><a name="index-mno_002dpush_002dargs-1043"></a>Use PUSH operations to store outgoing parameters.  This method is shorter
and usually equally fast as method using SUB/MOV operations and is enabled
by default.  In some cases disabling it may improve performance because of
improved scheduling and reduced dependencies.

     <br><dt><code>-maccumulate-outgoing-args</code><dd><a name="index-maccumulate_002doutgoing_002dargs-1044"></a>If enabled, the maximum amount of space required for outgoing arguments will be
computed in the function prologue.  This is faster on most modern CPUs
because of reduced dependencies, improved scheduling and reduced stack usage
when preferred stack boundary is not equal to 2.  The drawback is a notable
increase in code size.  This switch implies <samp><span class="option">-mno-push-args</span></samp>.

     <br><dt><code>-mthreads</code><dd><a name="index-mthreads-1045"></a>Support thread-safe exception handling on &lsquo;<samp><span class="samp">Mingw32</span></samp>&rsquo;.  Code that relies
on thread-safe exception handling must compile and link all code with the
<samp><span class="option">-mthreads</span></samp> option.  When compiling, <samp><span class="option">-mthreads</span></samp> defines
<samp><span class="option">-D_MT</span></samp>; when linking, it links in a special thread helper library
<samp><span class="option">-lmingwthrd</span></samp> which cleans up per thread exception handling data.

     <br><dt><code>-mno-align-stringops</code><dd><a name="index-mno_002dalign_002dstringops-1046"></a>Do not align destination of inlined string operations.  This switch reduces
code size and improves performance in case the destination is already aligned,
but GCC doesn't know about it.

     <br><dt><code>-minline-all-stringops</code><dd><a name="index-minline_002dall_002dstringops-1047"></a>By default GCC inlines string operations only when destination is known to be
aligned at least to 4 byte boundary.  This enables more inlining, increase code
size, but may improve performance of code that depends on fast memcpy, strlen
and memset for short lengths.

     <br><dt><code>-momit-leaf-frame-pointer</code><dd><a name="index-momit_002dleaf_002dframe_002dpointer-1048"></a>Don't keep the frame pointer in a register for leaf functions.  This
avoids the instructions to save, set up and restore frame pointers and
makes an extra register available in leaf functions.  The option
<samp><span class="option">-fomit-frame-pointer</span></samp> removes the frame pointer for all functions
which might make debugging harder.

     <br><dt><code>-mtls-direct-seg-refs</code><dt><code>-mno-tls-direct-seg-refs</code><dd><a name="index-mtls_002ddirect_002dseg_002drefs-1049"></a>Controls whether TLS variables may be accessed with offsets from the
TLS segment register (<code>%gs</code> for 32-bit, <code>%fs</code> for 64-bit),
or whether the thread base pointer must be added.  Whether or not this
is legal depends on the operating system, and whether it maps the
segment to cover the entire TLS area.

     <p>For systems that use GNU libc, the default is on. 
</dl>

 <p>These &lsquo;<samp><span class="samp">-m</span></samp>&rsquo; switches are supported in addition to the above
on AMD x86-64 processors in 64-bit environments.

     <dl>
<dt><code>-m32</code><dt><code>-m64</code><dd><a name="index-m32-1050"></a><a name="index-m64-1051"></a>Generate code for a 32-bit or 64-bit environment. 
The 32-bit environment sets int, long and pointer to 32 bits and
generates code that runs on any i386 system. 
The 64-bit environment sets int to 32 bits and long and pointer
to 64 bits and generates code for AMD's x86-64 architecture.

     <br><dt><code>-mno-red-zone</code><dd><a name="index-no_002dred_002dzone-1052"></a>Do not use a so called red zone for x86-64 code.  The red zone is mandated
by the x86-64 ABI, it is a 128-byte area beyond the location of the
stack pointer that will not be modified by signal or interrupt handlers
and therefore can be used for temporary data without adjusting the stack
pointer.  The flag <samp><span class="option">-mno-red-zone</span></samp> disables this red zone.

     <br><dt><code>-mcmodel=small</code><dd><a name="index-mcmodel_003dsmall-1053"></a>Generate code for the small code model: the program and its symbols must
be linked in the lower 2 GB of the address space.  Pointers are 64 bits. 
Programs can be statically or dynamically linked.  This is the default
code model.

     <br><dt><code>-mcmodel=kernel</code><dd><a name="index-mcmodel_003dkernel-1054"></a>Generate code for the kernel code model.  The kernel runs in the
negative 2 GB of the address space. 
This model has to be used for Linux kernel code.

     <br><dt><code>-mcmodel=medium</code><dd><a name="index-mcmodel_003dmedium-1055"></a>Generate code for the medium model: The program is linked in the lower 2
GB of the address space but symbols can be located anywhere in the
address space.  Programs can be statically or dynamically linked, but
building of shared libraries are not supported with the medium model.

     <br><dt><code>-mcmodel=large</code><dd><a name="index-mcmodel_003dlarge-1056"></a>Generate code for the large model: This model makes no assumptions
about addresses and sizes of sections.  Currently GCC does not implement
this model. 
</dl>

 </body></html>

@


1.1.1.1
log
@  Initial import of GCC 4
Detail:
  This is a standard copy of GCC 4.1.2 r2, straight from the packages available on riscos.info
  Installed packages are:
  * GCC4 4.1.2-Rel2-1
  * GCC4-C++ 4.1.2-Rel2-1
Admin:
  Tagged as GCC-4_1_2_r2
@
text
@@


1.1.1.2
log
@GCC 4.7.4 release 3
Detail:
  This is a copy of GCC 4.7.4 release 3, composed from the following packages available from riscos.info:
  * GCC4 4.7.4-Rel3-1
  Note that to avoid bloating CVS there's no C++ compiler this time, and some of the extraneous libraries (e.g. VFP/NEON optimised libs) have been deleted
Admin:
  Tagged as GCC-4_7_4_r3
@
text
@d1 14
a14 5
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,
2010 Free Software Foundation, Inc.
d17 1
a17 1
under the terms of the GNU Free Documentation License, Version 1.3 or
d19 4
a22 4
Invariant Sections being "Funding Free Software", the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
"GNU Free Documentation License".
d26 1
a26 1
A GNU Manual
d30 1
a30 1
You have freedom to copy and modify this GNU Manual, like GNU
d32 13
a44 47
     funds for GNU development. -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Using the GNU Compiler Collection (GCC): i386 and x86-64 Options</title>

<meta name="description" content="Using the GNU Compiler Collection (GCC): i386 and x86-64 Options">
<meta name="keywords" content="Using the GNU Compiler Collection (GCC): i386 and x86-64 Options">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Option-Index.html#Option-Index" rel="index" title="Option Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Submodel-Options.html#Submodel-Options" rel="up" title="Submodel Options">
<link href="i386-and-x86_002d64-Windows-Options.html#i386-and-x86_002d64-Windows-Options" rel="next" title="i386 and x86-64 Windows Options">
<link href="HPPA-Options.html#HPPA-Options" rel="prev" title="HPPA Options">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


d46 3
a48 2

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
a49 1
<div class="header">
d51 4
a54 1
Next: <a href="i386-and-x86_002d64-Windows-Options.html#i386-and-x86_002d64-Windows-Options" accesskey="n" rel="next">i386 and x86-64 Windows Options</a>, Previous: <a href="HPPA-Options.html#HPPA-Options" accesskey="p" rel="prev">HPPA Options</a>, Up: <a href="Submodel-Options.html#Submodel-Options" accesskey="u" rel="up">Submodel Options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p>
a55 7
<hr>
<a name="Intel-386-and-AMD-x86_002d64-Options"></a>
<h4 class="subsection">3.17.16 Intel 386 and AMD x86-64 Options</h4>
<a name="index-i386-Options"></a>
<a name="index-x86_002d64-Options"></a>
<a name="index-Intel-386-Options"></a>
<a name="index-AMD-x86_002d64-Options"></a>
d57 4
a60 1
<p>These &lsquo;<samp>-m</samp>&rsquo; options are defined for the i386 and x86-64 family of
d62 3
a64 5
</p>
<dl compact="compact">
<dt><code>-mtune=<var>cpu-type</var></code></dt>
<dd><a name="index-mtune-3"></a>
<p>Tune to <var>cpu-type</var> everything applicable about the generated code, except
d67 32
a98 150
</p><dl compact="compact">
<dt><em>generic</em></dt>
<dd><p>Produce code optimized for the most common IA32/AMD64/EM64T processors.
If you know the CPU on which your code will run, then you should use
the corresponding <samp>-mtune</samp> option instead of
<samp>-mtune=generic</samp>.  But, if you do not know exactly what CPU users
of your application will have, then you should use this option.
</p>
<p>As new processors are deployed in the marketplace, the behavior of this
option will change.  Therefore, if you upgrade to a newer version of
GCC, the code generated option will change to reflect the processors
that were most common when that version of GCC was released.
</p>
<p>There is no <samp>-march=generic</samp> option because <samp>-march</samp>
indicates the instruction set the compiler can use, and there is no
generic instruction set applicable to all processors.  In contrast,
<samp>-mtune</samp> indicates the processor (or, in this case, collection of
processors) for which the code is optimized.
</p></dd>
<dt><em>native</em></dt>
<dd><p>This selects the CPU to tune for at compilation time by determining
the processor type of the compiling machine.  Using <samp>-mtune=native</samp>
will produce code optimized for the local machine under the constraints
of the selected instruction set.  Using <samp>-march=native</samp> will
enable all instruction subsets supported by the local machine (hence
the result might not run on different machines).
</p></dd>
<dt><em>i386</em></dt>
<dd><p>Original Intel&rsquo;s i386 CPU.
</p></dd>
<dt><em>i486</em></dt>
<dd><p>Intel&rsquo;s i486 CPU.  (No scheduling is implemented for this chip.)
</p></dd>
<dt><em>i586, pentium</em></dt>
<dd><p>Intel Pentium CPU with no MMX support.
</p></dd>
<dt><em>pentium-mmx</em></dt>
<dd><p>Intel PentiumMMX CPU based on Pentium core with MMX instruction set support.
</p></dd>
<dt><em>pentiumpro</em></dt>
<dd><p>Intel PentiumPro CPU.
</p></dd>
<dt><em>i686</em></dt>
<dd><p>Same as <code>generic</code>, but when used as <code>march</code> option, PentiumPro
instruction set will be used, so the code will run on all i686 family chips.
</p></dd>
<dt><em>pentium2</em></dt>
<dd><p>Intel Pentium2 CPU based on PentiumPro core with MMX instruction set support.
</p></dd>
<dt><em>pentium3, pentium3m</em></dt>
<dd><p>Intel Pentium3 CPU based on PentiumPro core with MMX and SSE instruction set
support.
</p></dd>
<dt><em>pentium-m</em></dt>
<dd><p>Low power version of Intel Pentium3 CPU with MMX, SSE and SSE2 instruction set
support.  Used by Centrino notebooks.
</p></dd>
<dt><em>pentium4, pentium4m</em></dt>
<dd><p>Intel Pentium4 CPU with MMX, SSE and SSE2 instruction set support.
</p></dd>
<dt><em>prescott</em></dt>
<dd><p>Improved version of Intel Pentium4 CPU with MMX, SSE, SSE2 and SSE3 instruction
set support.
</p></dd>
<dt><em>nocona</em></dt>
<dd><p>Improved version of Intel Pentium4 CPU with 64-bit extensions, MMX, SSE,
SSE2 and SSE3 instruction set support.
</p></dd>
<dt><em>core2</em></dt>
<dd><p>Intel Core2 CPU with 64-bit extensions, MMX, SSE, SSE2, SSE3 and SSSE3
instruction set support.
</p></dd>
<dt><em>corei7</em></dt>
<dd><p>Intel Core i7 CPU with 64-bit extensions, MMX, SSE, SSE2, SSE3, SSSE3, SSE4.1
and SSE4.2 instruction set support.
</p></dd>
<dt><em>corei7-avx</em></dt>
<dd><p>Intel Core i7 CPU with 64-bit extensions, MMX, SSE, SSE2, SSE3, SSSE3,
SSE4.1, SSE4.2, AVX, AES and PCLMUL instruction set support.
</p></dd>
<dt><em>core-avx-i</em></dt>
<dd><p>Intel Core CPU with 64-bit extensions, MMX, SSE, SSE2, SSE3, SSSE3,
SSE4.1, SSE4.2, AVX, AES, PCLMUL, FSGSBASE, RDRND and F16C instruction
set support.
</p></dd>
<dt><em>atom</em></dt>
<dd><p>Intel Atom CPU with 64-bit extensions, MMX, SSE, SSE2, SSE3 and SSSE3
instruction set support.
</p></dd>
<dt><em>k6</em></dt>
<dd><p>AMD K6 CPU with MMX instruction set support.
</p></dd>
<dt><em>k6-2, k6-3</em></dt>
<dd><p>Improved versions of AMD K6 CPU with MMX and 3DNow! instruction set support.
</p></dd>
<dt><em>athlon, athlon-tbird</em></dt>
<dd><p>AMD Athlon CPU with MMX, 3dNOW!, enhanced 3DNow! and SSE prefetch instructions
support.
</p></dd>
<dt><em>athlon-4, athlon-xp, athlon-mp</em></dt>
<dd><p>Improved AMD Athlon CPU with MMX, 3DNow!, enhanced 3DNow! and full SSE
instruction set support.
</p></dd>
<dt><em>k8, opteron, athlon64, athlon-fx</em></dt>
<dd><p>AMD K8 core based CPUs with x86-64 instruction set support.  (This supersets
MMX, SSE, SSE2, 3DNow!, enhanced 3DNow! and 64-bit instruction set extensions.)
</p></dd>
<dt><em>k8-sse3, opteron-sse3, athlon64-sse3</em></dt>
<dd><p>Improved versions of k8, opteron and athlon64 with SSE3 instruction set support.
</p></dd>
<dt><em>amdfam10, barcelona</em></dt>
<dd><p>AMD Family 10h core based CPUs with x86-64 instruction set support.  (This
supersets MMX, SSE, SSE2, SSE3, SSE4A, 3DNow!, enhanced 3DNow!, ABM and 64-bit
instruction set extensions.)
</p></dd>
<dt><em>bdver1</em></dt>
<dd><p>AMD Family 15h core based CPUs with x86-64 instruction set support.  (This
supersets FMA4, AVX, XOP, LWP, AES, PCL_MUL, CX16, MMX, SSE, SSE2, SSE3, SSE4A,
SSSE3, SSE4.1, SSE4.2, ABM and 64-bit instruction set extensions.)
</p></dd>
<dt><em>bdver2</em></dt>
<dd><p>AMD Family 15h core based CPUs with x86-64 instruction set support.  (This
supersets BMI, TBM, F16C, FMA, AVX, XOP, LWP, AES, PCL_MUL, CX16, MMX, SSE,
SSE2, SSE3, SSE4A, SSSE3, SSE4.1, SSE4.2, ABM and 64-bit instruction set 
extensions.)
</p></dd>
<dt><em>btver1</em></dt>
<dd><p>AMD Family 14h core based CPUs with x86-64 instruction set support.  (This
supersets MMX, SSE, SSE2, SSE3, SSSE3, SSE4A, CX16, ABM and 64-bit
instruction set extensions.)
</p></dd>
<dt><em>winchip-c6</em></dt>
<dd><p>IDT Winchip C6 CPU, dealt in same way as i486 with additional MMX instruction
set support.
</p></dd>
<dt><em>winchip2</em></dt>
<dd><p>IDT Winchip2 CPU, dealt in same way as i486 with additional MMX and 3DNow!
instruction set support.
</p></dd>
<dt><em>c3</em></dt>
<dd><p>Via C3 CPU with MMX and 3DNow! instruction set support.  (No scheduling is
implemented for this chip.)
</p></dd>
<dt><em>c3-2</em></dt>
<dd><p>Via C3-2 CPU with MMX and SSE instruction set support.  (No scheduling is
implemented for this chip.)
</p></dd>
<dt><em>geode</em></dt>
<dd><p>Embedded AMD CPU with MMX and 3DNow! instruction set support.
</p></dd>
d101 1
a101 1
<p>While picking a specific <var>cpu-type</var> will schedule things appropriately
d103 14
a116 21
does not run on the default machine type without the <samp>-march=<var>cpu-type</var></samp>
option being used. For example, if GCC is configured for i686-pc-linux-gnu
then <samp>-mtune=pentium4</samp> will generate code that is tuned for Pentium4
but will still run on i686 machines.
</p>
</dd>
<dt><code>-march=<var>cpu-type</var></code></dt>
<dd><a name="index-march-5"></a>
<p>Generate instructions for the machine type <var>cpu-type</var>.  The choices
for <var>cpu-type</var> are the same as for <samp>-mtune</samp>.  Moreover,
specifying <samp>-march=<var>cpu-type</var></samp> implies <samp>-mtune=<var>cpu-type</var></samp>.
</p>
</dd>
<dt><code>-mcpu=<var>cpu-type</var></code></dt>
<dd><a name="index-mcpu-4"></a>
<p>A deprecated synonym for <samp>-mtune</samp>.
</p>
</dd>
<dt><code>-mfpmath=<var>unit</var></code></dt>
<dd><a name="index-mfpmath-1"></a>
<p>Generate floating-point arithmetic for selected unit <var>unit</var>.  The choices
d118 11
a128 14
</p>
<dl compact="compact">
<dt>&lsquo;<samp>387</samp>&rsquo;</dt>
<dd><p>Use the standard 387 floating-point coprocessor present on the majority of chips and
emulated otherwise.  Code compiled with this option runs almost everywhere.
The temporary results are computed in 80-bit precision instead of the precision
specified by the type, resulting in slightly different results compared to most
of other chips.  See <samp>-ffloat-store</samp> for more detailed description.
</p>
<p>This is the default choice for i386 compiler.
</p>
</dd>
<dt>&lsquo;<samp>sse</samp>&rsquo;</dt>
<dd><p>Use scalar floating-point instructions present in the SSE instruction set.
d131 7
a137 7
instruction set supports only single-precision arithmetic, thus the double and
extended-precision arithmetic are still done using 387.  A later version, present
only in Pentium4 and the future AMD x86-64 chips, supports double-precision
arithmetic too.
</p>
<p>For the i386 compiler, you need to use <samp>-march=<var>cpu-type</var></samp>, <samp>-msse</samp>
or <samp>-msse2</samp> switches to enable SSE extensions and make this option
d139 2
a140 2
</p>
<p>The resulting code should be considerably faster in the majority of cases and avoid
d142 5
a146 9
code that expects temporaries to be 80 bits.
</p>
<p>This is the default choice for the x86-64 compiler.
</p>
</dd>
<dt>&lsquo;<samp>sse,387</samp>&rsquo;</dt>
<dt>&lsquo;<samp>sse+387</samp>&rsquo;</dt>
<dt>&lsquo;<samp>both</samp>&rsquo;</dt>
<dd><p>Attempt to utilize both instruction sets at once.  This effectively double the
d150 1
a150 2
functional units well resulting in instable performance.
</p></dd>
d153 5
a157 13
</dd>
<dt><code>-masm=<var>dialect</var></code></dt>
<dd><a name="index-masm_003ddialect"></a>
<p>Output asm instructions using selected <var>dialect</var>.  Supported
choices are &lsquo;<samp>intel</samp>&rsquo; or &lsquo;<samp>att</samp>&rsquo; (the default one).  Darwin does
not support &lsquo;<samp>intel</samp>&rsquo;.
</p>
</dd>
<dt><code>-mieee-fp</code></dt>
<dt><code>-mno-ieee-fp</code></dt>
<dd><a name="index-mieee_002dfp"></a>
<a name="index-mno_002dieee_002dfp"></a>
<p>Control whether or not the compiler uses IEEE floating-point
d160 5
a164 8
</p>
</dd>
<dt><code>-msoft-float</code></dt>
<dd><a name="index-msoft_002dfloat-3"></a>
<p>Generate output containing library calls for floating point.
<strong>Warning:</strong> the requisite libraries are not part of GCC.
Normally the facilities of the machine&rsquo;s usual C compiler are used, but
this can&rsquo;t be done directly in cross-compilation.  You must make your
d167 8
a174 11
</p>
<p>On machines where a function returns floating-point results in the 80387
register stack, some floating-point opcodes may be emitted even if
<samp>-msoft-float</samp> is used.
</p>
</dd>
<dt><code>-mno-fp-ret-in-387</code></dt>
<dd><a name="index-mno_002dfp_002dret_002din_002d387"></a>
<p>Do not use the FPU registers for return values of functions.
</p>
<p>The usual calling convention has functions return values of types
d178 2
a179 2
</p>
<p>The option <samp>-mno-fp-ret-in-387</samp> causes such values to be returned
d181 2
a182 5
</p>
</dd>
<dt><code>-mno-fancy-math-387</code></dt>
<dd><a name="index-mno_002dfancy_002dmath_002d387"></a>
<p>Some 387 emulators do not support the <code>sin</code>, <code>cos</code> and
d185 2
a186 2
OpenBSD and NetBSD.  This option is overridden when <samp>-march</samp>
indicates that the target CPU will always have an FPU and so the
d189 6
a194 11
<samp>-funsafe-math-optimizations</samp> switch.
</p>
</dd>
<dt><code>-malign-double</code></dt>
<dt><code>-mno-align-double</code></dt>
<dd><a name="index-malign_002ddouble"></a>
<a name="index-mno_002dalign_002ddouble"></a>
<p>Control whether GCC aligns <code>double</code>, <code>long double</code>, and
<code>long long</code> variables on a two-word boundary or a one-word
boundary.  Aligning <code>double</code> variables on a two-word boundary
produces code that runs somewhat faster on a &lsquo;<samp>Pentium</samp>&rsquo; at the
d196 4
a199 4
</p>
<p>On x86-64, <samp>-malign-double</samp> is enabled by default.
</p>
<p><strong>Warning:</strong> if you use the <samp>-malign-double</samp> switch,
d204 2
a205 7
</p>
</dd>
<dt><code>-m96bit-long-double</code></dt>
<dt><code>-m128bit-long-double</code></dt>
<dd><a name="index-m96bit_002dlong_002ddouble"></a>
<a name="index-m128bit_002dlong_002ddouble"></a>
<p>These switches control the size of <code>long double</code> type.  The i386
d207 13
a219 13
so <samp>-m96bit-long-double</samp> is the default in 32-bit mode.
</p>
<p>Modern architectures (Pentium and newer) prefer <code>long double</code>
to be aligned to an 8- or 16-byte boundary.  In arrays or structures
conforming to the ABI, this is not possible.  So specifying
<samp>-m128bit-long-double</samp> aligns <code>long double</code>
to a 16-byte boundary by padding the <code>long double</code> with an additional
32-bit zero.
</p>
<p>In the x86-64 compiler, <samp>-m128bit-long-double</samp> is the default choice as
its ABI specifies that <code>long double</code> is to be aligned on 16-byte boundary.
</p>
<p>Notice that neither of these options enable any extra precision over the x87
d221 2
a222 2
</p>
<p><strong>Warning:</strong> if you override the default value for your target ABI, the
d227 2
a228 5
</p>
</dd>
<dt><code>-mlarge-data-threshold=<var>number</var></code></dt>
<dd><a name="index-mlarge_002ddata_002dthreshold_003dnumber"></a>
<p>When <samp>-mcmodel=medium</samp> is specified, the data greater than
d231 6
a236 5
</p>
</dd>
<dt><code>-mrtd</code></dt>
<dd><a name="index-mrtd"></a>
<p>Use a different function-calling convention, in which functions that
d241 7
a247 7
</p>
<p>You can specify that an individual function is called with this calling
sequence with the function attribute &lsquo;<samp>stdcall</samp>&rsquo;.  You can also
override the <samp>-mrtd</samp> option by using the function attribute
&lsquo;<samp>cdecl</samp>&rsquo;.  See <a href="Function-Attributes.html#Function-Attributes">Function Attributes</a>.
</p>
<p><strong>Warning:</strong> this calling convention is incompatible with the one
d250 2
a251 2
</p>
<p>Also, you must provide function prototypes for all functions that
d255 2
a256 2
</p>
<p>In addition, seriously incorrect code will result if you call a
d259 2
a260 5
</p>
</dd>
<dt><code>-mregparm=<var>num</var></code></dt>
<dd><a name="index-mregparm"></a>
<p>Control how many registers are used to pass integer arguments.  By
d263 1
a263 1
function by using the function attribute &lsquo;<samp>regparm</samp>&rsquo;.
d265 2
a266 2
</p>
<p><strong>Warning:</strong> if you use this switch, and
d270 2
a271 5
</p>
</dd>
<dt><code>-msseregparm</code></dt>
<dd><a name="index-msseregparm"></a>
<p>Use SSE register passing conventions for float and double arguments
d273 1
a273 1
function by using the function attribute &lsquo;<samp>sseregparm</samp>&rsquo;.
d275 2
a276 2
</p>
<p><strong>Warning:</strong> if you use this switch then you must build all
d279 3
a281 52
</p>
</dd>
<dt><code>-mvect8-ret-in-mem</code></dt>
<dd><a name="index-mvect8_002dret_002din_002dmem"></a>
<p>Return 8-byte vectors in memory instead of MMX registers.  This is the
default on Solaris&nbsp;8 and 9 and VxWorks to match the ABI of the Sun
Studio compilers until version 12.  Later compiler versions (starting
with Studio 12 Update&nbsp;1) follow the ABI used by other x86 targets, which
is the default on Solaris&nbsp;10 and later.  <em>Only</em> use this option if
you need to remain compatible with existing code produced by those
previous compiler versions or older versions of GCC.
</p>
</dd>
<dt><code>-mpc32</code></dt>
<dt><code>-mpc64</code></dt>
<dt><code>-mpc80</code></dt>
<dd><a name="index-mpc32"></a>
<a name="index-mpc64"></a>
<a name="index-mpc80"></a>

<p>Set 80387 floating-point precision to 32, 64 or 80 bits.  When <samp>-mpc32</samp>
is specified, the significands of results of floating-point operations are
rounded to 24 bits (single precision); <samp>-mpc64</samp> rounds the
significands of results of floating-point operations to 53 bits (double
precision) and <samp>-mpc80</samp> rounds the significands of results of
floating-point operations to 64 bits (extended double precision), which is
the default.  When this option is used, floating-point operations in higher
precisions are not available to the programmer without setting the FPU
control word explicitly.
</p>
<p>Setting the rounding of floating-point operations to less than the default
80 bits can speed some programs by 2% or more.  Note that some mathematical
libraries assume that extended-precision (80-bit) floating-point operations
are enabled by default; routines in such libraries could suffer significant
loss of accuracy, typically through so-called &quot;catastrophic cancellation&quot;,
when this option is used to set the precision to less than extended precision.
</p>
</dd>
<dt><code>-mstackrealign</code></dt>
<dd><a name="index-mstackrealign"></a>
<p>Realign the stack at entry.  On the Intel x86, the <samp>-mstackrealign</samp>
option will generate an alternate prologue and epilogue that realigns the
run-time stack if necessary.  This supports mixing legacy codes that keep
a 4-byte aligned stack with modern codes that keep a 16-byte stack for
SSE compatibility.  See also the attribute <code>force_align_arg_pointer</code>,
applicable to individual functions.
</p>
</dd>
<dt><code>-mpreferred-stack-boundary=<var>num</var></code></dt>
<dd><a name="index-mpreferred_002dstack_002dboundary"></a>
<p>Attempt to keep the stack boundary aligned to a 2 raised to <var>num</var>
byte boundary.  If <samp>-mpreferred-stack-boundary</samp> is not specified,
d283 3
a285 10
</p>
</dd>
<dt><code>-mincoming-stack-boundary=<var>num</var></code></dt>
<dd><a name="index-mincoming_002dstack_002dboundary"></a>
<p>Assume the incoming stack is aligned to a 2 raised to <var>num</var> byte
boundary.  If <samp>-mincoming-stack-boundary</samp> is not specified,
the one specified by <samp>-mpreferred-stack-boundary</samp> will be used.
</p>
<p>On Pentium and PentiumPro, <code>double</code> and <code>long double</code> values
should be aligned to an 8-byte boundary (see <samp>-malign-double</samp>) or
d288 4
a291 4
properly if it is not 16-byte aligned.
</p>
<p>To ensure proper alignment of this values on the stack, the stack boundary
must be as aligned as that required by any value stored on the stack.
d297 2
a298 2
</p>
<p>This extra alignment does consume extra stack space, and generally
d301 13
a313 81
preferred alignment to <samp>-mpreferred-stack-boundary=2</samp>.
</p>
</dd>
<dt><code>-mmmx</code></dt>
<dt><code>-mno-mmx</code></dt>
<dt><code>-msse</code></dt>
<dt><code>-mno-sse</code></dt>
<dt><code>-msse2</code></dt>
<dt><code>-mno-sse2</code></dt>
<dt><code>-msse3</code></dt>
<dt><code>-mno-sse3</code></dt>
<dt><code>-mssse3</code></dt>
<dt><code>-mno-ssse3</code></dt>
<dt><code>-msse4.1</code></dt>
<dt><code>-mno-sse4.1</code></dt>
<dt><code>-msse4.2</code></dt>
<dt><code>-mno-sse4.2</code></dt>
<dt><code>-msse4</code></dt>
<dt><code>-mno-sse4</code></dt>
<dt><code>-mavx</code></dt>
<dt><code>-mno-avx</code></dt>
<dt><code>-mavx2</code></dt>
<dt><code>-mno-avx2</code></dt>
<dt><code>-maes</code></dt>
<dt><code>-mno-aes</code></dt>
<dt><code>-mpclmul</code></dt>
<dt><code>-mno-pclmul</code></dt>
<dt><code>-mfsgsbase</code></dt>
<dt><code>-mno-fsgsbase</code></dt>
<dt><code>-mrdrnd</code></dt>
<dt><code>-mno-rdrnd</code></dt>
<dt><code>-mf16c</code></dt>
<dt><code>-mno-f16c</code></dt>
<dt><code>-mfma</code></dt>
<dt><code>-mno-fma</code></dt>
<dt><code>-msse4a</code></dt>
<dt><code>-mno-sse4a</code></dt>
<dt><code>-mfma4</code></dt>
<dt><code>-mno-fma4</code></dt>
<dt><code>-mxop</code></dt>
<dt><code>-mno-xop</code></dt>
<dt><code>-mlwp</code></dt>
<dt><code>-mno-lwp</code></dt>
<dt><code>-m3dnow</code></dt>
<dt><code>-mno-3dnow</code></dt>
<dt><code>-mpopcnt</code></dt>
<dt><code>-mno-popcnt</code></dt>
<dt><code>-mabm</code></dt>
<dt><code>-mno-abm</code></dt>
<dt><code>-mbmi</code></dt>
<dt><code>-mbmi2</code></dt>
<dt><code>-mno-bmi</code></dt>
<dt><code>-mno-bmi2</code></dt>
<dt><code>-mlzcnt</code></dt>
<dt><code>-mno-lzcnt</code></dt>
<dt><code>-mtbm</code></dt>
<dt><code>-mno-tbm</code></dt>
<dd><a name="index-mmmx"></a>
<a name="index-mno_002dmmx"></a>
<a name="index-msse"></a>
<a name="index-mno_002dsse"></a>
<a name="index-m3dnow"></a>
<a name="index-mno_002d3dnow"></a>
<p>These switches enable or disable the use of instructions in the MMX, SSE,
SSE2, SSE3, SSSE3, SSE4.1, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, F16C,
FMA, SSE4A, FMA4, XOP, LWP, ABM, BMI, BMI2, LZCNT or 3DNow!
 extended instruction sets.
These extensions are also available as built-in functions: see
<a href="X86-Built_002din-Functions.html#X86-Built_002din-Functions">X86 Built-in Functions</a>, for details of the functions enabled and
disabled by these switches.
</p>
<p>To have SSE/SSE2 instructions generated automatically from floating-point
code (as opposed to 387 instructions), see <samp>-mfpmath=sse</samp>.
</p>
<p>GCC depresses SSEx instructions when <samp>-mavx</samp> is used. Instead, it
generates new AVX instructions or AVX equivalence for all SSEx instructions
when needed.
</p>
<p>These options will enable GCC to use these extended instructions in
generated code, even without <samp>-mfpmath=sse</samp>.  Applications that
perform run-time CPU detection must compile separate files for each
d317 2
a318 152
</p>
</dd>
<dt><code>-mcld</code></dt>
<dd><a name="index-mcld"></a>
<p>This option instructs GCC to emit a <code>cld</code> instruction in the prologue
of functions that use string instructions.  String instructions depend on
the DF flag to select between autoincrement or autodecrement mode.  While the
ABI specifies the DF flag to be cleared on function entry, some operating
systems violate this specification by not clearing the DF flag in their
exception dispatchers.  The exception handler can be invoked with the DF flag
set, which leads to wrong direction mode when string instructions are used.
This option can be enabled by default on 32-bit x86 targets by configuring
GCC with the <samp>--enable-cld</samp> configure option.  Generation of <code>cld</code>
instructions can be suppressed with the <samp>-mno-cld</samp> compiler option
in this case.
</p>
</dd>
<dt><code>-mvzeroupper</code></dt>
<dd><a name="index-mvzeroupper"></a>
<p>This option instructs GCC to emit a <code>vzeroupper</code> instruction
before a transfer of control flow out of the function to minimize
AVX to SSE transition penalty as well as remove unnecessary zeroupper
intrinsics.
</p>
</dd>
<dt><code>-mprefer-avx128</code></dt>
<dd><a name="index-mprefer_002davx128"></a>
<p>This option instructs GCC to use 128-bit AVX instructions instead of
256-bit AVX instructions in the auto-vectorizer.
</p>
</dd>
<dt><code>-mcx16</code></dt>
<dd><a name="index-mcx16"></a>
<p>This option will enable GCC to use CMPXCHG16B instruction in generated code.
CMPXCHG16B allows for atomic operations on 128-bit double quadword (or oword)
data types.  This is useful for high resolution counters that could be updated
by multiple processors (or cores).  This instruction is generated as part of
atomic built-in functions: see <a href="_005f_005fsync-Builtins.html#g_t_005f_005fsync-Builtins">__sync Builtins</a> or
<a href="_005f_005fatomic-Builtins.html#g_t_005f_005fatomic-Builtins">__atomic Builtins</a> for details.
</p>
</dd>
<dt><code>-msahf</code></dt>
<dd><a name="index-msahf"></a>
<p>This option will enable GCC to use SAHF instruction in generated 64-bit code.
Early Intel CPUs with Intel 64 lacked LAHF and SAHF instructions supported
by AMD64 until introduction of Pentium 4 G1 step in December 2005.  LAHF and
SAHF are load and store instructions, respectively, for certain status flags.
In 64-bit mode, SAHF instruction is used to optimize <code>fmod</code>, <code>drem</code>
or <code>remainder</code> built-in functions: see <a href="Other-Builtins.html#Other-Builtins">Other Builtins</a> for details.
</p>
</dd>
<dt><code>-mmovbe</code></dt>
<dd><a name="index-mmovbe"></a>
<p>This option will enable GCC to use movbe instruction to implement
<code>__builtin_bswap32</code> and <code>__builtin_bswap64</code>.
</p>
</dd>
<dt><code>-mcrc32</code></dt>
<dd><a name="index-mcrc32"></a>
<p>This option will enable built-in functions, <code>__builtin_ia32_crc32qi</code>,
<code>__builtin_ia32_crc32hi</code>. <code>__builtin_ia32_crc32si</code> and
<code>__builtin_ia32_crc32di</code> to generate the crc32 machine instruction.
</p>
</dd>
<dt><code>-mrecip</code></dt>
<dd><a name="index-mrecip"></a>
<p>This option will enable GCC to use RCPSS and RSQRTSS instructions (and their
vectorized variants RCPPS and RSQRTPS) with an additional Newton-Raphson step
to increase precision instead of DIVSS and SQRTSS (and their vectorized
variants) for single-precision floating-point arguments.  These instructions
are generated only when <samp>-funsafe-math-optimizations</samp> is enabled
together with <samp>-finite-math-only</samp> and <samp>-fno-trapping-math</samp>.
Note that while the throughput of the sequence is higher than the throughput
of the non-reciprocal instruction, the precision of the sequence can be
decreased by up to 2 ulp (i.e. the inverse of 1.0 equals 0.99999994).
</p>
<p>Note that GCC implements <code>1.0f/sqrtf(<var>x</var>)</code> in terms of RSQRTSS
(or RSQRTPS) already with <samp>-ffast-math</samp> (or the above option
combination), and doesn&rsquo;t need <samp>-mrecip</samp>.
</p>
<p>Also note that GCC emits the above sequence with additional Newton-Raphson step
for vectorized single-float division and vectorized <code>sqrtf(<var>x</var>)</code>
already with <samp>-ffast-math</samp> (or the above option combination), and
doesn&rsquo;t need <samp>-mrecip</samp>.
</p>
</dd>
<dt><code>-mrecip=<var>opt</var></code></dt>
<dd><a name="index-mrecip_003dopt"></a>
<p>This option allows to control which reciprocal estimate instructions
may be used.  <var>opt</var> is a comma separated list of options, which may
be preceded by a <code>!</code> to invert the option:
<code>all</code>: enable all estimate instructions,
<code>default</code>: enable the default instructions, equivalent to <samp>-mrecip</samp>,
<code>none</code>: disable all estimate instructions, equivalent to <samp>-mno-recip</samp>,
<code>div</code>: enable the approximation for scalar division,
<code>vec-div</code>: enable the approximation for vectorized division,
<code>sqrt</code>: enable the approximation for scalar square root,
<code>vec-sqrt</code>: enable the approximation for vectorized square root.
</p>
<p>So for example, <samp>-mrecip=all,!sqrt</samp> would enable
all of the reciprocal approximations, except for square root.
</p>
</dd>
<dt><code>-mveclibabi=<var>type</var></code></dt>
<dd><a name="index-mveclibabi"></a>
<p>Specifies the ABI type to use for vectorizing intrinsics using an
external library.  Supported types are <code>svml</code> for the Intel short
vector math library and <code>acml</code> for the AMD math core library style
of interfacing.  GCC will currently emit calls to <code>vmldExp2</code>,
<code>vmldLn2</code>, <code>vmldLog102</code>, <code>vmldLog102</code>, <code>vmldPow2</code>,
<code>vmldTanh2</code>, <code>vmldTan2</code>, <code>vmldAtan2</code>, <code>vmldAtanh2</code>,
<code>vmldCbrt2</code>, <code>vmldSinh2</code>, <code>vmldSin2</code>, <code>vmldAsinh2</code>,
<code>vmldAsin2</code>, <code>vmldCosh2</code>, <code>vmldCos2</code>, <code>vmldAcosh2</code>,
<code>vmldAcos2</code>, <code>vmlsExp4</code>, <code>vmlsLn4</code>, <code>vmlsLog104</code>,
<code>vmlsLog104</code>, <code>vmlsPow4</code>, <code>vmlsTanh4</code>, <code>vmlsTan4</code>,
<code>vmlsAtan4</code>, <code>vmlsAtanh4</code>, <code>vmlsCbrt4</code>, <code>vmlsSinh4</code>,
<code>vmlsSin4</code>, <code>vmlsAsinh4</code>, <code>vmlsAsin4</code>, <code>vmlsCosh4</code>,
<code>vmlsCos4</code>, <code>vmlsAcosh4</code> and <code>vmlsAcos4</code> for corresponding
function type when <samp>-mveclibabi=svml</samp> is used and <code>__vrd2_sin</code>,
<code>__vrd2_cos</code>, <code>__vrd2_exp</code>, <code>__vrd2_log</code>, <code>__vrd2_log2</code>,
<code>__vrd2_log10</code>, <code>__vrs4_sinf</code>, <code>__vrs4_cosf</code>,
<code>__vrs4_expf</code>, <code>__vrs4_logf</code>, <code>__vrs4_log2f</code>,
<code>__vrs4_log10f</code> and <code>__vrs4_powf</code> for corresponding function type
when <samp>-mveclibabi=acml</samp> is used. Both <samp>-ftree-vectorize</samp> and
<samp>-funsafe-math-optimizations</samp> have to be enabled. A SVML or ACML ABI
compatible library will have to be specified at link time.
</p>
</dd>
<dt><code>-mabi=<var>name</var></code></dt>
<dd><a name="index-mabi-1"></a>
<p>Generate code for the specified calling convention.  Permissible values
are: &lsquo;<samp>sysv</samp>&rsquo; for the ABI used on GNU/Linux and other systems and
&lsquo;<samp>ms</samp>&rsquo; for the Microsoft ABI.  The default is to use the Microsoft
ABI when targeting Windows.  On all other systems, the default is the
SYSV ABI.  You can control this behavior for a specific function by
using the function attribute &lsquo;<samp>ms_abi</samp>&rsquo;/&lsquo;<samp>sysv_abi</samp>&rsquo;.
See <a href="Function-Attributes.html#Function-Attributes">Function Attributes</a>.
</p>
</dd>
<dt><code>-mtls-dialect=<var>type</var></code></dt>
<dd><a name="index-mtls_002ddialect-1"></a>
<p>Generate code to access thread-local storage using the &lsquo;<samp>gnu</samp>&rsquo; or
&lsquo;<samp>gnu2</samp>&rsquo; conventions.  &lsquo;<samp>gnu</samp>&rsquo; is the conservative default;
&lsquo;<samp>gnu2</samp>&rsquo; is more efficient, but it may add compile- and run-time
requirements that cannot be satisfied on all systems.
</p>
</dd>
<dt><code>-mpush-args</code></dt>
<dt><code>-mno-push-args</code></dt>
<dd><a name="index-mpush_002dargs"></a>
<a name="index-mno_002dpush_002dargs"></a>
<p>Use PUSH operations to store outgoing parameters.  This method is shorter
d322 2
a323 5
</p>
</dd>
<dt><code>-maccumulate-outgoing-args</code></dt>
<dd><a name="index-maccumulate_002doutgoing_002dargs"></a>
<p>If enabled, the maximum amount of space required for outgoing arguments will be
d327 3
a329 6
increase in code size.  This switch implies <samp>-mno-push-args</samp>.
</p>
</dd>
<dt><code>-mthreads</code></dt>
<dd><a name="index-mthreads"></a>
<p>Support thread-safe exception handling on &lsquo;<samp>Mingw32</samp>&rsquo;.  Code that relies
d331 5
a335 8
<samp>-mthreads</samp> option.  When compiling, <samp>-mthreads</samp> defines
<samp>-D_MT</samp>; when linking, it links in a special thread helper library
<samp>-lmingwthrd</samp> which cleans up per thread exception handling data.
</p>
</dd>
<dt><code>-mno-align-stringops</code></dt>
<dd><a name="index-mno_002dalign_002dstringops"></a>
<p>Do not align destination of inlined string operations.  This switch reduces
d337 4
a340 8
but GCC doesn&rsquo;t know about it.
</p>
</dd>
<dt><code>-minline-all-stringops</code></dt>
<dd><a name="index-minline_002dall_002dstringops"></a>
<p>By default GCC inlines string operations only when the destination is 
known to be aligned to least a 4-byte boundary.  
This enables more inlining, increase code
d343 2
a344 20
</p>
</dd>
<dt><code>-minline-stringops-dynamically</code></dt>
<dd><a name="index-minline_002dstringops_002ddynamically"></a>
<p>For string operations of unknown size, use run-time checks with
inline code for small blocks and a library call for large blocks.
</p>
</dd>
<dt><code>-mstringop-strategy=<var>alg</var></code></dt>
<dd><a name="index-mstringop_002dstrategy_003dalg"></a>
<p>Overwrite internal decision heuristic about particular algorithm to inline
string operation with.  The allowed values are <code>rep_byte</code>,
<code>rep_4byte</code>, <code>rep_8byte</code> for expanding using i386 <code>rep</code> prefix
of specified size, <code>byte_loop</code>, <code>loop</code>, <code>unrolled_loop</code> for
expanding inline loop, <code>libcall</code> for always expanding library call.
</p>
</dd>
<dt><code>-momit-leaf-frame-pointer</code></dt>
<dd><a name="index-momit_002dleaf_002dframe_002dpointer-1"></a>
<p>Don&rsquo;t keep the frame pointer in a register for leaf functions.  This
d347 1
a347 1
<samp>-fomit-frame-pointer</samp> removes the frame pointer for all functions,
d349 2
a350 6
</p>
</dd>
<dt><code>-mtls-direct-seg-refs</code></dt>
<dt><code>-mno-tls-direct-seg-refs</code></dt>
<dd><a name="index-mtls_002ddirect_002dseg_002drefs"></a>
<p>Controls whether TLS variables may be accessed with offsets from the
d355 2
a356 37
</p>
<p>For systems that use GNU libc, the default is on.
</p>
</dd>
<dt><code>-msse2avx</code></dt>
<dt><code>-mno-sse2avx</code></dt>
<dd><a name="index-msse2avx"></a>
<p>Specify that the assembler should encode SSE instructions with VEX
prefix.  The option <samp>-mavx</samp> turns this on by default.
</p>
</dd>
<dt><code>-mfentry</code></dt>
<dt><code>-mno-fentry</code></dt>
<dd><a name="index-mfentry"></a>
<p>If profiling is active <samp>-pg</samp> put the profiling
counter call before prologue.
Note: On x86 architectures the attribute <code>ms_hook_prologue</code>
isn&rsquo;t possible at the moment for <samp>-mfentry</samp> and <samp>-pg</samp>.
</p>
</dd>
<dt><code>-m8bit-idiv</code></dt>
<dt><code>-mno-8bit-idiv</code></dt>
<dd><a name="index-8bit_002didiv"></a>
<p>On some processors, like Intel Atom, 8-bit unsigned integer divide is
much faster than 32-bit/64-bit integer divide.  This option generates a
run-time check.  If both dividend and divisor are within range of 0
to 255, 8-bit unsigned integer divide is used instead of
32-bit/64-bit integer divide.
</p>
</dd>
<dt><code>-mavx256-split-unaligned-load</code></dt>
<dt><code>-mavx256-split-unaligned-store</code></dt>
<dd><a name="index-avx256_002dsplit_002dunaligned_002dload"></a>
<a name="index-avx256_002dsplit_002dunaligned_002dstore"></a>
<p>Split 32-byte AVX unaligned load and store.
</p>
</dd>
d359 1
a359 1
<p>These &lsquo;<samp>-m</samp>&rsquo; switches are supported in addition to the above
d361 9
a369 22
</p>
<dl compact="compact">
<dt><code>-m32</code></dt>
<dt><code>-m64</code></dt>
<dt><code>-mx32</code></dt>
<dd><a name="index-m32"></a>
<a name="index-m64"></a>
<a name="index-mx32"></a>
<p>Generate code for a 32-bit or 64-bit environment.
The <samp>-m32</samp> option sets int, long and pointer to 32 bits and
generates code that runs on any i386 system.
The <samp>-m64</samp> option sets int to 32 bits and long and pointer
to 64 bits and generates code for AMD&rsquo;s x86-64 architecture.
The <samp>-mx32</samp> option sets int, long and pointer to 32 bits and
generates code for AMD&rsquo;s x86-64 architecture.
For darwin only the <samp>-m64</samp> option turns off the <samp>-fno-pic</samp>
and <samp>-mdynamic-no-pic</samp> options.
</p>
</dd>
<dt><code>-mno-red-zone</code></dt>
<dd><a name="index-mno_002dred_002dzone"></a>
<p>Do not use a so called red zone for x86-64 code.  The red zone is mandated
d373 4
a376 7
pointer.  The flag <samp>-mno-red-zone</samp> disables this red zone.
</p>
</dd>
<dt><code>-mcmodel=small</code></dt>
<dd><a name="index-mcmodel_003dsmall"></a>
<p>Generate code for the small code model: the program and its symbols must
be linked in the lower 2 GB of the address space.  Pointers are 64 bits.
d379 3
a381 6
</p>
</dd>
<dt><code>-mcmodel=kernel</code></dt>
<dd><a name="index-mcmodel_003dkernel"></a>
<p>Generate code for the kernel code model.  The kernel runs in the
negative 2 GB of the address space.
d383 9
a391 16
</p>
</dd>
<dt><code>-mcmodel=medium</code></dt>
<dd><a name="index-mcmodel_003dmedium"></a>
<p>Generate code for the medium model: The program is linked in the lower 2
GB of the address space.  Small symbols are also placed there.  Symbols
with sizes larger than <samp>-mlarge-data-threshold</samp> are put into
large data or bss sections and can be located above 2GB.  Programs can
be statically or dynamically linked.
</p>
</dd>
<dt><code>-mcmodel=large</code></dt>
<dd><a name="index-mcmodel_003dlarge"></a>
<p>Generate code for the large model: This model makes no assumptions
about addresses and sizes of sections.
</p></dd>
d394 1
a394 7
<hr>
<div class="header">
<p>
Next: <a href="i386-and-x86_002d64-Windows-Options.html#i386-and-x86_002d64-Windows-Options" accesskey="n" rel="next">i386 and x86-64 Windows Options</a>, Previous: <a href="HPPA-Options.html#HPPA-Options" accesskey="p" rel="prev">HPPA Options</a>, Up: <a href="Submodel-Options.html#Submodel-Options" accesskey="u" rel="up">Submodel Options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>


a395 2
</body>
</html>
@

