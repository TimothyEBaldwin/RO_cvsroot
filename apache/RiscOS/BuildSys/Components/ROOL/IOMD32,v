head	1.26;
access;
symbols
	BuildSys-7_30:1.26
	BuildSys-7_29:1.26
	BuildSys-7_28:1.26
	BuildSys-7_27:1.26
	BuildSys-7_26:1.26
	BuildSys-7_25:1.26
	BuildSys-7_24:1.26
	BuildSys-7_23:1.26
	BuildSys-7_22:1.26
	BuildSys-7_21:1.26
	BuildSys-7_20:1.26
	BuildSys-7_19:1.26
	BuildSys-7_18:1.26
	BuildSys-7_17:1.26
	BuildSys-7_16:1.26
	BuildSys-7_15:1.26
	BuildSys-7_14:1.26
	BuildSys-7_13:1.26
	BuildSys-7_12:1.26
	BuildSys-7_11:1.26
	BuildSys-7_10:1.26
	BuildSys-7_09:1.26
	BuildSys-6_00-1_142_2_10:1.15.2.4
	BuildSys-7_08:1.26
	BuildSys-7_07:1.26
	BuildSys-7_06:1.26
	BuildSys-7_05:1.26
	BuildSys-6_00-1_142_2_9:1.15.2.4
	BuildSys-7_04:1.26
	BuildSys-7_03:1.26
	BuildSys-7_02:1.26
	BuildSys-7_01:1.26
	BuildSys-7_00:1.26
	BuildSys-6_99:1.26
	BuildSys-6_98:1.26
	BuildSys-6_97:1.26
	BuildSys-6_96:1.26
	BuildSys-6_95:1.26
	BuildSys-6_94:1.26
	BuildSys-6_93:1.26
	BuildSys-6_92:1.26
	BuildSys-6_91:1.25
	BuildSys-6_90:1.25
	BuildSys-6_89:1.25
	BuildSys-6_81-1:1.24
	BuildSys-6_88:1.24
	BuildSys-6_87:1.24
	BuildSys-6_86:1.24
	BuildSys-6_85:1.24
	BuildSys-6_84:1.24
	BuildSys-6_83:1.24
	BuildSys-6_82:1.24
	BuildSys-6_81:1.24
	BuildSys-6_80:1.24
	BuildSys-6_79:1.24
	BuildSys-6_78:1.24
	BuildSys-6_77:1.24
	BuildSys-6_76:1.24
	BuildSys-6_75:1.24
	BuildSys-6_74:1.24
	BuildSys-6_73:1.23
	BuildSys-6_72:1.22
	BuildSys-6_71:1.22
	BuildSys-6_70:1.22
	BuildSys-6_69:1.23
	BuildSys-6_68:1.22
	BuildSys-6_67:1.23
	BuildSys-6_66-1:1.22
	BuildSys-6_66:1.23
	BuildSys-6_65:1.23
	BuildSys-6_00-1_142_2_8:1.15.2.3
	BuildSys-6_00-1_142_2_7:1.15.2.3
	BuildSys-6_00-1_142_2_6:1.15.2.3
	BuildSys-6_64:1.23
	BuildSys-6_63:1.23
	BuildSys-6_62:1.23
	BuildSys-6_61:1.23
	BuildSys-6_60:1.23
	BuildSys-6_59:1.23
	BuildSys-6_58:1.23
	BuildSys-6_57:1.23
	BuildSys-6_56:1.23
	BuildSys-6_55:1.23
	BuildSys-6_54:1.23
	BuildSys-6_53:1.23
	BuildSys-6_00-1_142_2_5:1.15.2.3
	BuildSys-6_52:1.23
	BuildSys-6_51:1.23
	BuildSys-6_50:1.23
	BuildSys-6_49:1.23
	BuildSys-6_48:1.23
	BuildSys-6_47:1.23
	BuildSys-6_46:1.22
	BuildSys-6_45:1.22
	BuildSys-6_44:1.22
	BuildSys-6_43:1.22
	BuildSys-6_42:1.22
	BuildSys-6_41:1.22
	BuildSys-6_40:1.22
	BuildSys-6_39:1.22
	BuildSys-6_38:1.22
	BuildSys-6_00-1_142_2_4:1.15.2.2
	BuildSys-6_37:1.22
	BuildSys-6_36:1.22
	BuildSys-6_35:1.22
	BuildSys-6_34:1.21
	BuildSys-6_33:1.21
	BuildSys-6_32:1.20
	BuildSys-6_31:1.20
	BuildSys-6_30:1.20
	BuildSys-6_29:1.20
	BuildSys-6_28:1.19
	BuildSys-6_27:1.19
	BuildSys-6_26:1.19
	BuildSys-6_25:1.19
	BuildSys-6_24:1.19
	BuildSys-6_23:1.19
	BuildSys-6_22:1.19
	BuildSys-6_21:1.19
	BuildSys-6_20:1.19
	BuildSys-6_00-1_142_2_3:1.15.2.1
	BuildSys-6_19:1.19
	BuildSys-6_18:1.19
	BuildSys-6_17:1.19
	BuildSys-6_16:1.19
	BuildSys-6_15:1.19
	BuildSys-6_14:1.19
	BuildSys-6_13:1.19
	BuildSys-6_12:1.19
	BuildSys-6_00-1_142_2_2:1.15.2.1
	BuildSys-6_11:1.19
	BuildSys-6_10:1.18
	BuildSys-6_09:1.18
	BuildSys-6_08:1.17
	BuildSys-6_07:1.16
	BuildSys-6_06:1.16
	BuildSys-6_05:1.16
	BuildSys-6_04:1.15
	BuildSys-6_03:1.15
	BuildSys-6_02:1.15
	BuildSys-6_01:1.15
	BuildSys-6_00-1_142_2_1:1.15
	RPiFreeze:1.15.0.2
	BuildSys-6_00:1.15
	BuildSys-5_99:1.15
	BuildSys-5_98:1.14
	BuildSys-5_97:1.14
	BuildSys-5_96:1.14
	BuildSys-5_95:1.14
	BuildSys-5_94:1.14
	BuildSys-5_93:1.14
	BuildSys-5_92:1.14
	BuildSys-5_91:1.14
	BuildSys-5_90:1.14
	BuildSys-5_89:1.13
	BuildSys-5_88:1.13
	BuildSys-5_87:1.13
	BuildSys-5_86:1.13
	BuildSys-5_85:1.13
	BuildSys-5_84:1.13
	BuildSys-5_83:1.13
	BuildSys-5_82:1.13
	BuildSys-5_81:1.13
	BuildSys-5_80:1.13
	BuildSys-5_79:1.13
	BuildSys-5_78:1.13
	BuildSys-5_77:1.13
	BuildSys-5_76:1.13
	BuildSys-5_75:1.13
	BuildSys-5_74:1.13
	BuildSys-5_73:1.13
	BuildSys-5_72:1.13
	BuildSys-5_71:1.13
	BuildSys-5_70:1.13
	BuildSys-5_69:1.13
	BuildSys-5_68:1.12
	BuildSys-5_67:1.12
	BuildSys-5_66:1.12
	BuildSys-5_65:1.12
	BuildSys-5_64:1.12
	BuildSys-5_63:1.12
	BuildSys-5_62:1.12
	BuildSys-5_61:1.12
	BuildSys-5_60:1.12
	BuildSys-5_59:1.12
	BuildSys-5_58:1.12
	BuildSys-5_57:1.12
	BuildSys-5_56:1.11
	BuildSys-5_55:1.11
	BuildSys-5_54:1.11
	BuildSys-5_53:1.11
	BuildSys-5_52:1.11
	BuildSys-5_51:1.10
	BuildSys-5_50:1.10
	BuildSys-5_49:1.10
	BuildSys-5_48:1.10
	BuildSys-5_47:1.9
	BuildSys-5_46:1.9
	BuildSys-5_45:1.9
	BuildSys-5_44:1.9
	BuildSys-5_43:1.9
	BuildSys-5_42:1.9
	BuildSys-5_41:1.9
	BuildSys-5_40:1.9
	BuildSys-5_39:1.9
	BuildSys-5_38:1.9
	BuildSys-5_37:1.9
	BuildSys-5_36:1.9
	BuildSys-5_35:1.9
	BuildSys-5_34:1.8
	BuildSys-5_33:1.8
	BuildSys-5_32:1.8
	BuildSys-5_31:1.8
	BuildSys-5_30:1.8
	BuildSys-5_29:1.8
	BuildSys-5_28:1.7
	BuildSys-5_27:1.7
	BuildSys-5_26:1.7
	BuildSys-5_25:1.7
	BuildSys-5_24:1.7
	BuildSys-5_23:1.7
	BuildSys-5_22:1.7
	BuildSys-5_21:1.7
	BuildSys-5_20:1.7
	BuildSys-5_19:1.7
	BuildSys-5_18:1.6
	BuildSys-5_17:1.5
	BuildSys-5_16:1.5
	BuildSys-5_15:1.5
	BuildSys-5_14:1.5
	BuildSys-5_13:1.5
	BuildSys-5_12:1.5
	BuildSys-5_11:1.5
	BuildSys-5_10:1.5
	BuildSys-5_09:1.4
	BuildSys-5_08:1.4
	BuildSys-5_07:1.4
	BuildSys-5_06:1.4
	BuildSys-5_05:1.4
	BuildSys-5_04:1.3
	BuildSys-5_03:1.3
	BuildSys-5_02:1.3
	BuildSys-5_01:1.3
	BuildSys-5_00:1.3
	BuildSys-4_99:1.3
	BuildSys-4_98:1.3
	BuildSys-4_97:1.3
	BuildSys-4_96:1.3
	BuildSys-4_95:1.3
	BuildSys-4_94:1.3
	BuildSys-4_93:1.3
	BuildSys-4_92:1.3
	BuildSys-4_91:1.3
	BuildSys-4_90:1.3
	BuildSys-4_89:1.3
	BuildSys-4_88:1.3
	BuildSys-4_87:1.3
	BuildSys-4_86:1.3
	BuildSys-4_85:1.3
	BuildSys-4_84:1.3
	BuildSys-4_83:1.3
	BuildSys-4_82:1.3
	BuildSys-4_81:1.3
	BuildSys-4_80:1.3
	BuildSys-4_79:1.3
	BuildSys-4_78:1.2
	BuildSys-4_77:1.2
	BuildSys-4_76:1.1
	BuildSys-4_75:1.1
	BuildSys-4_74:1.1
	BuildSys-4_73:1.1
	BuildSys-4_72:1.1
	BuildSys-4_71:1.1
	BuildSys-4_70:1.1
	BuildSys-4_69:1.1
	BuildSys-4_68:1.1
	BuildSys-4_67:1.1;
locks; strict;
comment	@# @;


1.26
date	2016.07.30.08.55.35;	author rool;	state Exp;
branches;
next	1.25;
commitid	j83z20T0l1Lv8kgz;

1.25
date	2016.05.22.21.16.16;	author rsprowson;	state Exp;
branches;
next	1.24;
commitid	hfA6oRPfzpA7sw7z;

1.24
date	2015.10.02.21.53.59;	author rsprowson;	state Exp;
branches;
next	1.23;
commitid	pSgAhvlYtyio9ADy;

1.23
date	2014.07.20.13.52.36;	author jlee;	state Exp;
branches;
next	1.22;
commitid	ewkw8luuqfP8B7Jx;

1.22
date	2013.12.01.19.27.39;	author rsprowson;	state Exp;
branches;
next	1.21;
commitid	JustbMfwSKPrSsfx;

1.21
date	2013.11.20.20.34.18;	author rsprowson;	state Exp;
branches;
next	1.20;
commitid	rOedEh6idGIeB3ex;

1.20
date	2013.10.06.23.48.17;	author jlee;	state Exp;
branches;
next	1.19;
commitid	SYDyLnXPufPs7i8x;

1.19
date	2013.03.04.21.50.57;	author rsprowson;	state Exp;
branches;
next	1.18;
commitid	wBDisGGnrvLFpwGw;

1.18
date	2013.02.02.09.16.59;	author rsprowson;	state Exp;
branches;
next	1.17;
commitid	ttaXHj4l5qhOcBCw;

1.17
date	2013.01.31.08.46.31;	author rsprowson;	state Exp;
branches;
next	1.16;
commitid	fJx5aQf4yZdl6lCw;

1.16
date	2012.12.22.10.34.59;	author rsprowson;	state Exp;
branches;
next	1.15;
commitid	pqq3cWReVLMgZcxw;

1.15
date	2012.10.03.20.42.14;	author rsprowson;	state Exp;
branches
	1.15.2.1;
next	1.14;
commitid	Z9jFSbbkR8g0VYmw;

1.14
date	2012.09.02.18.05.24;	author rsprowson;	state Exp;
branches;
next	1.13;
commitid	ZWvpW04pJc403Ziw;

1.13
date	2012.07.04.18.20.22;	author rsprowson;	state Exp;
branches;
next	1.12;
commitid	gW5FedTTr4CH3hbw;

1.12
date	2012.05.26.09.12.27;	author rsprowson;	state Exp;
branches;
next	1.11;
commitid	4MGhJc8MG5Ushd6w;

1.11
date	2012.04.28.16.53.05;	author jlee;	state Exp;
branches;
next	1.10;
commitid	WPL2U5hyrNuhJE2w;

1.10
date	2012.03.21.00.45.24;	author jlee;	state Exp;
branches;
next	1.9;
commitid	LhZRC9h2NRV2BGXv;

1.9
date	2012.01.12.22.26.10;	author rsprowson;	state Exp;
branches;
next	1.8;
commitid	MA2Eo3eDqo6N0WOv;

1.8
date	2011.12.06.00.28.30;	author jlee;	state Exp;
branches;
next	1.7;
commitid	leCIxI8Bo5DuU3Kv;

1.7
date	2011.07.31.13.23.39;	author jlee;	state Exp;
branches;
next	1.6;
commitid	aUPpqiE0LeqvjGtv;

1.6
date	2011.06.22.01.04.24;	author jlee;	state Exp;
branches;
next	1.5;
commitid	saZEZLhspDVBtBov;

1.5
date	2011.03.17.19.31.48;	author srevill;	state Exp;
branches;
next	1.4;
commitid	LgL6Qe5Ltz2QIecv;

1.4
date	2010.11.26.18.38.05;	author jlee;	state Exp;
branches;
next	1.3;

1.3
date	2009.07.12.22.46.37;	author rool;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.26.14.03.05;	author bavison;	state Exp;
branches;
next	1.1;

1.1
date	2008.12.22.00.47.25;	author bavison;	state Exp;
branches;
next	;

1.15.2.1
date	2013.03.07.08.54.38;	author rsprowson;	state Exp;
branches;
next	1.15.2.2;
commitid	KOrNts4OY6bm1QGw;

1.15.2.2
date	2014.02.20.21.02.38;	author rsprowson;	state Exp;
branches;
next	1.15.2.3;
commitid	HvOFwLQ3c6PzNSpx;

1.15.2.3
date	2014.10.12.10.36.21;	author rsprowson;	state Exp;
branches;
next	1.15.2.4;
commitid	tHT6hsrmkNpoOTTx;

1.15.2.4
date	2017.02.21.08.36.55;	author rsprowson;	state Exp;
branches;
next	;
commitid	yeUPZ9XHdm2zpNGz;


desc
@@


1.26
log
@Shuffle module order
Detail:
  Ordering of FPE with respect to ScreenModes not important post ScrModes-0_55.

Version 6.92. Tagged as 'BuildSys-6_92'
@
text
@#------------------------------------------------------------------------------
# Components file for IOMD32 build
#------------------------------------------------------------------------------
%BaseAddress   0xFC000000
%Image         Build$ImageName
%Log           Build$ImageName
%Messages      apache.RiscOS.Sources.Internat.Messages
%Joiner        romlinker
%JoinerFormat  romlinker

# BBE Support
BuildApps
BuildExport
BuildSystem             -options COMPONENTFILE=IOMD32 COMPONENTFILE2=Universal
BuildEnvironment        -options ENVFILE=IOMD32
BuildModules
BuildTools

#------------------------------------------------------------------------------
# some headers
#
HdrSrc                -type EXP
#------------------------------------------------------------------------------
# we need the following exported for swis.h generation
# change the type to EXP
#
DDEUtils              -type EXP
Econet                -type EXP
DDT                   -type EXP
HostFS                -type EXP
SATADriver            -type EXP
SCSIDriver            -type EXP
PCCardFS              -type EXP
PDriver               -type EXP
PDumperDM             -type EXP
MakePSFont            -type EXP
VFPSupport            -type EXP

# Kernel is first module in ROM seen as the UtilityModule
HAL_IOMD
Kernel                -at 0xFC010000
Podule
FileSwitch
ResourceFS
TerritoryManager
Messages
MessageTrans
UK
WindowManager         -options OPTIONS=Ursula
TaskManager
# Desktop is the 11th module (default language)
Desktop
SharedRISC_OSLib
ScreenModes
VIDC20Video
Mouse
PS2Driver
ADFSFiler
BASIC105
BASIC64
BlendTable
BufferManager
ColourTrans
Debugger
DeviceFS
DisplayManager
DMAManager
DragASprite
DragAnObj
DrawMod
BBCEconet
FileCore
ADFS
RamFS
Filer
FilerSWIs
FSLock
FontManager
FPEmulator            -options FPE_APCS=3/32bit
Free
Hourglass
IIC
International
InternationalKeyboard -options KEYBOARD=All
ITable
Joystick
NetFS
NetFiler
NetPrint
NetStatus
Obey
ParallelDeviceDriver
Pinboard
PipeFS
RAMFSFiler
ResourceFiler
ROMFonts
RTC
ScreenBlanker
ScrSaver              -options SCRSAVERAPP=No
SerialDeviceDriver
SerialDeviceSupport
SerialMouse
ShellCLI
SoundDMA
SoundChannels
SoundScheduler
SpriteExtend
SpriteUtils
Squash
SuperSample
SystemDevices
TaskWindow
WindowUtils
FilterManager
WaveSynth
StringLib
Percussion
SharedSnd
Filer_Action
DOSFS                 -options PCMCIA=TRUE
ColourPicker
DrawFile
BootCommands
AUNMsgs
MManager
Internet
Resolver
Net
BootNet
Freeway
ShareFS
MimeMap
LanManFS              -options OPTIONS=-DCHECK_ARMBOOT_EXISTS ROMSPRITES=TRUE
DHCP                  -options OPTIONS=-DMINIMUM_OPTIONS_LENGTH=4
Edit
Draw
Paint
Alarm
Chars
Help2

#
# Toolbox Modules/Libs
#
tboxlib
ToolboxLib            -type EXP
Toolbox
Window
ToolAction
Menu
Iconbar
ColourDbox
ColourMenu
DCS_Quit
FileInfo
FontDbox
FontMenu
PrintDbox
ProgInfo
SaveAs
Scale
Gadgets
#
# CDFS
#
CDFSDriver
ATAPI
CDFS
CDFSFiler

UnSqzAIF
InetRes -options TYPE=EmergencyUtils
HeroNames

# some libraries and bits
#
callx
AsmUtils              -type EXP
TCPIPheaders          -type EXP
socklib
inetlib
unixlib
UnicodeLib            -type EXP
ConfigLib             -type EXP
OSLib
DeskLib
ModMallocLib
PlainArgvLib
RemoteDebug
PDebug
DDTLib
Wild
Trace
DebugLib

NVRAM                 -type EXP
PortManager           -type EXP
Portable              -type EXP
PCI                   -type EXP
SCSIFS                -type EXP # Needed for header export, but depends on filecore headers

ABRelease

# end
@


1.25
log
@Add SATADriver for its exports
Export needed by CDFSSoftATAPI.

Version 6.89. Tagged as 'BuildSys-6_89'
@
text
@a53 1
FPEmulator            -options FPE_APCS=3/32bit
d79 1
@


1.24
log
@Retire TinyStubs
The ROM build of TinyStubs has done nothing since version 0.07 (1998) except count how many clients it has and refuse to die if non zero. The last RAM set of Toolbox modules to use it was just before Expresso (Java Risc PC) in 1998 also.
The Toolbox modules now make use of more functions than TinyStubs provided so can simply use the normal C libary.
While 'tlink' (the special linker used to link against TinyStubs) is mentioned in passing in application note 280 it doesn't appear Acorn ever released it, plus there's no 32 bit version available.

Tested over several months in an IOMD ROM.

Version 6.74. Tagged as 'BuildSys-6_74'
@
text
@d31 1
@


1.23
log
@Move ScreenModes to before video drivers
Detail:
  Components/ROOL/BCM2835, BCM2835Pico, IOMD32, OMAP3, OMAP3Live, OMAP4, Tungsten - Moved ScreenModes (+FPEmulator) to just before the video drivers, so that (once the EDID changes are submitted) the first mode change will be able to use EDID-derived mode timings instead of fixed ones.
  IOMD change is somewhat non-essential due to lack of EDID reading support, but keeps things consistent with the other ROMs.
  Also moved PandoraKey to be with the other keyboard (USB) drivers.
Admin:
  Tested on BB-xM, Iyonix, Pandora, Raspberry Pi, RiscPC


Version 6.47. Tagged as 'BuildSys-6_47'
@
text
@a146 1
TinyStubs
@


1.22
log
@Add BASIC[64] to the !System archive
Add RTC as an export on the Disc components (for NetTime)
Retire BASICTrans, placing alphabetically pleasing BlendTable in its slot

Version 6.35. Tagged as 'BuildSys-6_35'
@
text
@d53 2
a78 1
FPEmulator            -options FPE_APCS=3/32bit
a121 1
ScreenModes
@


1.21
log
@Add RTC module to module database
Replace RTCAdjust with RTC in IOMD and Tungsten builds.
Add RTC to OMAP3 and OMAP4 builds.

Version 6.33. Tagged as 'BuildSys-6_33'
@
text
@d59 1
a59 1
BASICTrans
a172 1
BlendTable
@


1.20
log
@Add BlendTable to ModuleDB & ROM images. Add BlendTable & InverseTable to Disc exports.
Detail:
  ModuleDB - Added BlendTable
  Components/ROOL/BCM2835, IOMD32, OMAP4, OMAP4, S3C2440, S3C6410, Tungsten - BlendTable added to all ROMs for use by SpriteExtend
  Components/ROOL/Disc - BlendTable & InverseTable added to export stage in order to allow CFSI-JPEG to build
Admin:
  OMAP3 ROM tested on BB-xM
  CFSI-JPEG tested on Iyonix


Version 6.29. Tagged as 'BuildSys-6_29'
@
text
@d96 1
a96 1
RTCAdjust
@


1.19
log
@Add NetI to modules database
* Include in disc image (needed by InetSetup when TCP/IP is enabled)
* Remove portable from the IOMD module listing (demoted to export only)

Version 6.11. Tagged as 'BuildSys-6_11'
@
text
@d173 1
@


1.18
log
@Add DMAManager to IOMD components file
Ditch GameModes dummy module in line with other 5.xx series ROMs it's unlikely that any games pre dating the Risc PC would not need more extensive work to become 32 bit than a simple RMEnsure of a dummy module.

Version 6.09. Tagged as 'BuildSys-6_09'
@
text
@a54 2
################### Portable needs to be taught about variable IOMD address
Portable -type EXP
d199 1
@


1.17
log
@Shunt desktop module into consistent slot 11
TaskManager bravely steps into the void. This is now consistent with the defaults in Kernel-5_35-4_79_2_183.

Version 6.08. Tagged as 'BuildSys-6_08'
@
text
@d67 1
a67 4
################### Two ways to proceed with DMA: 1) write a HAL backed, or
################### 2) add build switch to force pre-HAL code to be used
################### (but this needs to be taught about variable IOMD address)
DMAManager -type EXP
a80 1
GameModes
@


1.16
log
@Retire NetUtils
The only reference to NetUtils is where !InetSetup attempts to load it (silently ignoring any fail).
It also outputs this command into "Internet.Startup" but after an RMEnsure of NetFS 5.79.
Since these are ROM components files, and in every case NetFS 5.79 is present, NetUtils is redundant. !InetSetup should continue as before since it is part of the universal boot sequence and may find itself on a machine with an older NetFS.
Also - moved RTCAdjust up into alphabetical order (this handily keeps the module numbering the same for Tungsten & IOMD as a side effect).

Version 6.05. Tagged as 'BuildSys-6_05'
@
text
@d38 1
a38 1
# kernel is first module in ROM seen as the UtilityModule
d49 2
a50 1
# Desktop needs to be the 10th module (default language)
a57 1
TaskManager
@


1.15
log
@Correction to case of Iconbar toolbox component
The component name had an uppercase 'B' which, through the use of the shared TBoxMake makefile in turn became its directory name in resourcefs.
However, with non UK territory the string collation rules would not match this and the Iconbar module would die on init.
Fixes ticket #318.

Version 5.99. Tagged as 'BuildSys-5_99'
@
text
@a94 1
NetUtils
d102 1
a146 1
RTCAdjust
@


1.15.2.1
log
@Branch RPiFreeze sync'd from BuildSys-6_11

Version 6.00, 1.142.2.2. Tagged as 'BuildSys-6_00-1_142_2_2'
@
text
@d38 1
a38 1
# Kernel is first module in ROM seen as the UtilityModule
d49 1
a49 2
TaskManager
# Desktop is the 11th module (default language)
d54 2
d57 1
d67 4
a70 1
DMAManager
d84 1
d95 1
a102 1
RTCAdjust
d147 1
a205 1
Portable              -type EXP
@


1.15.2.2
log
@Merge of trunk BuildSys-6_34 to branch RPiFreeze

Version 6.00, 1.142.2.4. Tagged as 'BuildSys-6_00-1_142_2_4'
@
text
@d96 1
a96 1
RTC
a172 1
BlendTable
@


1.15.2.3
log
@Merge of BuildSys-6_52 to branch

Version 6.00, 1.142.2.5. Tagged as 'BuildSys-6_00-1_142_2_5'
@
text
@a52 2
FPEmulator            -options FPE_APCS=3/32bit
ScreenModes
d59 1
a59 1
BlendTable
d77 1
d121 1
d173 1
@


1.15.2.4
log
@Merge of BuildSys-7_04 to branch

Version 6.00, 1.142.2.9. Tagged as 'BuildSys-6_00-1_142_2_9'
@
text
@a30 1
SATADriver            -type EXP
d53 1
a78 1
FPEmulator            -options FPE_APCS=3/32bit
d147 1
@


1.14
log
@Add ConfigLib to available module libs
Make use of it for the ROMs which include BootCommands

Version 5.90. Tagged as 'BuildSys-5_90'
@
text
@d159 1
a159 1
IconBar
@


1.13
log
@Add VIDC20Video to the database and IOMD32

Version 5.69. Tagged as 'BuildSys-5_69'
@
text
@d192 1
@


1.12
log
@Retired ARM module from those products using HAL branch of the kernel.
Moved SharedSnd up to the other sound modules, partly to group by function, but mostly so Freeway/ShareFS don't change position as they're commonly unplugged.

Version 5.57. Tagged as 'BuildSys-5_57'
@
text
@d52 1
@


1.11
log
@Add UnSqzAIF to ROM images, PlingSystem
Detail:
  Added UnSqzAIF to IOMD32, OMAP3, OMAP3Live, OMAP4, S3C2440, S3C6410 and Tungsten ROM images, to protect against the squeeze 5.03-5.08 bug. Even though the bug hasn't been seen on all platforms, there's no harm in taking precautions against it.
  Added UnSqzAIF to PlingSystem, for 3.70+
Admin:
  New version of UnSqzAIF tested in softload form on Iyonix
  OMAP3 ROM & PlingSystem build OK, others untested


Version 5.52. Tagged as 'BuildSys-5_52'
@
text
@a57 1
ARM
a88 1
IRQUtils2
d122 1
a146 1
SharedSnd
@


1.10
log
@Fix IOMD32 build failure
Detail:
  Components/ROOL/IOMD32 - Move SCSIFS to end of components list. Must come after FileCore due to new dependency on FileCore headers.
Admin:
  IOMD ROM built OK, but untested at runtime


Version 5.48. Tagged as 'BuildSys-5_48'
@
text
@d180 1
@


1.9
log
@Various changes
* Added components file to generate a !System
* Binaries/Browse/BuildEnv/Disc/IOMD32/OMAP4/Printers/Tungsten add heading blocks and line stuff up
* OMAP3 remove unused switch from FPEmulator
* SysMap add mapping from Sovereign to 'V'
* CTools extra qualifiers on some modules to get help right for modules in the 310 directory
* AAsmModule when CMDHELP=None is in force you can infer that no international help is desired, therefore pass this as a switch to the module to allow it to remove the tokens from its help table (based on how the 'standalone' switch is done)

Version 5.35. Tagged as 'BuildSys-5_35'
@
text
@a31 1
SCSIFS                -type EXP
d206 1
@


1.8
log
@Add SharedSound to ROM images
Detail:
  Components/ROOL/IOMD32, OMAP3, OMAP4, Tungsten - These ROMs now include the SharedSound module
Admin:
  OMAP3 & Tungsten ROMs tested


Version 5.29. Tagged as 'BuildSys-5_29'
@
text
@a194 1

@


1.7
log
@Update ROM components files to use romlinker instead of BigSplit2
Detail:
  Components/ROOL/IOMD32, Components/ROOL/OMAP3, Components/ROOL/S3C2440, Components/ROOL/S3C6410,Components/ROOL/Tungsten - Now all use romlinker as their joiner instead of BigSplit2. Required change so that the new kernel can find the ROM build date in the ROM footer.
  Components/ROOL/OMAP3 - Use noimagesize option to prevent the ROM image size being poked into the ROM/HAL at offset &60
Admin:
  OMAP & Tungsten ROMs built and tested.
  Before my romlinker changes, romlinker was producing identical images to BigSplit2, so there shouldn't be any critical bugs lurking in the code.


Version 5.19. Tagged as 'BuildSys-5_19'
@
text
@d149 1
@


1.6
log
@Enable some extra modules in IOMD32 components file
Detail:
  Components/ROOL/IOMD32 - Enabled some extra modules now that they work: ADFS, ParallelDeviceDriver, SerialDeviceDriver, SoundDMA
Admin:
  Tested in ROM softload on RiscPC.
  ADFS floppy support is currently disabled due to not working yet, and Maestro seems to be able to cause SoundDMA/SoundScheduler to crash.


Version 5.18. Tagged as 'BuildSys-5_18'
@
text
@d8 2
a9 2
%Joiner        BigSplit2
%JoinerFormat  BigSplit
@


1.5
log
@Sweeping changes to allow for builds using new directory structure.

The new way to do builds will be to leave source code for almost everything
in place in the relevant subdirectories (e.g. "apache", "bsd", etc) rather
than merge them all into one "Sources" directory. More detail to be put in
the ROOL wiki shortly.

Version 5.10. Tagged as 'BuildSys-5_10'
@
text
@d77 1
a77 4
################### Two ways to proceed with ADFS: 1) write a HAL backed, or
################### 2) add build switch to force pre-HAL code to be used
################### (but this needs to be taught about variable IOMD address)
ADFS -type EXP
d99 1
a99 2
################### Parallel needs to be taught about variable IOMD address
ParallelDeviceDriver -type EXP
d107 1
a107 3
################### Serial needs to fall back to IOMD if no PCI, and
################### needs to be taught about variable IOMD address
SerialDeviceDriver -type EXP
d111 1
a111 2
################### SoundDMA needs to be taught about variable IOMD address
SoundDMA -type EXP
@


1.4
log
@Add VFPSupport header export to Binaries, IOMD32 & Tungsten components files, as needed by new Wimp

Version 5.05. Tagged as 'BuildSys-5_05'
@
text
@d7 1
a7 1
%Messages      Sources.Internat.Messages
@


1.3
log
@Added some autobuild support to various components and the ModuleDB.

Admin:
  Tested in a TungstenDev build on an Iyonix
Author:
  srevill

Version 4.79. Tagged as 'BuildSys-4_79'
@
text
@d37 1
@


1.2
log
@  Added CTools disc build, and various supporting changes
Detail:
  * Updates to CModule makefile fragment to reduce the number of OS-specific
    rules in main Makefiles:
    + Added (RAM|ROM)(C|ASM)DEFINES variables. These allow the calling makefile
      to specify additional defines for RAM or ROM builds of C or assembler
      source files respectively. Traditionally this was done by having separate
      object files for RAM and ROM corresponding at least to whichever source
      file was responsible for interfacing with ResourceFS, but this requires
      messy additional rules. With this new approach, it is necessary to clean
      the component when switching between RAM and ROM builds, but I don't
      think this will affect many people's workflows.
    + Added CMHGDEPENDS. This should be used to specify which object files need
      a static dependency upon the h file autogenerated from the cmhg file.
      It should be specified in the usual form for object files passed to
      CModule - with neither an o. prefix nor a .o suffix.
  * Added TBOXINTLIB to ModuleLibs makefile fragment.
  * AsmUtils, HdrSrc, TCPIPheaders, ToolboxLib and UnicodeLib all upgraded in
    ModuleDB from EXP to ASM or C components, to permit them to be built in the
    install phase. As a result, those other Components files that didn't
    already do so now need to override this back to -type EXP.
  * BuildHost Components file edited to reflect the fact that binaof, binasm,
    modgen and ResGen now have separate install phases for executables and
    Docs files.
Admin:
  The new Components file uses various components that are not publicly
  released, so it can only sensibly be used internally by ROOL. However, it's
  more convenient for us to keep it alongside the other Components files - and
  it also serves as an illustration of how to do a disc build.

Version 4.77. Tagged as 'BuildSys-4_77'
@
text
@d214 2
@


1.1
log
@Added components file for building 32-bit HAL ROMs for IOMD machines.

Version 4.67. Tagged as 'BuildSys-4_67'
@
text
@d22 1
a22 1
HdrSrc
d160 1
a160 1
ToolboxLib
d192 2
a193 2
AsmUtils
TCPIPheaders
d197 1
a197 1
UnicodeLib
@

