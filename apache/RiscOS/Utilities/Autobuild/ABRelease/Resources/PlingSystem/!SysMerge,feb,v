head	1.20;
access;
symbols
	ABRelease-0_89:1.20
	RISC_OS-5_26_merge:1.20
	ABRelease-0_85-1_84_2_1:1.20
	RISC_OS-5_26:1.20.0.2
	RISC_OS-5_26_bp:1.20
	ABRelease-0_88:1.20
	ABRelease-0_87:1.20
	ABRelease-0_86:1.20
	ABRelease-0_85:1.20
	ABRelease-0_84:1.20
	ABRelease-0_83:1.20
	ABRelease-0_82:1.19
	ABRelease-0_81:1.19
	ABRelease-0_80:1.19
	ABRelease-0_79:1.18
	ABRelease-0_78:1.18
	ABRelease-0_77:1.17
	ABRelease-0_76:1.17
	ABRelease-0_75:1.16
	ABRelease-0_74:1.15
	ABRelease-0_73:1.15
	ABRelease-0_72:1.15
	ABRelease-0_71:1.15
	ABRelease-0_70:1.15
	ABRelease-0_69:1.14
	ABRelease-0_68:1.14
	ABRelease-0_67:1.14
	ABRelease-0_66:1.14
	ABRelease-0_65:1.13
	ABRelease-0_64:1.12
	ABRelease-0_63:1.12
	ABRelease-0_62:1.12
	ABRelease-0_61:1.12
	ABRelease-0_60:1.12
	ABRelease-0_59:1.12
	ABRelease-0_58:1.11
	ABRelease-0_57:1.11
	ABRelease-0_56:1.10
	ABRelease-0_55:1.10
	ABRelease-0_54:1.9
	ABRelease-0_53:1.8
	ABRelease-0_52:1.8
	ABRelease-0_51:1.8
	ABRelease-0_50:1.7
	ABRelease-0_49:1.7
	ABRelease-0_48:1.7
	ABRelease-0_47:1.7
	ABRelease-0_46:1.7
	ABRelease-0_45:1.7
	ABRelease-0_44:1.7
	ABRelease-0_43:1.6
	ABRelease-0_42:1.5
	ABRelease-0_41:1.5
	ABRelease-0_40:1.4
	ABRelease-0_39:1.3
	ABRelease-0_38:1.2
	ABRelease-0_37:1.2
	ABRelease-0_36:1.1
	ABRelease-0_35:1.1
	ABRelease-0_34:1.1
	ABRelease-0_33:1.1
	ABRelease-0_32:1.1
	ABRelease-0_31:1.1
	ABRelease-0_30:1.1
	ABRelease-0_29:1.1
	ABRelease-0_28:1.1
	ABRelease-0_27:1.1
	ABRelease-0_26:1.1
	ABRelease-0_25:1.1
	ABRelease-0_24:1.1
	ABRelease-0_23:1.1
	ABRelease-0_22:1.1;
locks; strict;
comment	@# @;


1.20
date	2017.09.07.19.38.43;	author rsprowson;	state Exp;
branches;
next	1.19;
commitid	gIQVTcBvkUS0Ii6A;

1.19
date	2017.05.05.06.33.43;	author rsprowson;	state Exp;
branches;
next	1.18;
commitid	cZQnrhl2rYjOnaQz;

1.18
date	2016.10.23.16.48.04;	author rsprowson;	state Exp;
branches;
next	1.17;
commitid	35WAz9AjEcYc1irz;

1.17
date	2016.06.03.07.26.18;	author rsprowson;	state Exp;
branches;
next	1.16;
commitid	L7cBX43AVeCttZ8z;

1.16
date	2016.04.17.07.30.01;	author rsprowson;	state Exp;
branches;
next	1.15;
commitid	wRfIzBTkCVhp0X2z;

1.15
date	2015.10.02.22.02.40;	author rsprowson;	state Exp;
branches;
next	1.14;
commitid	RckSZlNHuYEncADy;

1.14
date	2015.08.11.19.38.01;	author rsprowson;	state Exp;
branches;
next	1.13;
commitid	9QcsrsqzV4wn4Twy;

1.13
date	2015.07.25.07.17.18;	author rsprowson;	state Exp;
branches;
next	1.12;
commitid	zRdjTuuLYz89wDuy;

1.12
date	2015.02.12.20.47.02;	author rsprowson;	state Exp;
branches;
next	1.11;
commitid	zZc054ifHreNeL9y;

1.11
date	2014.07.15.08.06.54;	author rsprowson;	state Exp;
branches;
next	1.10;
commitid	ZxiSOYmamW0wQrIx;

1.10
date	2013.09.29.07.42.02;	author rsprowson;	state Exp;
branches;
next	1.9;
commitid	4gwSxr3d6g0WZi7x;

1.9
date	2013.08.26.20.22.17;	author rsprowson;	state Exp;
branches;
next	1.8;
commitid	h6EDptBBEBXui03x;

1.8
date	2013.04.15.07.05.01;	author rsprowson;	state Exp;
branches;
next	1.7;
commitid	HQlL23q1vwF2aQLw;

1.7
date	2012.09.16.11.02.35;	author rsprowson;	state Exp;
branches;
next	1.6;
commitid	unVXbUAubdg3gKkw;

1.6
date	2012.09.01.14.09.06;	author rsprowson;	state Exp;
branches;
next	1.5;
commitid	gOkGzD5td5zVLPiw;

1.5
date	2012.07.22.19.20.23;	author rsprowson;	state Exp;
branches;
next	1.4;
commitid	UMQ5oAd8XOzqOAdw;

1.4
date	2012.07.19.20.46.45;	author rsprowson;	state Exp;
branches;
next	1.3;
commitid	Lgqybwi5WX92oddw;

1.3
date	2012.07.17.22.23.46;	author rsprowson;	state Exp;
branches;
next	1.2;
commitid	PL7VRFVEf4GiZXcw;

1.2
date	2012.05.03.08.24.01;	author rsprowson;	state Exp;
branches;
next	1.1;
commitid	dJlZilQRrZKAKf3w;

1.1
date	2012.01.13.22.42.21;	author rsprowson;	state Exp;
branches;
next	;
commitid	HbmHhxHrA9km44Pv;


desc
@@


1.20
log
@Update !SysMerge script for BASIC-1_72
To handle the situation where the disc based BASIC V has *not* been loaded, but the disc based BASIC VI has, add a dummy obey file to the Library so that it can start *BASICFPA instead.
At some future point this can be removed when the disc based BASIC combines all 3 floating point types in one.

Version 0.83. Tagged as 'ABRelease-0_83'
@
text
@|
| An installation script for the System directory which is required on
| all machines including RISC OS 4. This is necessary to ensure files at
| the top of !System also get updated.
|
If "<System$Dir>"="" Then Error 0 !System has not been seen
|
| Create a themed sprite subdirectory if needed
|
RMEnsure BootCommands 1.25 RMLoad <Obey$Dir>.!System.310.Modules.BootCmds
SetEval System$MoveSprites 1
IfThere <System$Dir>.Themes.!Sprites Then SetEval System$MoveSprites 0
If <System$MoveSprites> Then CDir <System$Dir>.Themes
If <System$MoveSprites> Then Rename   <System$Dir>.!Sprites   <System$Dir>.Themes.!Sprites
If <System$MoveSprites> Then X Rename <System$Dir>.!Sprites22 <System$Dir>.Themes.!Sprites22
If <System$MoveSprites> Then X Rename <System$Dir>.!Sprites11 <System$Dir>.Themes.!Sprites11
If <System$MoveSprites> Then Remove   <System$Dir>.!Sprites23
Unset System$MoveSprites
|
| Create a fallback BASIC64 command for having not loaded new BASIC
|
Echo RMEnsure BASIC64 0 RMLoad System:Modules.BASIC64|J%BASICFPA { > <Boot$Dir>.Library.BASIC64 }
SetType <Boot$Dir>.Library.BASIC64 Obey
|
| Now do the updates
|
RMEnsure Installer 0.07 RMLoad <Obey$Dir>.!System.310.Modules.Installer
Install_LogDir <System$Dir>
Install_Update <Obey$Dir>.!System.!Boot                           <System$Dir>.!Boot
Install_Update <Obey$Dir>.!System.!Help                           <System$Dir>.!Help
Install_Update <Obey$Dir>.!System.!Run                            <System$Dir>.!Run
Install_Update <Obey$Dir>.!System.310.Modules.310Support.icons    <System$Dir>.310.Modules.310Support.icons
Install_Update <Obey$Dir>.!System.310.Modules.310Support.icons22  <System$Dir>.310.Modules.310Support.icons22
Install_Update <Obey$Dir>.!System.310.Modules.310Support.ThreeTen <System$Dir>.310.Modules.310Support.ThreeTen
Install_Update <Obey$Dir>.!System.310.Modules.ABCLib              <System$Dir>.310.Modules.ABCLib
Install_Update <Obey$Dir>.!System.310.Modules.BASIC               <System$Dir>.310.Modules.BASIC
Install_Update <Obey$Dir>.!System.310.Modules.BASIC64             <System$Dir>.310.Modules.BASIC64
Install_Update <Obey$Dir>.!System.310.Modules.BootCmds            <System$Dir>.310.Modules.BootCmds
Install_Update <Obey$Dir>.!System.310.Modules.BorderUtil          <System$Dir>.310.Modules.BorderUtil
Install_Update <Obey$Dir>.!System.310.Modules.CallASWI            <System$Dir>.310.Modules.CallASWI
Install_Update <Obey$Dir>.!System.310.Modules.CLib                <System$Dir>.310.Modules.CLib
Install_Update <Obey$Dir>.!System.310.Modules.CMOSUtils           <System$Dir>.310.Modules.CMOSUtils
Install_Update <Obey$Dir>.!System.310.Modules.DragAnObj           <System$Dir>.310.Modules.DragAnObj
Install_Update <Obey$Dir>.!System.310.Modules.DragASprit          <System$Dir>.310.Modules.DragASprit
Install_Update <Obey$Dir>.!System.310.Modules.DrawFile            <System$Dir>.310.Modules.DrawFile
Install_Update <Obey$Dir>.!System.310.Modules.FilterMgr           <System$Dir>.310.Modules.FilterMgr
Install_Update <Obey$Dir>.!System.310.Modules.FPEmulator          <System$Dir>.310.Modules.FPEmulator
Install_Update <Obey$Dir>.!System.310.Modules.FrontEnd            <System$Dir>.310.Modules.FrontEnd
Install_Update <Obey$Dir>.!System.310.Modules.Installer           <System$Dir>.310.Modules.Installer
Install_Update <Obey$Dir>.!System.310.Modules.Network.AUNMsgs     <System$Dir>.310.Modules.Network.AUNMsgs
Install_Update <Obey$Dir>.!System.310.Modules.Network.Freeway     <System$Dir>.310.Modules.Network.Freeway
Install_Update <Obey$Dir>.!System.310.Modules.Network.Internet    <System$Dir>.310.Modules.Network.Internet
Install_Update <Obey$Dir>.!System.310.Modules.Network.MimeMap     <System$Dir>.310.Modules.Network.MimeMap
Install_Update <Obey$Dir>.!System.310.Modules.Network.MManager    <System$Dir>.310.Modules.Network.MManager
Install_Update <Obey$Dir>.!System.310.Modules.Network.Net         <System$Dir>.310.Modules.Network.Net
Install_Update <Obey$Dir>.!System.310.Modules.Network.NetFiler    <System$Dir>.310.Modules.Network.NetFiler
Install_Update <Obey$Dir>.!System.310.Modules.Network.NetFS       <System$Dir>.310.Modules.Network.NetFS
Install_Update <Obey$Dir>.!System.310.Modules.Network.NetPrint    <System$Dir>.310.Modules.Network.NetPrint
Install_Update <Obey$Dir>.!System.310.Modules.Network.NetStatus   <System$Dir>.310.Modules.Network.NetStatus
Install_Update <Obey$Dir>.!System.310.Modules.Picker              <System$Dir>.310.Modules.Picker
Install_Update <Obey$Dir>.!System.310.Modules.RedrawMgr           <System$Dir>.310.Modules.RedrawMgr
Install_Update <Obey$Dir>.!System.310.Modules.SerialUtil          <System$Dir>.310.Modules.SerialUtil
Install_Update <Obey$Dir>.!System.310.Modules.SSound              <System$Dir>.310.Modules.SSound
Install_Update <Obey$Dir>.!System.310.Modules.TaskWindow          <System$Dir>.310.Modules.TaskWindow
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.ColourDbox  <System$Dir>.310.Modules.Toolbox.ColourDbox
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.ColourMenu  <System$Dir>.310.Modules.Toolbox.ColourMenu
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.DCS_Quit    <System$Dir>.310.Modules.Toolbox.DCS_Quit
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.FileInfo    <System$Dir>.310.Modules.Toolbox.FileInfo
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.FontDbox    <System$Dir>.310.Modules.Toolbox.FontDbox
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.FontMenu    <System$Dir>.310.Modules.Toolbox.FontMenu
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.IconBar     <System$Dir>.310.Modules.Toolbox.IconBar
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.Menu        <System$Dir>.310.Modules.Toolbox.Menu
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.PrintDbox   <System$Dir>.310.Modules.Toolbox.PrintDbox
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.ProgInfo    <System$Dir>.310.Modules.Toolbox.ProgInfo
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.SaveAs      <System$Dir>.310.Modules.Toolbox.SaveAs
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.Scale       <System$Dir>.310.Modules.Toolbox.Scale
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.ToolAction  <System$Dir>.310.Modules.Toolbox.ToolAction
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.Toolbox     <System$Dir>.310.Modules.Toolbox.Toolbox
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.Window      <System$Dir>.310.Modules.Toolbox.Window
Install_Update <Obey$Dir>.!System.310.Modules.Wimp                <System$Dir>.310.Modules.Wimp
Install_Update <Obey$Dir>.!System.350.Modules.Fonts               <System$Dir>.350.Modules.Fonts
Install_Update <Obey$Dir>.!System.350.Modules.FPEmulator          <System$Dir>.350.Modules.FPEmulator
Install_Update <Obey$Dir>.!System.350.Modules.ITable              <System$Dir>.350.Modules.ITable
Install_Update <Obey$Dir>.!System.350.Modules.Toolbox.TextGadget  <System$Dir>.350.Modules.Toolbox.TextGadget
Install_Update <Obey$Dir>.!System.350.Modules.Wimp                <System$Dir>.350.Modules.Wimp
Install_Update <Obey$Dir>.!System.360.Modules.Installer           <System$Dir>.360.Modules.Installer
Install_Update <Obey$Dir>.!System.360.Modules.Wimp                <System$Dir>.360.Modules.Wimp
Install_Update <Obey$Dir>.!System.370.Modules.PatchApp            <System$Dir>.370.Modules.PatchApp
Install_Update <Obey$Dir>.!System.370.Modules.UnSqzAIF            <System$Dir>.370.Modules.UnSqzAIF
Install_Update <Obey$Dir>.!System.370.Modules.Wimp                <System$Dir>.370.Modules.Wimp
Install_Update <Obey$Dir>.!System.400.Modules.FPEmulator          <System$Dir>.400.Modules.FPEmulator
Install_Update <Obey$Dir>.!System.400.Modules.Wimp                <System$Dir>.400.Modules.Wimp
Install_Update <Obey$Dir>.!System.SysPaths                        <System$Dir>.SysPaths  
Install_CheckSystem
Install_NoLogDir
@


1.19
log
@Update SysMerge script
BASIC/BASIC64 added (ref BuildSys-6_90).

Version 0.80. Tagged as 'ABRelease-0_80'
@
text
@d20 5
@


1.18
log
@Update SysMerge script
Add Net components.

Version 0.78. Tagged as 'ABRelease-0_78'
@
text
@d31 2
@


1.17
log
@Update SysMerge script
350.TaskWindow no longer differentiated, so don't try to install it.

Version 0.76. Tagged as 'ABRelease-0_76'
@
text
@d48 5
@


1.16
log
@Update to SysMerge install script

Version 0.75. Tagged as 'ABRelease-0_75'
@
text
@a71 1
Install_Update <Obey$Dir>.!System.350.Modules.TaskWindow          <System$Dir>.350.Modules.TaskWindow
@


1.15
log
@Update !SysMerge script
Vestigial module TinyStubs no longer installed

Version 0.70. Tagged as 'ABRelease-0_70'
@
text
@d44 1
d46 1
@


1.14
log
@Update !SysMerge script
Required by BuildSys-6_71.

Version 0.66. Tagged as 'ABRelease-0_66'
@
text
@a50 1
Install_Update <Obey$Dir>.!System.310.Modules.TinyStubs           <System$Dir>.310.Modules.TinyStubs
@


1.13
log
@Move TextGadgets in SysMerge obey file
Has never been 3.10 compatible so lives in 350 now.

Version 0.65. Tagged as 'ABRelease-0_65'
@
text
@a35 1
Install_Update <Obey$Dir>.!System.310.Modules.DDEUtils            <System$Dir>.310.Modules.DDEUtils
@


1.12
log
@Add SSound to the SysMerge installer script

Version 0.59. Tagged as 'ABRelease-0_59'
@
text
@a64 1
Install_Update <Obey$Dir>.!System.310.Modules.Toolbox.TextGadget  <System$Dir>.310.Modules.Toolbox.TextGadget
d73 1
@


1.11
log
@Ammend PlingSystem obey script
The !SysMerge obey script hadn't taken into account that the sprites files for !System need (one off) moving into a subdirectory to match the !Run and !Boot that it installs. This prevents an error when trying to iconsprites a non existant directory.
Tested on RISC OS 4.02.

Version 0.57. Tagged as 'ABRelease-0_57'
@
text
@d50 1
@


1.10
log
@Add networking components to !System.310.Modules in script

Version 0.55. Tagged as 'ABRelease-0_55'
@
text
@d7 15
a22 1

@


1.9
log
@Add missing line to SysMerge script for !System update

Version 0.54. Tagged as 'ABRelease-0_54'
@
text
@d30 3
d55 1
d57 1
a59 2
Install_Update <Obey$Dir>.!System.350.Modules.ITable              <System$Dir>.350.Modules.ITable
Install_Update <Obey$Dir>.!System.350.Modules.Fonts               <System$Dir>.350.Modules.Fonts
@


1.8
log
@Update !SysMerge script to include BootCommands

Version 0.51. Tagged as 'ABRelease-0_51'
@
text
@d63 1
@


1.7
log
@Update SysMerge for PlingSystem

Version 0.44. Tagged as 'ABRelease-0_44'
@
text
@d17 1
@


1.6
log
@Update SysMerge script to match supplied modules

Version 0.43. Tagged as 'ABRelease-0_43'
@
text
@d54 2
@


1.5
log
@SysMerge sync'd with !System

Version 0.41. Tagged as 'ABRelease-0_41'
@
text
@d56 1
@


1.4
log
@Update SysMerge installer script

Version 0.40. Tagged as 'ABRelease-0_40'
@
text
@d17 1
d53 1
d55 1
d57 1
@


1.3
log
@Update SysMerge installer script

Version 0.39. Tagged as 'ABRelease-0_39'
@
text
@d16 1
a16 1
Install_Update <Obey$Dir>.!System.310.Modules.BorderUtil          <System$Dir>.310.Modules.BorderUtil
d30 1
d49 1
@


1.2
log
@TextGadget and UnSqzAIF added to installer script.
Reflects additions to PlingSystem component.

Version 0.37. Tagged as 'ABRelease-0_37'
@
text
@d19 1
@


1.1
log
@Added the things that accompany the web archive for !System.
Untested.

Version 0.22. Tagged as 'ABRelease-0_22'
@
text
@d43 1
d50 1
@

