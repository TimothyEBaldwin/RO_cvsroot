head	4.7;
access;
symbols
	PDriver-3_40:4.7
	PDriver-3_39:4.6
	RO_5_07:4.5
	PDriver-3_38:4.5
	PDriver-3_37:4.4
	PDriver-3_36:4.4
	PDriver-3_35:4.4
	PDriver-3_34:4.4
	kbracey_32bit_merge:4.4
	PDriver-3_33-4_7_2_1:4.4
	kbracey_32bit:4.4.0.2
	kbracey_32bit_bp:4.4
	PDriver-3_33:4.4
	PDriver-3_32:4.4
	PDriver-3_31:4.3
	dellis_autobuild_BaseSW:4.3
	PDriver-3_30:4.3
	sbrodie_sedwards_16Mar2000:4.3
	dcotton_autobuild_BaseSW:4.4
	PDriver-3_29:4.3
	Ursula_merge:4.1.7.4
	nturton_PDriver-3_27:4.1.7.5
	dcotton_pdriver_MPTInitialBuild:4.1.7.5
	PDriver-3_28:4.1.7.4
	sbrodie_PDriver_trunk_251198:4.2
	mstphens_UrsulaRiscPCBuild_20Nov98:4.1.7.4
	Ursula_RiscPC:4.1.7.4.0.4
	rthornb_UrsulaBuild-19Aug1998:4.1.7.4
	UrsulaBuild_FinalSoftload:4.1.7.4
	rthornb_UrsulaBuild-12Aug1998:4.1.7.4
	aglover_UrsulaBuild-05Aug1998:4.1.7.4
	rthornb_UrsulaBuild-29Jul1998:4.1.7.4
	rthornb_UrsulaBuild-22Jul1998:4.1.7.4
	hsimons_BOCA-1_2-Release:4.1.7.4
	rthornb_UrsulaBuild-15Jul1998:4.1.7.4
	rthornb_UrsulaBuild-07Jul1998:4.1.7.4
	rthornb_UrsulaBuild-17Jun1998:4.1.7.4
	rthornb_UrsulaBuild-03Jun1998:4.1.7.4
	rthornb_UrsulaBuild-27May1998:4.1.7.4
	rthornb_UrsulaBuild-21May1998:4.1.7.4
	rthornb_UrsulaBuild_01May1998:4.1.7.4
	afrost_NC2_Generic:4.1.7.4
	afrost_Funai01-33:4.1.7.4
	Ursula:4.1.7.4.0.2
	Ursula_bp:4.1.7.4
	Ursula_31Mar1998:4.2
	Spinner_RCA116:4.1.7.4
	Spinner_B20_2:4.1.7.4
	Spinner_19_3:4.1.7.4
	Spinner_B18:4.1.7.4
	Spinner_B17:4.1.7.4
	Spinner_B15:4.1.7.4
	Spinner_B14:4.1.7.4
	Spinner_B13:4.1.7.4
	Spinner_B12:4.1.7.4
	Spin_merge_28May97:4.1.7.4
	Spinner_B10:4.1.7.4
	Spin_merge_16May97:4.1.7.1
	Daytona:4.1.0.6
	Daytona_bp:4.1
	Spinner_B7:4.1.7.3
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	RCA_bp:4.1
	ARTtmp:4.1.7.1.0.2
	RCA:4.1.0.2
	Spin_merge:4.1.7.5
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.7
date	2016.04.08.21.03.47;	author rsprowson;	state Exp;
branches;
next	4.6;
commitid	4VmvwulPX52xNR1z;

4.6
date	2007.10.19.14.32.26;	author srevill;	state Exp;
branches;
next	4.5;

4.5
date	2004.08.12.15.42.11;	author jballance;	state Exp;
branches;
next	4.4;

4.4
date	2000.12.07.12.36.36;	author sbrodie;	state Exp;
branches;
next	4.3;

4.3
date	99.08.16.11.45.03;	author kbracey;	state Exp;
branches;
next	4.2;

4.2
date	97.05.16.11.35.05;	author kbracey;	state Exp;
branches;
next	4.1;

4.1
date	96.11.05.09.48.44;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.1.1.1
date	96.11.05.09.48.44;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.06.03.06.23;	author nturton;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.13.28.13;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.21.31.50;	author nturton;	state Exp;
branches;
next	4.1.7.2;

4.1.7.2
date	97.04.30.17.46.16;	author scormie;	state Exp;
branches;
next	4.1.7.3;

4.1.7.3
date	97.05.01.13.47.25;	author nturton;	state Exp;
branches;
next	4.1.7.4;

4.1.7.4
date	97.05.14.09.37.17;	author jcoxhead;	state Exp;
branches;
next	4.1.7.5;

4.1.7.5
date	98.09.21.14.30.50;	author kbracey;	state Exp;
branches;
next	;


desc
@@


4.7
log
@Makefile recreated from fragments
Use {TRUE} and {FALSE}, Push/Pull, Unix style file names, and $MergedMsgs for the source of the resources when built standalone.

Version 3.40. Tagged as 'PDriver-3_40'
@
text
@# Copyright 1996 Acorn Computers Ltd
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Makefile for PDriver (Printer driver)
#

COMPONENT  = PDriver
ROM_SOURCE = PDriver.s
HEADER1    = PDriver

include StdTools
include AAsmModule

# Dynamic dependencies:
@


4.6
log
@Fixed so that it builds and installs. No runtime checking.

Version 3.39. Tagged as 'PDriver-3_39'
@
text
@a16 8
# ***********************************
# ***    C h a n g e   L i s t    ***
# ***********************************
# Date       Name         Description
# ----       ----         -----------
# 27-May-94  AMcC         Created.
# 12-May-04  JWB          eliminate aasm
#
a17 8
#
# Paths
#
EXP_HDR = <export$dir>

#
# Program specific options:
#
d19 2
a20 68
EXPORTS    = ${EXP_HDR}.PDriver
# MODULE version has extra (standalone) code to install its Messages in Resources:
MODULE     = rm.${COMPONENT}
ROM_MODULE = rom.${COMPONENT}

#
# Generic options:
#
MKDIR   = do mkdir -p
AS      = objasm
LD      = link
CP      = copy
RM      = remove
WIPE    = x wipe
CCFLAGS = -c -depend !Depend -IC:
ASFLAGS = -depend !Depend -Stamp -quit -module
CPFLAGS = ~cfr~v
WFLAGS  = ~cfr~v

#
# Generic rules:
#
all: ${MODULE}
        @@echo ${COMPONENT}: all built (disc)

rom: ${ROM_MODULE}
        @@echo ${COMPONENT}: all built (rom)

export: ${EXPORTS}
        @@echo ${COMPONENT}: export complete

install: ${MODULE}
        ${MKDIR} ${INSTDIR}
        ${CP} ${MODULE} ${INSTDIR}.${COMPONENT} ${CPFLAGS}
        Access ${INSTDIR}.${COMPONENT} lr/r
        @@echo ${COMPONENT}: installed (disc)

install_rom: ${ROM_MODULE}
        ${MKDIR} ${INSTDIR}
        ${CP} ${ROM_MODULE} ${INSTDIR}.${COMPONENT} ${CPFLAGS}
        @@echo ${COMPONENT}: installed (rom)

resources:
        ${MKDIR} ${RESDIR}.PDrivers
        TokenCheck LocalRes:Messages
        ${CP} LocalRes:Messages ${RESDIR}.PDrivers.Messages ${CPFLAGS}
        @@echo ${COMPONENT}: resource files will be included in Messages module

clean:
        ${RM} ${MODULE}
        ${RM} ${ROM_MODULE}
        ${WIPE} o ${WFLAGS}
        @@echo ${COMPONENT}: cleaned

#
# Include 'StandAlone' code to install/de-install Messages
#
${MODULE}: s.StandAlone
        ${MKDIR} o
        ${AS} ${ASFLAGS} -From s.StandAlone o.${COMPONENT}
        ${LD} -rmf -o $@@ o.${COMPONENT}

#
# Messages will be included in Messages module
#
${ROM_MODULE}: s.PDriver
        ${MKDIR} o
        ${AS} ${ASFLAGS} -From s.PDriver -To $@@
d22 2
a23 2
${EXP_HDR}.PDriver: hdr.PDriver
        ${CP} hdr.PDriver $@@ ${CPFLAGS}
@


4.5
log
@  modified to build on Iyonix
Detail:

Admin:
  Tested at Castle


Version 3.38. Tagged as 'PDriver-3_38'
@
text
@d43 1
a43 1
MKDIR   = cdir
d48 1
d52 1
d67 1
d73 1
d86 1
@


4.4
log
@  Fixed Makefile to use Resources directory.
Detail:
  Instead of littering the locale directories around the root of the
    component, a Resources directory now exists to hold all of these.
    The existing Messages file (UK and Germany) have been copied in situ
    into the new locations and the Makefile updated appropriately.
Admin:
  The revision histories have been copied to the new files.
  The old files have been cvs remove'd.

Version 3.32. Tagged as 'PDriver-3_32'
@
text
@d23 1
d44 2
a45 1
AS      = aasm
d88 3
a90 1
        ${AS} ${ASFLAGS} -From s.StandAlone -To $@@
d96 1
@


4.3
log
@Ursula and Spinner branches merged.
Changed to use srccommit.

Version 3.28. Tagged as 'PDriver-3_28'
@
text
@d73 2
a74 4
	Set PDriverRes$Path ${LOCALE}.,UK.
	TokenCheck PDriverRes:Messages
        ${CP} PDriverRes:Messages ${RESDIR}.PDrivers.Messages ${CPFLAGS}
	Unset PDriverRes$Path
@


4.2
log
@Spinner branch merged
@
text
@a34 1
LDIR       = ${LOCALE}
d73 4
a76 1
        ${CP} ${LDIR}.Messages ${RESDIR}.PDrivers.Messages ${CPFLAGS}
a99 39
rom.PDriver: hdr:ListOpts
rom.PDriver: hdr:Macros
rom.PDriver: hdr:System
rom.PDriver: Hdr:SWIs
rom.PDriver: Hdr:CPU.Generic26
rom.PDriver: Hdr:IO.GenericIO
rom.PDriver: Hdr:RISCOS
rom.PDriver: hdr:Services
rom.PDriver: hdr:FSNumbers
rom.PDriver: hdr:ModHand
rom.PDriver: hdr:NewErrors
rom.PDriver: hdr:MsgTrans
rom.PDriver: hdr:Proc
rom.PDriver: hdr:HostFS
rom.PDriver: hdr:NDRDebug
rom.PDriver: hdr:DDVMacros
rom.PDriver: hdr:ResourceFS
rom.PDriver: Version
rom.PDriver: s.MsgCode
rm.PDriver: s.PDriver
rm.PDriver: hdr:ListOpts
rm.PDriver: hdr:Macros
rm.PDriver: hdr:System
rm.PDriver: Hdr:SWIs
rm.PDriver: Hdr:CPU.Generic26
rm.PDriver: Hdr:IO.GenericIO
rm.PDriver: Hdr:RISCOS
rm.PDriver: hdr:Services
rm.PDriver: hdr:FSNumbers
rm.PDriver: hdr:ModHand
rm.PDriver: hdr:NewErrors
rm.PDriver: hdr:MsgTrans
rm.PDriver: hdr:Proc
rm.PDriver: hdr:HostFS
rm.PDriver: hdr:NDRDebug
rm.PDriver: hdr:DDVMacros
rm.PDriver: hdr:ResourceFS
rm.PDriver: Version
rm.PDriver: s.MsgCode
@


4.1
log
@Initial revision
@
text
@d98 19
a136 19
rom.PDriver: hdr:ListOpts
rom.PDriver: hdr:Macros
rom.PDriver: hdr:System
rom.PDriver: Hdr:SWIs
rom.PDriver: Hdr:CPU.Generic26
rom.PDriver: Hdr:IO.GenericIO
rom.PDriver: Hdr:RISCOS
rom.PDriver: hdr:Services
rom.PDriver: hdr:FSNumbers
rom.PDriver: hdr:ModHand
rom.PDriver: hdr:NewErrors
rom.PDriver: hdr:MsgTrans
rom.PDriver: hdr:Proc
rom.PDriver: hdr:HostFS
rom.PDriver: hdr:NDRDebug
rom.PDriver: hdr:DDVMacros
rom.PDriver: hdr:ResourceFS
rom.PDriver: Version
rom.PDriver: s.MsgCode
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.7.2
log
@   Use buffer in workspace for MessageTrans.
   Added 'Colour' debugging flag.
   Do not pass SpriteV calls to pdriver if a Wimp error box is open.
@
text
@a97 19
rom.PDriver: hdr:ListOpts
rom.PDriver: hdr:Macros
rom.PDriver: hdr:System
rom.PDriver: Hdr:SWIs
rom.PDriver: Hdr:CPU.Generic26
rom.PDriver: Hdr:IO.GenericIO
rom.PDriver: Hdr:RISCOS
rom.PDriver: hdr:Services
rom.PDriver: hdr:FSNumbers
rom.PDriver: hdr:ModHand
rom.PDriver: hdr:NewErrors
rom.PDriver: hdr:MsgTrans
rom.PDriver: hdr:Proc
rom.PDriver: hdr:HostFS
rom.PDriver: hdr:NDRDebug
rom.PDriver: hdr:DDVMacros
rom.PDriver: hdr:ResourceFS
rom.PDriver: Version
rom.PDriver: s.MsgCode
d118 19
@


4.1.7.3
log
@Fixed corruption on module init
@
text
@d98 19
a136 19
rom.PDriver: hdr:ListOpts
rom.PDriver: hdr:Macros
rom.PDriver: hdr:System
rom.PDriver: Hdr:SWIs
rom.PDriver: Hdr:CPU.Generic26
rom.PDriver: Hdr:IO.GenericIO
rom.PDriver: Hdr:RISCOS
rom.PDriver: hdr:Services
rom.PDriver: hdr:FSNumbers
rom.PDriver: hdr:ModHand
rom.PDriver: hdr:NewErrors
rom.PDriver: hdr:MsgTrans
rom.PDriver: hdr:Proc
rom.PDriver: hdr:HostFS
rom.PDriver: hdr:NDRDebug
rom.PDriver: hdr:DDVMacros
rom.PDriver: hdr:ResourceFS
rom.PDriver: Version
rom.PDriver: s.MsgCode
@


4.1.7.4
log
@   New version to keep in step with PDriverDP.
@
text
@a97 19
rom.PDriver: hdr:ListOpts
rom.PDriver: hdr:Macros
rom.PDriver: hdr:System
rom.PDriver: Hdr:SWIs
rom.PDriver: Hdr:CPU.Generic26
rom.PDriver: Hdr:IO.GenericIO
rom.PDriver: Hdr:RISCOS
rom.PDriver: hdr:Services
rom.PDriver: hdr:FSNumbers
rom.PDriver: hdr:ModHand
rom.PDriver: hdr:NewErrors
rom.PDriver: hdr:MsgTrans
rom.PDriver: hdr:Proc
rom.PDriver: hdr:HostFS
rom.PDriver: hdr:NDRDebug
rom.PDriver: hdr:DDVMacros
rom.PDriver: hdr:ResourceFS
rom.PDriver: Version
rom.PDriver: s.MsgCode
d118 19
@


4.1.7.5
log
@Makefile modified to use LocalRes$Path. German resources added.
@
text
@d35 1
d74 1
a74 4
	Set PDriverRes$Path ${LOCALE}.,UK.
	TokenCheck PDriverRes:Messages
        ${CP} PDriverRes:Messages ${RESDIR}.PDrivers.Messages ${CPFLAGS}
	Unset PDriverRes$Path
d98 19
a136 19
rom.PDriver: hdr:ListOpts
rom.PDriver: hdr:Macros
rom.PDriver: hdr:System
rom.PDriver: Hdr:SWIs
rom.PDriver: Hdr:CPU.Generic26
rom.PDriver: Hdr:IO.GenericIO
rom.PDriver: Hdr:RISCOS
rom.PDriver: hdr:Services
rom.PDriver: hdr:FSNumbers
rom.PDriver: hdr:ModHand
rom.PDriver: hdr:NewErrors
rom.PDriver: hdr:MsgTrans
rom.PDriver: hdr:Proc
rom.PDriver: hdr:HostFS
rom.PDriver: hdr:NDRDebug
rom.PDriver: hdr:DDVMacros
rom.PDriver: hdr:ResourceFS
rom.PDriver: Version
rom.PDriver: s.MsgCode
@


4.1.5.1
log
@Import from SrcFiler
@
text
@a97 18
rom.PDriver: hdr:ListOpts
rom.PDriver: hdr:Macros
rom.PDriver: hdr:System
rom.PDriver: Hdr:SWIs
rom.PDriver: Hdr:CPU.Generic26
rom.PDriver: Hdr:IO.GenericIO
rom.PDriver: Hdr:RISCOS
rom.PDriver: hdr:Services
rom.PDriver: hdr:FSNumbers
rom.PDriver: hdr:ModHand
rom.PDriver: hdr:NewErrors
rom.PDriver: hdr:MsgTrans
rom.PDriver: hdr:Proc
rom.PDriver: hdr:NDRDebug
rom.PDriver: hdr:DDVMacros
rom.PDriver: hdr:ResourceFS
rom.PDriver: Version
rom.PDriver: s.MsgCode
d118 19
@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
