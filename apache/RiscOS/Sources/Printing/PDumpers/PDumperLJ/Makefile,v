head	4.10;
access;
symbols
	PDumpers-1_46:4.10
	PDumpers-1_45:4.10
	PDumpers-1_44:4.10
	PDumpers-1_43:4.9
	PDumpers-1_42:4.9
	PDumpers-1_41:4.9
	RO_5_07:4.9
	PDumpers-1_40:4.9
	PDumpers-1_39:4.9
	PDumpers-1_38:4.8
	PDumpers-1_37:4.7
	PDumpers-1_36:4.7
	PDumpers-1_35:4.7
	PDumpers-1_33:4.6
	PDumpers-1_32:4.5
	PDumpers-1_31:4.5
	PDumpers-1_30:4.5
	PDumpers-1_29:4.5
	PDumpers-1_27:4.4
	PDumpers-1_26:4.4
	PDumpers-1_25:4.4
	Spin_merge-1_21:4.1.7.1
	PDumpers-1_24:4.3
	PDumpers-1_23:4.3
	PDumpers-1_22:4.3
	dellis_autobuild_BaseSW:4.3
	PDumpers-1_21:4.3
	sbrodie_sedwards_16Mar2000:4.2
	dcotton_autobuild_BaseSW:4.5
	dcotton_MPT2_build_16061999:4.1.7.2
	mstphens_UrsulaRiscPCBuild_20Nov98:4.1.7.2
	Ursula_RiscPC:4.1.7.2.0.4
	nicke_PDumpers-1_21:4.1.7.2
	rthornb_UrsulaBuild-19Aug1998:4.1.7.2
	UrsulaBuild_FinalSoftload:4.1.7.2
	rthornb_UrsulaBuild-12Aug1998:4.1.7.2
	aglover_UrsulaBuild-05Aug1998:4.1.7.2
	rthornb_UrsulaBuild-29Jul1998:4.1.7.2
	rthornb_UrsulaBuild-22Jul1998:4.1.7.2
	hsimons_BOCA-1_2-Release:4.1.7.2
	rthornb_UrsulaBuild-15Jul1998:4.1.7.2
	rthornb_UrsulaBuild-07Jul1998:4.1.7.2
	rthornb_UrsulaBuild-17Jun1998:4.1.7.2
	rthornb_UrsulaBuild-03Jun1998:4.1.7.2
	rthornb_UrsulaBuild-27May1998:4.1.7.2
	rthornb_UrsulaBuild-21May1998:4.1.7.2
	rthornb_UrsulaBuild_01May1998:4.1.7.2
	afrost_NC2_Generic:4.1.7.2
	afrost_Funai01-33:4.1.7.2
	Ursula:4.1.7.2.0.2
	Ursula_bp:4.1.7.2
	Ursula_31Mar1998:4.2
	Spinner_RCA116:4.1.7.1
	Spinner_B20_2:4.1.7.1
	Spinner_19_3:4.1.7.1
	Spinner_B18:4.1.7.1
	Spinner_B17:4.1.7.1
	Spinner_B15:4.1.7.1
	Spinner_B14:4.1.7.1
	Spinner_B13:4.1.7.1
	Spinner_B12:4.1.7.1
	Spin_merge_28May97:4.1.7.1
	Spinner_B10:4.1.7.1
	Spin_merge_16May97:4.1.7.1
	Daytona:4.2.0.6
	Daytona_bp:4.2
	Spinner_B7:4.1.7.1
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	RCA_bp:4.2
	ARTtmp:4.1.7.1.0.2
	RCA:4.2.0.4
	Spin_merge:4.1.7.2
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.10
date	2008.06.14.17.32.01;	author srevill;	state Exp;
branches;
next	4.9;

4.9
date	2003.01.17.10.54.50;	author srevill;	state Exp;
branches;
next	4.8;

4.8
date	2002.12.17.18.54.53;	author srevill;	state Exp;
branches;
next	4.7;

4.7
date	2002.11.15.16.05.33;	author srevill;	state Exp;
branches;
next	4.6;

4.6
date	2002.02.21.12.55.45;	author srevill;	state Exp;
branches;
next	4.5;

4.5
date	2001.09.18.09.25.32;	author mboura;	state Exp;
branches;
next	4.4;

4.4
date	2001.01.03.16.30.05;	author sbrodie;	state Exp;
branches;
next	4.3;

4.3
date	2000.06.09.11.08.04;	author sbrodie;	state Exp;
branches;
next	4.2;

4.2
date	97.01.22.15.08.43;	author nturton;	state Exp;
branches;
next	4.1;

4.1
date	96.11.05.09.49.25;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.1.1.1
date	96.11.05.09.49.25;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.06.03.13.26;	author nturton;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.13.31.31;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.21.34.56;	author nturton;	state Exp;
branches;
next	4.1.7.2;

4.1.7.2
date	97.09.04.13.23.30;	author rbuckley;	state Exp;
branches;
next	;


desc
@@


4.10
log
@Just some makefile tweaks. No code changes.

Version 1.44. Tagged as 'PDumpers-1_44'
@
text
@# Copyright 1996 Acorn Computers Ltd
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Makefile for PDumperLJ (Printer dumper for LaserJets)
#
# ***********************************
# ***    C h a n g e   L i s t    ***
# ***********************************
# Date         Name  Description
# ----         ----  -----------
# 27-May-94    AMcC  Created.
# 27 Jun 1997  RWB   Build seperatly from rest of dumpers
# 08 Nov 2002  SAR   Now uses objasm and shared makefiles

COMPONENT = PDumperLJ

include StdTools
include AAsmModule

clean::
        ${XWIPE} o ${WFLAGS}
        ${XWIPE} rm ${WFLAGS}

export_hdrs:: ^.hdr.PDumper
        ${CP} ^.hdr.PDumper ${EXP_HDR}.PDumper ${CPFLAGS}
        @@${ECHO} ${COMPONENT}: header export complete

# Dynamic dependencies:
@


4.9
log
@Build tweaks to allow these to be assembled with an objasm which doesn't
have a '-J' option - see previous check in.
Fix for macro "PrintCountedString",the length was a factor 256 out.

Version 1.39. Tagged as 'PDumpers-1_39'
@
text
@d32 2
a33 2
        ${WIPE} o ${WFLAGS}
        ${WIPE} rm ${WFLAGS}
@


4.8
log
@Build changes,no code changes.
Took out the bodge of prefixing all the files GOT from the Generic
directory with a G,and replaced it with use of new flag "-J" in objasm.
Improved clean rule in top MakeFile.
Deleted some unused !Mk files.

Version 1.38. Tagged as 'PDumpers-1_38'
@
text
@a30 2
ASFLAGS += -J@@.s

@


4.7
log
@Renamed generic driver sources
Makefiles rewritten
Converted to use objasm
First pass at 32 bit compatibility.

Version 1.34. Tagged as 'PDumpers-1_34'
@
text
@d31 2
@


4.6
log
@  Changed all of the makefile install rules.
Detail:
  All of the makefiles in this component will now use "do mkdir -p" rather
  than "cdir" to create directories and they create INSTDIR before doing
  the installation.
Admin:
  Builds and installs.

Version 1.33. Tagged as 'PDumpers-1_33'
@
text
@d20 5
a24 5
# Date       Name         Description
# ----       ----         -----------
# 27-May-94  AMcC         Created.
# 27 Jun 1997 RWB	  Build seperatly from rest of dumpers
#
a25 19
#
# Paths
#
EXP_HDR = <export$dir>

#
# Generic options:
#
MKDIR   = do mkdir -p
AS      = aasm
CP      = copy
RM      = remove
CCFLAGS = -c -depend !Depend -IC:
ASFLAGS = -depend !Depend -Stamp -quit -module
CPFLAGS = ~cfr~v

#
# Program specific options:
#
a26 29
EXPORT    = ${EXP_HDR}.PDumper
SOURCE    = s.Header
TARGET    = rm.${COMPONENT}

#
# Generic rules:
#
clean:
	${RM} ${TARGET}
	${RM} rm

all: ${TARGET}
        @@echo ${COMPONENT}: module built
        
rom: ${TARGET}
        @@echo ${COMPONENT}: rom module built

export: ${EXPORT}
        @@echo ${COMPONENT}: export complete

install: ${TARGET}
        ${MKDIR} ${INSTDIR}
        ${CP} ${TARGET} ${INSTDIR}.${COMPONENT} ${CPFLAGS}
	Access ${INSTDIR}.${COMPONENT} LR/r
        @@echo ${COMPONENT}: installed (disc)

install_rom: ${TARGET}
        ${CP} ${TARGET} ${INSTDIR}.${COMPONENT} ${CPFLAGS}
        @@echo ${COMPONENT}: rom module installed 
d28 2
a29 3
${TARGET}: ${SOURCE}
	${MKDIR} rm
        ${AS} ${ASFLAGS} -To $@@ -From ${SOURCE}
d31 7
a37 2
${EXP_HDR}.PDumper: ^.hdr.PDumper
        ${CP} ^.hdr.PDumper $@@ ${CPFLAGS}
@


4.5
log
@Summarry:
Fix of bug #5159. (Interim)
Detail:
At the start of a print job, now checks for an outstanding OS_GBPB error. If there is, then the printer has probably been left with an incomplete raster line in its input buffer. The generic start page code will then send 64K of ASCII NULL to flush it.
PDumperLJ.s.StartPage now uses the generic code (whish was identical apart from a few debugging lines).
Admin:
Tested with HP 610C using the 550C driver.

Version 1.29. Tagged as 'PDumpers-1_29'
@
text
@d34 1
a34 1
MKDIR   = cdir
d67 1
a83 1
rm.PDumperLJ: ^.Generic.s.Header hdr:ListOpts hdr:Macros hdr:System Hdr:SWIs Hdr:CPU.Generic26 Hdr:Machine.<Machine> Hdr:Machine.Machine Hdr:CPU.Generic32 Hdr:IO.GenericIO Hdr:RISCOS hdr:FSNumbers hdr:HighFSI hdr:Modhand hdr:NewErrors hdr:PDriver hdr:PDriverReg hdr:PDumper hdr:PDumperReg hdr:Services hdr:Sprite hdr:ColourTran hdr:Proc hdr:MsgTrans hdr:HostFS hdr:NDRDebug hdr:DDVMacros hdr:HostDebug s.Version ^.VersionASM s.Macros ^.Generic.s.Macros s.Workspace s.BranchCode ^.Generic.s.BranchCode s.24Bit ^.Generic.s.24Bit s.SetDriver ^.Generic.s.SetDriver s.OutputDump ^.Generic.s.OutputDump s.ColourSet ^.Generic.s.ColourSet s.StartPage ^.Generic.s.SendExtra s.EndPage s.AbortJob ^.Generic.s.AbortJob s.StartJob ^.Generic.s.StartJob s.MiscOp ^.Generic.s.MiscOp
@


4.4
log
@  Merge of Spinner branch.
Detail:
  All Makefiles now export the PDumper header.
Admin:
  Fixes from the spinner branch have been merged in.
  Should now build in the build system.

Version 1.25. Tagged as 'PDumpers-1_25'
@
text
@d83 1
@


4.3
log
@32-bit compatible.

Version 1.21. Tagged as 'PDumpers-1_21'
@
text
@d23 1
d27 5
d46 1
d48 1
a48 1
TARGET    = ^.rm.${COMPONENT}
d53 4
d58 16
a73 1
        @@echo ${COMPONENT}: all built
d76 1
d78 3
@


4.2
log
@Version Spin_merge taken
@
text
@a52 48
^.rm.PDumperLJ: ^.Generic.s.Header
^.rm.PDumperLJ: hdr:ListOpts
^.rm.PDumperLJ: hdr:Macros
^.rm.PDumperLJ: hdr:System
^.rm.PDumperLJ: Hdr:SWIs
^.rm.PDumperLJ: Hdr:CPU.Generic26
^.rm.PDumperLJ: Hdr:IO.GenericIO
^.rm.PDumperLJ: Hdr:RISCOS
^.rm.PDumperLJ: hdr:FSNumbers
^.rm.PDumperLJ: hdr:HighFSI
^.rm.PDumperLJ: hdr:Modhand
^.rm.PDumperLJ: hdr:NewErrors
^.rm.PDumperLJ: hdr:PDriver
^.rm.PDumperLJ: hdr:PDriverReg
^.rm.PDumperLJ: hdr:PDumper
^.rm.PDumperLJ: hdr:PDumperReg
^.rm.PDumperLJ: hdr:Services
^.rm.PDumperLJ: hdr:Sprite
^.rm.PDumperLJ: hdr:ColourTran
^.rm.PDumperLJ: hdr:Proc
^.rm.PDumperLJ: hdr:MsgTrans
^.rm.PDumperLJ: hdr:HostFS
^.rm.PDumperLJ: hdr:NDRDebug
^.rm.PDumperLJ: hdr:DDVMacros
^.rm.PDumperLJ: hdr:HostDebug
^.rm.PDumperLJ: s.Version
^.rm.PDumperLJ: ^.Version
^.rm.PDumperLJ: s.Macros
^.rm.PDumperLJ: ^.Generic.s.Macros
^.rm.PDumperLJ: s.Workspace
^.rm.PDumperLJ: s.BranchCode
^.rm.PDumperLJ: ^.Generic.s.BranchCode
^.rm.PDumperLJ: s.24Bit
^.rm.PDumperLJ: ^.Generic.s.24Bit
^.rm.PDumperLJ: s.SetDriver
^.rm.PDumperLJ: ^.Generic.s.SetDriver
^.rm.PDumperLJ: s.OutputDump
^.rm.PDumperLJ: ^.Generic.s.OutputDump
^.rm.PDumperLJ: s.ColourSet
^.rm.PDumperLJ: ^.Generic.s.ColourSet
^.rm.PDumperLJ: s.StartPage
^.rm.PDumperLJ: ^.Generic.s.SendExtra
^.rm.PDumperLJ: s.EndPage
^.rm.PDumperLJ: s.AbortJob
^.rm.PDumperLJ: ^.Generic.s.AbortJob
^.rm.PDumperLJ: s.StartJob
^.rm.PDumperLJ: s.MiscOp
^.rm.PDumperLJ: ^.Generic.s.MiscOp
@


4.1
log
@Initial revision
@
text
@a98 1
^.rm.PDumperLJ: ^.Generic.s.StartJob
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@d99 1
@


4.1.7.2
log
@Re-jigged the PDumper build such that each module has a seperate makefile
to simplify the build process.
@
text
@a22 1
# 27 Jun 1997 RWB	  Build seperatly from rest of dumpers
a25 5
# Paths
#
EXP_HDR = <export$dir>

#
a39 1
EXPORT    = ${EXP_HDR}.PDumper
d41 1
a41 1
TARGET    = rm.${COMPONENT}
a45 4
clean:
	${RM} ${TARGET}
	${RM} rm

d47 1
a47 16
        @@echo ${COMPONENT}: module built
        
rom: ${TARGET}
        @@echo ${COMPONENT}: rom module built

export: ${EXPORT}
        @@echo ${COMPONENT}: export complete

install: ${TARGET}
        ${CP} ${TARGET} ${INSTDIR}.${COMPONENT} ${CPFLAGS}
	Access ${INSTDIR}.${COMPONENT} LR/r
        @@echo ${COMPONENT}: installed (disc)

install_rom: ${TARGET}
        ${CP} ${TARGET} ${INSTDIR}.${COMPONENT} ${CPFLAGS}
        @@echo ${COMPONENT}: rom module installed 
a49 1
	${MKDIR} rm
a51 3
${EXP_HDR}.PDumper: ^.hdr.PDumper
        ${CP} ^.hdr.PDumper $@@ ${CPFLAGS}

d53 48
a100 48
rm.PDumperLJ: ^.Generic.s.Header
rm.PDumperLJ: hdr:ListOpts
rm.PDumperLJ: hdr:Macros
rm.PDumperLJ: hdr:System
rm.PDumperLJ: Hdr:SWIs
rm.PDumperLJ: Hdr:CPU.Generic26
rm.PDumperLJ: Hdr:IO.GenericIO
rm.PDumperLJ: Hdr:RISCOS
rm.PDumperLJ: hdr:FSNumbers
rm.PDumperLJ: hdr:HighFSI
rm.PDumperLJ: hdr:Modhand
rm.PDumperLJ: hdr:NewErrors
rm.PDumperLJ: hdr:PDriver
rm.PDumperLJ: hdr:PDriverReg
rm.PDumperLJ: hdr:PDumper
rm.PDumperLJ: hdr:PDumperReg
rm.PDumperLJ: hdr:Services
rm.PDumperLJ: hdr:Sprite
rm.PDumperLJ: hdr:ColourTran
rm.PDumperLJ: hdr:Proc
rm.PDumperLJ: hdr:MsgTrans
rm.PDumperLJ: hdr:HostFS
rm.PDumperLJ: hdr:NDRDebug
rm.PDumperLJ: hdr:DDVMacros
rm.PDumperLJ: hdr:HostDebug
rm.PDumperLJ: s.Version
rm.PDumperLJ: ^.Version
rm.PDumperLJ: s.Macros
rm.PDumperLJ: ^.Generic.s.Macros
rm.PDumperLJ: s.Workspace
rm.PDumperLJ: s.BranchCode
rm.PDumperLJ: ^.Generic.s.BranchCode
rm.PDumperLJ: s.24Bit
rm.PDumperLJ: ^.Generic.s.24Bit
rm.PDumperLJ: s.SetDriver
rm.PDumperLJ: ^.Generic.s.SetDriver
rm.PDumperLJ: s.OutputDump
rm.PDumperLJ: ^.Generic.s.OutputDump
rm.PDumperLJ: s.ColourSet
rm.PDumperLJ: ^.Generic.s.ColourSet
rm.PDumperLJ: s.StartPage
rm.PDumperLJ: ^.Generic.s.SendExtra
rm.PDumperLJ: s.EndPage
rm.PDumperLJ: s.AbortJob
rm.PDumperLJ: ^.Generic.s.AbortJob
rm.PDumperLJ: s.StartJob
rm.PDumperLJ: s.MiscOp
rm.PDumperLJ: ^.Generic.s.MiscOp
@


4.1.5.1
log
@Import from SrcFiler
@
text
@d99 1
@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@d99 1
@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
