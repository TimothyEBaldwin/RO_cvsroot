head	4.25;
access;
symbols
	PDumpers-1_46:4.25
	PDumpers-1_45:4.24
	PDumpers-1_44:4.23
	PDumpers-1_43:4.22
	PDumpers-1_42:4.21
	PDumpers-1_41:4.20
	RO_5_07:4.19
	PDumpers-1_40:4.19
	PDumpers-1_39:4.18
	PDumpers-1_38:4.17
	PDumpers-1_37:4.16
	PDumpers-1_36:4.15
	PDumpers-1_35:4.14
	PDumpers-1_34:4.13
	PDumpers-1_33:4.12
	PDumpers-1_32:4.11
	PDumpers-1_31:4.10
	PDumpers-1_30:4.9
	PDumpers-1_29:4.8
	PDumpers-1_27:4.7
	PDumpers-1_26:4.6
	PDumpers-1_25:4.5
	PDumpers-1_24:4.4
	PDumpers-1_23:4.3
	PDumpers-1_22:4.2
	dellis_autobuild_BaseSW:4.1
	dcotton_autobuild_BaseSW:4.8
	PDumpers-1_21:4.1;
locks; strict;
comment	@# @;


4.25
date	2012.01.14.22.58.29;	author srevill;	state Exp;
branches;
next	4.24;
commitid	0abGtjHzUzmU7cPv;

4.24
date	2009.04.24.02.16.42;	author srevill;	state Exp;
branches;
next	4.23;

4.23
date	2008.06.14.17.31.55;	author srevill;	state Exp;
branches;
next	4.22;

4.22
date	2008.06.05.22.49.43;	author bavison;	state Exp;
branches;
next	4.21;

4.21
date	2005.06.02.22.16.30;	author jballance;	state Exp;
branches;
next	4.20;

4.20
date	2005.05.13.21.18.37;	author jballance;	state Exp;
branches;
next	4.19;

4.19
date	2004.08.12.15.38.03;	author jballance;	state Exp;
branches;
next	4.18;

4.18
date	2003.01.17.10.54.41;	author srevill;	state Exp;
branches;
next	4.17;

4.17
date	2002.12.17.18.54.42;	author srevill;	state Exp;
branches;
next	4.16;

4.16
date	2002.12.14.11.41.55;	author rsprowson;	state Exp;
branches;
next	4.15;

4.15
date	2002.12.05.16.47.55;	author rsprowson;	state Exp;
branches;
next	4.14;

4.14
date	2002.12.05.16.03.43;	author srevill;	state Exp;
branches;
next	4.13;

4.13
date	2002.11.15.16.05.22;	author srevill;	state Exp;
branches;
next	4.12;

4.12
date	2002.02.21.12.55.42;	author srevill;	state Exp;
branches;
next	4.11;

4.11
date	2002.01.28.16.57.43;	author mboura;	state Exp;
branches;
next	4.10;

4.10
date	2002.01.25.17.23.49;	author mboura;	state Exp;
branches;
next	4.9;

4.9
date	2002.01.25.17.08.53;	author mboura;	state Exp;
branches;
next	4.8;

4.8
date	2001.09.18.09.25.31;	author mboura;	state Exp;
branches;
next	4.7;

4.7
date	2001.06.20.15.00.01;	author sbrodie;	state Exp;
branches;
next	4.6;

4.6
date	2001.06.01.14.18.37;	author sbrodie;	state Exp;
branches;
next	4.5;

4.5
date	2001.01.03.16.29.57;	author sbrodie;	state Exp;
branches;
next	4.4;

4.4
date	2000.11.26.11.21.59;	author sbrodie;	state Exp;
branches;
next	4.3;

4.3
date	2000.10.20.09.50.55;	author sbrodie;	state Exp;
branches;
next	4.2;

4.2
date	2000.10.19.14.01.56;	author sbrodie;	state Exp;
branches;
next	4.1;

4.1
date	2000.06.09.11.07.56;	author sbrodie;	state Exp;
branches;
next	;


desc
@@


4.25
log
@Replace "-wipe" with "x wipe" in makefiles to remove annoying errors.

Version 1.46. Tagged as 'PDumpers-1_46'
@
text
@;
; This file is automatically maintained by srccommit, do not edit manually.
; Last processed by srccommit version: 1.1.
;
                        GBLS    Module_MajorVersion
                        GBLA    Module_Version
                        GBLS    Module_MinorVersion
                        GBLS    Module_Date
                        GBLS    Module_FullVersion
                        GBLS    Module_ApplicationDate
                        GBLS    Module_HelpVersion
                        GBLS    Module_ComponentName
                        GBLS    Module_ComponentPath
Module_MajorVersion     SETS    "1.46"
Module_Version          SETA    146
Module_MinorVersion     SETS    ""
Module_Date             SETS    "14 Jan 2012"
Module_ApplicationDate  SETS    "14-Jan-12"
Module_ComponentName    SETS    "PDumpers"
Module_ComponentPath    SETS    "castle/RiscOS/Sources/Printing/PDumpers"
Module_FullVersion      SETS    "1.46"
Module_HelpVersion      SETS    "1.46 (14 Jan 2012)"
                        END
@


4.24
log
@Resolved a name and PDumper number clash.

A public PDumper module was released by a third party which stole a private
allocation (and leafname) from an Acorn PDumper. Now the Acorn module is
public, there's a clash. It's easier to fix by changing the Acorn module
to be called PDumperSP25 (dumper number 25) to avoid the clash.

Resolves ticket #178

Version 1.45. Tagged as 'PDumpers-1_45'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.45"
Module_Version          SETA    145
d17 2
a18 2
Module_Date             SETS    "24 Apr 2009"
Module_ApplicationDate  SETS    "24-Apr-09"
d21 2
a22 2
Module_FullVersion      SETS    "1.45"
Module_HelpVersion      SETS    "1.45 (24 Apr 2009)"
@


4.23
log
@Just some makefile tweaks. No code changes.

Version 1.44. Tagged as 'PDumpers-1_44'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.44"
Module_Version          SETA    144
d17 2
a18 2
Module_Date             SETS    "14 Jun 2008"
Module_ApplicationDate  SETS    "14-Jun-08"
d21 2
a22 2
Module_FullVersion      SETS    "1.44"
Module_HelpVersion      SETS    "1.44 (14 Jun 2008)"
@


4.22
log
@  Added PDumperPCL.
Detail:
  Contributed by Herbert zur Nedden and based upon PDumperLJ, this is a
  dumper designed for PCL printers that support duplex printing, such as the
  Canon i-Sensys MF4690PL. See PDumperPCL/!Info for full details.
Admin:
  Tested by the author on the aforementioned printer; ROOL have merely
  checked that it compiles. See PrintDefs 0.46 for the associated printer
  definition file.

Version 1.43. Tagged as 'PDumpers-1_43'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.2.
d14 2
a15 2
Module_MajorVersion     SETS    "1.43"
Module_Version          SETA    143
d17 2
a18 2
Module_Date             SETS    "05 Jun 2008"
Module_ApplicationDate  SETS    "05-Jun-08"
d21 2
a22 2
Module_FullVersion      SETS    "1.43"
Module_HelpVersion      SETS    "1.43 (05 Jun 2008)"
@


4.21
log
@	Further change to PDumperLJ . 1.41 broke vertical
	page offset string.
Detail:
	moved code added in 1.41 slightly later to ensure page
	offset string always got through intact.
Admin:
	checked with 'print to file' inspection
	Castle added IP


Version 1.42. Tagged as 'PDumpers-1_42'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.42"
Module_Version          SETA    142
d17 2
a18 2
Module_Date             SETS    "02 Jun 2005"
Module_ApplicationDate  SETS    "02-Jun-05"
d20 3
a22 3
Module_ComponentPath    SETS    "RiscOS/Sources/Printing/PDumpers"
Module_FullVersion      SETS    "1.42"
Module_HelpVersion      SETS    "1.42 (02 Jun 2005)"
@


4.20
log
@	Slight change to start strings in PDumperLJ .. reflects mods
	Rob made and sent to Castle, but didn't commit.

Detail: Allows multi page printing in PDumperLJ to printers requiring the
	PJL job command to be given .. change moves the page print
	quantity printout to after the page start string, which can be used
	to insert the relevant PJL command
Admin:  used at Castle .. field tested


Version 1.41. Tagged as 'PDumpers-1_41'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.41"
Module_Version          SETA    141
d17 2
a18 2
Module_Date             SETS    "13 May 2005"
Module_ApplicationDate  SETS    "13-May-05"
d21 2
a22 2
Module_FullVersion      SETS    "1.41"
Module_HelpVersion      SETS    "1.41 (13 May 2005)"
@


4.19
log
@ Mod to PDumperCX to allow wider page printing than A4, and change
 to !MkInstall to build and install both PDumperCX and PDumperCX2
Detail:

Admin:
Tested at Castle


Version 1.40. Tagged as 'PDumpers-1_40'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.68.
d14 2
a15 2
Module_MajorVersion     SETS    "1.40"
Module_Version          SETA    140
d17 2
a18 2
Module_Date             SETS    "12 Aug 2004"
Module_ApplicationDate  SETS    "12-Aug-04"
d21 2
a22 2
Module_FullVersion      SETS    "1.40"
Module_HelpVersion      SETS    "1.40 (12 Aug 2004)"
@


4.18
log
@Build tweaks to allow these to be assembled with an objasm which doesn't
have a '-J' option - see previous check in.
Fix for macro "PrintCountedString",the length was a factor 256 out.

Version 1.39. Tagged as 'PDumpers-1_39'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.39"
Module_Version          SETA    139
d17 2
a18 2
Module_Date             SETS    "17 Jan 2003"
Module_ApplicationDate  SETS    "17-Jan-03"
d21 2
a22 2
Module_FullVersion      SETS    "1.39"
Module_HelpVersion      SETS    "1.39 (17 Jan 2003)"
@


4.17
log
@Build changes,no code changes.
Took out the bodge of prefixing all the files GOT from the Generic
directory with a G,and replaced it with use of new flag "-J" in objasm.
Improved clean rule in top MakeFile.
Deleted some unused !Mk files.

Version 1.38. Tagged as 'PDumpers-1_38'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.38"
Module_Version          SETA    138
d17 2
a18 2
Module_Date             SETS    "17 Dec 2002"
Module_ApplicationDate  SETS    "17-Dec-02"
d21 2
a22 2
Module_FullVersion      SETS    "1.38"
Module_HelpVersion      SETS    "1.38 (17 Dec 2002)"
@


4.16
log
@Turned off 10k leading zero switch in PDumperLJ,this broke more than
it fixed but will almost certainly mean HP810C's wont work now.
Added PDumperCX2 dumper,infact this is derived from PDumperCX since
they're closely related - new Canon printers use 16 bit margin setup
code whereas old ones used 8 bit margin setup.

Version 1.37. Tagged as 'PDumpers-1_37'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.37"
Module_Version          SETA    137
d17 2
a18 2
Module_Date             SETS    "14 Dec 2002"
Module_ApplicationDate  SETS    "14-Dec-02"
d21 2
a22 2
Module_FullVersion      SETS    "1.37"
Module_HelpVersion      SETS    "1.37 (14 Dec 2002)"
@


4.15
log
@Change to PrintCountedString macro to support dump strings up to 16M in
length.
Note,will require a printer manager post 1.63 to actually be able to use
this feature otherwise you're stuck at 255 bytes still.

Version 1.36. Tagged as 'PDumpers-1_36'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.36"
Module_Version          SETA    136
d17 2
a18 2
Module_Date             SETS    "05 Dec 2002"
Module_ApplicationDate  SETS    "05-Dec-02"
d21 2
a22 2
Module_FullVersion      SETS    "1.36"
Module_HelpVersion      SETS    "1.36 (05 Dec 2002)"
@


4.14
log
@Log of printer dumper sources which accompanied OS 5.00 on the disc image.
Removal of some redundant !Mk* files.

Version 1.35. Tagged as 'PDumpers-1_35'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.35"
Module_Version          SETA    135
d21 2
a22 2
Module_FullVersion      SETS    "1.35"
Module_HelpVersion      SETS    "1.35 (05 Dec 2002)"
@


4.13
log
@Renamed generic driver sources
Makefiles rewritten
Converted to use objasm
First pass at 32 bit compatibility.

Version 1.34. Tagged as 'PDumpers-1_34'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.34"
Module_Version          SETA    134
d17 2
a18 2
Module_Date             SETS    "15 Nov 2002"
Module_ApplicationDate  SETS    "15-Nov-02"
d21 2
a22 2
Module_FullVersion      SETS    "1.34"
Module_HelpVersion      SETS    "1.34 (15 Nov 2002)"
@


4.12
log
@  Changed all of the makefile install rules.
Detail:
  All of the makefiles in this component will now use "do mkdir -p" rather
  than "cdir" to create directories and they create INSTDIR before doing
  the installation.
Admin:
  Builds and installs.

Version 1.33. Tagged as 'PDumpers-1_33'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.62.
d10 1
a10 2
                        GBLS    Module_ApplicationDate2
                        GBLS    Module_ApplicationDate4
d14 2
a15 2
Module_MajorVersion     SETS    "1.33"
Module_Version          SETA    133
d17 2
a18 3
Module_Date             SETS    "21 Feb 2002"
Module_ApplicationDate2 SETS    "21-Feb-02"
Module_ApplicationDate4 SETS    "21-Feb-2002"
d21 2
a22 2
Module_FullVersion      SETS    "1.33"
Module_HelpVersion      SETS    "1.33 (21 Feb 2002)"
@


4.11
log
@File missed from previous commit

Version 1.32. Tagged as 'PDumpers-1_32'
@
text
@d15 2
a16 2
Module_MajorVersion     SETS    "1.32"
Module_Version          SETA    132
d18 3
a20 3
Module_Date             SETS    "28 Jan 2002"
Module_ApplicationDate2 SETS    "28-Jan-02"
Module_ApplicationDate4 SETS    "28-Jan-2002"
d23 2
a24 2
Module_FullVersion      SETS    "1.32"
Module_HelpVersion      SETS    "1.32 (28 Jan 2002)"
@


4.10
log
@A gremlin had danced on the keyboard. Stray characters removed.

Version 1.31. Tagged as 'PDumpers-1_31'
@
text
@d15 2
a16 2
Module_MajorVersion     SETS    "1.31"
Module_Version          SETA    131
d18 3
a20 3
Module_Date             SETS    "25 Jan 2002"
Module_ApplicationDate2 SETS    "25-Jan-02"
Module_ApplicationDate4 SETS    "25-Jan-2002"
d23 2
a24 2
Module_FullVersion      SETS    "1.31"
Module_HelpVersion      SETS    "1.31 (25 Jan 2002)"
@


4.9
log
@Send 10K of zeroes at start of page
Detail:
USB interface to HP810C is broken. This fixes the problem. It will also help
parallel to recover from a partialy completed job.
Admin:
Fixes the USB printing problem from DSL4000

Version 1.30. Tagged as 'PDumpers-1_30'
@
text
@d15 2
a16 2
Module_MajorVersion     SETS    "1.30"
Module_Version          SETA    130
d23 2
a24 2
Module_FullVersion      SETS    "1.30"
Module_HelpVersion      SETS    "1.30 (25 Jan 2002)"
@


4.8
log
@Summarry:
Fix of bug #5159. (Interim)
Detail:
At the start of a print job, now checks for an outstanding OS_GBPB error. If there is, then the printer has probably been left with an incomplete raster line in its input buffer. The generic start page code will then send 64K of ASCII NULL to flush it.
PDumperLJ.s.StartPage now uses the generic code (whish was identical apart from a few debugging lines).
Admin:
Tested with HP 610C using the 550C driver.

Version 1.29. Tagged as 'PDumpers-1_29'
@
text
@d3 1
d15 2
a16 2
Module_MajorVersion     SETS    "1.29"
Module_Version          SETA    129
d18 3
a20 3
Module_Date             SETS    "18 Sep 2001"
Module_ApplicationDate2 SETS    "18-Sep-01"
Module_ApplicationDate4 SETS    "18-Sep-2001"
d23 2
a24 2
Module_FullVersion      SETS    "1.29"
Module_HelpVersion      SETS    "1.29 (18 Sep 2001)"
@


4.7
log
@  Fixed some stack imbalances that had gone undetected ... until we shipped
    the source code to third parties who actually tested it.
Admin:
  Probably ought to build correct code.


Version 1.27. Tagged as 'PDumpers-1_27'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.27"
Module_Version          SETA    127
d17 3
a19 3
Module_Date             SETS    "20 Jun 2001"
Module_ApplicationDate2 SETS    "20-Jun-01"
Module_ApplicationDate4 SETS    "20-Jun-2001"
d22 2
a23 2
Module_FullVersion      SETS    "1.27"
Module_HelpVersion      SETS    "1.27 (20 Jun 2001)"
@


4.6
log
@  Fixed Makefile to use the correct predefined macros for submakes.
Detail:
  It is now necessary to use ${MAKE} ${MFLAGS} ${MAKECMDGOALS}
    if you want ALL (except -f) the CLI parameters to be passed down.
Admin:
  Tested in manual build.


Version 1.26. Tagged as 'PDumpers-1_26'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.26"
Module_Version          SETA    126
d17 3
a19 3
Module_Date             SETS    "01 Jun 2001"
Module_ApplicationDate2 SETS    "01-Jun-01"
Module_ApplicationDate4 SETS    "01-Jun-2001"
d22 2
a23 2
Module_FullVersion      SETS    "1.26"
Module_HelpVersion      SETS    "1.26 (01 Jun 2001)"
@


4.5
log
@  Merge of Spinner branch.
Detail:
  All Makefiles now export the PDumper header.
Admin:
  Fixes from the spinner branch have been merged in.
  Should now build in the build system.

Version 1.25. Tagged as 'PDumpers-1_25'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.25"
Module_Version          SETA    125
d17 3
a19 3
Module_Date             SETS    "03 Jan 2001"
Module_ApplicationDate2 SETS    "03-Jan-01"
Module_ApplicationDate4 SETS    "03-Jan-2001"
d22 2
a23 2
Module_FullVersion      SETS    "1.25"
Module_HelpVersion      SETS    "1.25 (03 Jan 2001)"
@


4.4
log
@  32-bit fixes.
Detail:
  Some routines using EXITS needed R14 as a result register.
    These routines now work in 32-bit modes.
  Fixed ADR lr, unthread to be JumpAddress lr, unthread so that
    26-bit builds work when the routine jumped to uses EntryS.
Admin:
  Built 26-bit and 32-bit versions - untested,

Version 1.24. Tagged as 'PDumpers-1_24'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "1.24"
Module_Version          SETA    124
d17 3
a19 3
Module_Date             SETS    "26 Nov 2000"
Module_ApplicationDate2 SETS    "26-Nov-00"
Module_ApplicationDate4 SETS    "26-Nov-2000"
d22 2
a23 2
Module_FullVersion      SETS    "1.24"
Module_HelpVersion      SETS    "1.24 (26 Nov 2000)"
@


4.3
log
@  Fixed some macro problems.
Detail:
  One function was using R14 as a function result register, but R14 is corrupted
    by EXITS in 32-bit builds.  Some faffing around added to get around this.
  Some minor improvements to remove No32bitCode conditionals - the Generic26 and
    Generic32 macros can sort out the differences so this modules invokes those
    macros (CLRPSR, TOGPSRR, WritePSRc) instead.
  Fast service call table added (not the broken one on the Ursula branch)
Admin:
  Built, not tested.

Version 1.23. Tagged as 'PDumpers-1_23'
@
text
@d12 4
a15 2
Module_MajorVersion     SETS    "1.23"
Module_Version          SETA    123
d17 7
a23 5
Module_Date             SETS    "20 Oct 2000"
Module_ApplicationDate2 SETS    "20-Oct-00"
Module_ApplicationDate4 SETS    "20-Oct-2000"
Module_FullVersion      SETS    "1.23"
Module_HelpVersion      SETS    "1.23 (20 Oct 2000)"
@


4.2
log
@  32-bit fixes - some stack offsets were wrong.
Admin:
  Built 26-bit and 32-bit builds.
  Not tested.

Version 1.22. Tagged as 'PDumpers-1_22'
@
text
@d12 2
a13 2
Module_MajorVersion     SETS    "1.22"
Module_Version          SETA    122
d15 5
a19 5
Module_Date             SETS    "19 Oct 2000"
Module_ApplicationDate2 SETS    "19-Oct-00"
Module_ApplicationDate4 SETS    "19-Oct-2000"
Module_FullVersion      SETS    "1.22"
Module_HelpVersion      SETS    "1.22 (19 Oct 2000)"
@


4.1
log
@32-bit compatible.

Version 1.21. Tagged as 'PDumpers-1_21'
@
text
@d11 3
a13 2
Module_MajorVersion     SETS    "1.21"
Module_Version          SETA    121
d15 5
a19 4
Module_Date             SETS    "09 Jun 2000"
Module_ApplicationDate2 SETS    "09-Jun-00"
Module_ApplicationDate4 SETS    "09-Jun-2000"
Module_FullVersion      SETS    "1.21"
@

