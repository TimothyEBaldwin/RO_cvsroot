head	4.30;
access;
symbols
	Window-1_79:4.30
	Window-1_78:4.29
	Window-1_77:4.28
	Window-1_76:4.27
	Window-1_75:4.26
	Window-1_74:4.25
	Window-1_73:4.24
	Window-1_72:4.23
	Window-1_71:4.22
	RO_5_07:4.21
	Window-1_70:4.21
	Window-1_69:4.20
	Window-1_68:4.19
	Window-1_67:4.18
	Window-1_66:4.17
	Window-1_65:4.16
	Window-1_64:4.15
	Window-1_63:4.14
	Window-1_62:4.13
	Window-1_61:4.12
	Window-1_60:4.11
	Window-1_59:4.10
	mstphens_UrsulaRiscPCBuild_20Nov98:4.7
	sbrodie_Toolbox_Ursula_231198:4.9
	Window-1_58:4.9
	Ursula_RiscPC:4.7.0.4
	Window-1_57:4.8
	rthornb_UrsulaBuild-19Aug1998:4.7
	UrsulaBuild_FinalSoftload:4.7
	rthornb_UrsulaBuild-12Aug1998:4.7
	Ursula:4.7.0.2
	Ursula_bp:4.7
	aglover_UrsulaBuild-05Aug1998:4.6
	Window-1_56:4.7
	rthornb_UrsulaBuild-29Jul1998:4.6
	Window-1_55:4.6
	rthornb_UrsulaBuild-22Jul1998:4.5
	rthornb_UrsulaBuild-15Jul1998:4.5
	rthornb_UrsulaBuild-07Jul1998:4.4
	Window-1_54:4.5
	rthornb_UrsulaBuild-17Jun1998:4.4
	Window-1_53:4.4
	Window-1_52:4.3
	Window-1_51:4.2;
locks; strict;
comment	@# @;


4.30
date	2018.03.21.21.15.57;	author rsprowson;	state Exp;
branches;
next	4.29;
commitid	DdmkeShLu70MYmvA;

4.29
date	2016.06.18.08.25.12;	author rool;	state Exp;
branches;
next	4.28;
commitid	cVJoc7SfKQ4OjVaz;

4.28
date	2015.09.25.19.18.53;	author rsprowson;	state Exp;
branches;
next	4.27;
commitid	DH8FofxSzeP9wFCy;

4.27
date	2015.08.18.22.04.54;	author rsprowson;	state Exp;
branches;
next	4.26;
commitid	oMg9J5QqfRoPENxy;

4.26
date	2015.07.17.17.56.06;	author rsprowson;	state Exp;
branches;
next	4.25;
commitid	oYQsRGuYJ2igjFty;

4.25
date	2015.06.29.20.53.26;	author jlee;	state Exp;
branches;
next	4.24;
commitid	PogMIwyi4R9YRmry;

4.24
date	2012.06.26.23.30.16;	author jlee;	state Exp;
branches;
next	4.23;
commitid	i2e5p9hOQnaZ1haw;

4.23
date	2011.06.25.22.53.35;	author jlee;	state Exp;
branches;
next	4.22;
commitid	WcICoaGUIXZMC6pv;

4.22
date	2005.03.30.16.03.44;	author srevill;	state Exp;
branches;
next	4.21;

4.21
date	2003.06.03.10.50.33;	author rsprowson;	state Exp;
branches;
next	4.20;

4.20
date	2002.12.12.20.28.25;	author kbracey;	state Exp;
branches;
next	4.19;

4.19
date	2002.05.24.15.06.47;	author sbrodie;	state Exp;
branches;
next	4.18;

4.18
date	2002.03.21.13.52.42;	author srevill;	state Exp;
branches;
next	4.17;

4.17
date	2001.02.13.12.48.49;	author sbrodie;	state Exp;
branches;
next	4.16;

4.16
date	2000.06.22.09.24.14;	author jfletche;	state Exp;
branches;
next	4.15;

4.15
date	2000.05.05.12.03.19;	author sbrodie;	state Exp;
branches;
next	4.14;

4.14
date	2000.05.04.12.57.24;	author sbrodie;	state Exp;
branches;
next	4.13;

4.13
date	99.11.17.12.05.06;	author sbrodie;	state Exp;
branches;
next	4.12;

4.12
date	99.03.18.12.34.59;	author pwombwel;	state Exp;
branches;
next	4.11;

4.11
date	99.03.17.13.37.11;	author pwombwel;	state Exp;
branches;
next	4.10;

4.10
date	99.02.23.17.16.41;	author sbrodie;	state Exp;
branches;
next	4.9;

4.9
date	98.11.23.13.43.02;	author sbrodie;	state Exp;
branches;
next	4.8;

4.8
date	98.09.15.11.42.51;	author kbracey;	state Exp;
branches;
next	4.7;

4.7
date	98.08.03.14.08.22;	author sbrodie;	state Exp;
branches;
next	4.6;

4.6
date	98.07.24.17.15.48;	author sbrodie;	state Exp;
branches;
next	4.5;

4.5
date	98.06.25.12.23.04;	author sbrodie;	state Exp;
branches;
next	4.4;

4.4
date	98.06.16.12.41.33;	author sbrodie;	state Exp;
branches;
next	4.3;

4.3
date	98.06.11.15.26.46;	author sbrodie;	state Exp;
branches;
next	4.2;

4.2
date	98.06.11.11.53.29;	author sbrodie;	state Exp;
branches;
next	4.1;

4.1
date	98.06.08.14.32.25;	author sbrodie;	state Exp;
branches;
next	;


desc
@@


4.30
log
@Button_GetFlags method fixes
The gadget copy of the Wimp flags was not being correctly updated, should be
  newflags = (oldflags BIC clear_word) ^ eor_word
per analysis in ticket #442.
In passing, it was also noted that the eor_word was not being masked, meaning it would be possible to toggle the indirect icon flag - breaking the rules set out on the User Interface Toolbox manual for that gadget type.

button.c: Fix flags copy, and mask correctly. Trim some superfluous breaks.
draggable.c: Fix out of bounds array access, found by static analysis.

Version 1.79. Tagged as 'Window-1_79'
@
text
@/* (1.79)
 *
 * This file is automatically maintained by srccommit, do not edit manually.
 * Last processed by srccommit version: 1.1.
 *
 */
#define Module_MajorVersion_CMHG        1.79
#define Module_MinorVersion_CMHG        
#define Module_Date_CMHG                21 Mar 2018

#define Module_MajorVersion             "1.79"
#define Module_Version                  179
#define Module_MinorVersion             ""
#define Module_Date                     "21 Mar 2018"

#define Module_ApplicationDate          "21-Mar-18"

#define Module_ComponentName            "Window"
#define Module_ComponentPath            "castle/RiscOS/Sources/Toolbox/Window"

#define Module_FullVersion              "1.79"
#define Module_HelpVersion              "1.79 (21 Mar 2018)"
#define Module_LibraryVersionInfo       "1:79"
@


4.29
log
@Have object modules use same message style
Admin:
  Converge on "ObjModName has active tasks.". This allows only 1 section describing the errors in the User Guide.

Version 1.78. Tagged as 'Window-1_78'
@
text
@d1 1
a1 1
/* (1.78)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.78
d9 1
a9 1
#define Module_Date_CMHG                18 Jun 2016
d11 2
a12 2
#define Module_MajorVersion             "1.78"
#define Module_Version                  178
d14 1
a14 1
#define Module_Date                     "18 Jun 2016"
d16 1
a16 1
#define Module_ApplicationDate          "18-Jun-16"
d21 3
a23 3
#define Module_FullVersion              "1.78"
#define Module_HelpVersion              "1.78 (18 Jun 2016)"
#define Module_LibraryVersionInfo       "1:78"
@


4.28
log
@Fix for uninitialised buffer length causing missing popup menu icon
The popupmenu gadget code was setting the indirected text to "" but not setting the buffer length field. In 32 bit builds this appears to result in an old stacked PSR (&60000013) being used. Fortunately, the Window Manager (Wimp04.s, revision 4.45, line 383) only checks the field is non zero before proceeding to decide how to draw the icon, but on a RAM loading copy the field often ends up being zero.
Also corrected the labelbox and slider gadgets. While these were being initialised they were being set to zero, when an indirected empty string should be 1 (the length of the terminator).

Spotted by Howard Dawson on Usenet, see c.s.a.programmer "Missing Popup Menus under RO 4.02" 13-Sep-2015.
Tested by forcefully loading the Window module on RISC OS 4.02 then running !ResEd, now the popup menus have icons.

Version 1.77. Tagged as 'Window-1_77'
@
text
@d1 1
a1 1
/* (1.77)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.77
d9 1
a9 1
#define Module_Date_CMHG                25 Sep 2015
d11 2
a12 2
#define Module_MajorVersion             "1.77"
#define Module_Version                  177
d14 1
a14 1
#define Module_Date                     "25 Sep 2015"
d16 1
a16 1
#define Module_ApplicationDate          "25-Sep-15"
d21 3
a23 3
#define Module_FullVersion              "1.77"
#define Module_HelpVersion              "1.77 (25 Sep 2015)"
#define Module_LibraryVersionInfo       "1:77"
@


4.27
log
@Makefile recreated from fragments
Include paths changed to Unix style.
Debug and non debug CMHG definitions replaced by one which is selected by passing predefines to CMHG.
Removed dummy services.h.
Don't bother calling TinyStubs SWI since in ROM it does nothing, and the RAM versions haven't used it since ~1997.
Use module header constants generated from CMHG rather than hand made one.
Reject out of range SWIs (fixes ticket #305).
Dependencies cleaned from tests.

Version 1.76. Tagged as 'Window-1_76'
@
text
@d1 1
a1 1
/* (1.76)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.76
d9 1
a9 1
#define Module_Date_CMHG                18 Aug 2015
d11 2
a12 2
#define Module_MajorVersion             "1.76"
#define Module_Version                  176
d14 1
a14 1
#define Module_Date                     "18 Aug 2015"
d16 1
a16 1
#define Module_ApplicationDate          "18-Aug-15"
d21 3
a23 3
#define Module_FullVersion              "1.76"
#define Module_HelpVersion              "1.76 (18 Aug 2015)"
#define Module_LibraryVersionInfo       "1:76"
@


4.26
log
@Fix for NULL pointer dereference
draggable.c: fixes problem when dragging a file icon, eg. the hosts file in !InetSetup.

Version 1.75. Tagged as 'Window-1_75'
@
text
@d1 1
a1 1
/* (1.75)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.75
d9 1
a9 1
#define Module_Date_CMHG                17 Jul 2015
d11 2
a12 2
#define Module_MajorVersion             "1.75"
#define Module_Version                  175
d14 1
a14 1
#define Module_Date                     "17 Jul 2015"
d16 1
a16 1
#define Module_ApplicationDate          "17-Jul-15"
d21 3
a23 3
#define Module_FullVersion              "1.75"
#define Module_HelpVersion              "1.75 (17 Jul 2015)"
#define Module_LibraryVersionInfo       "1:75"
@


4.25
log
@Fix null pointer dereference
Detail:
  c/gadgets - Fix null pointer dereference in dispatch_external(). Also, use error number #define instead of magic number.
Admin:
  Tested on Iyonix with zero page relocation


Version 1.74. Tagged as 'Window-1_74'
@
text
@d1 1
a1 1
/* (1.74)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.74
d9 1
a9 1
#define Module_Date_CMHG                29 Jun 2015
d11 2
a12 2
#define Module_MajorVersion             "1.74"
#define Module_Version                  174
d14 1
a14 1
#define Module_Date                     "29 Jun 2015"
d16 1
a16 1
#define Module_ApplicationDate          "29-Jun-15"
d21 3
a23 3
#define Module_FullVersion              "1.74"
#define Module_HelpVersion              "1.74 (29 Jun 2015)"
#define Module_LibraryVersionInfo       "1:74"
@


4.24
log
@Fix null pointer dereferences in gadget_method()
Detail:
  c/gadgets - We now check if r5 is null before reading or writing to it, instead of only checking before the write
Admin:
  Tested on Raspberry Pi with high processor vectors


Version 1.73. Tagged as 'Window-1_73'
@
text
@d1 1
a1 1
/* (1.73)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.73
d9 1
a9 1
#define Module_Date_CMHG                27 Jun 2012
d11 2
a12 2
#define Module_MajorVersion             "1.73"
#define Module_Version                  173
d14 1
a14 1
#define Module_Date                     "27 Jun 2012"
d16 1
a16 1
#define Module_ApplicationDate          "27-Jun-12"
d21 3
a23 3
#define Module_FullVersion              "1.73"
#define Module_HelpVersion              "1.73 (27 Jun 2012)"
#define Module_LibraryVersionInfo       "1:73"
@


4.23
log
@Fix wimp_EPTR_ENTER handler to not pass bad sprite area pointers to OS_SpriteOp
Detail:
  c/events - events_pointer_over_window now checks if the sprite area pointer is the magic value of '1' (indicating to use the Wimp sprite pool) before attempting to use the pointer with OS_SpriteOp.
Admin:
  Tested on rev A2 BBxM.
  Fixes issue reported on forums where assigning a custom pointer shape to a window will cause an alignment fault on ARMv7:
  http://www.riscosopen.org/forum/forums/4/topics/680


Version 1.72. Tagged as 'Window-1_72'
@
text
@d1 1
a1 1
/* (1.72)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.72
d9 1
a9 1
#define Module_Date_CMHG                25 Jun 2011
d11 2
a12 2
#define Module_MajorVersion             "1.72"
#define Module_Version                  172
d14 1
a14 1
#define Module_Date                     "25 Jun 2011"
d16 1
a16 1
#define Module_ApplicationDate          "25-Jun-11"
d21 3
a23 3
#define Module_FullVersion              "1.72"
#define Module_HelpVersion              "1.72 (25 Jun 2011)"
#define Module_LibraryVersionInfo       "1:72"
@


4.22
log
@  Fix for new compiler
Detail:
  Obsolete #include of strings.h changed to string.h as this is
  now faulted by the latest cc.
Admin:
  To be tested in STB ROM build

Version 1.71. Tagged as 'Window-1_71'
@
text
@d1 1
a1 1
/* (1.71)
d4 1
a4 1
 * Last processed by srccommit version: 1.2.
d7 3
a9 3
#define Module_MajorVersion_CMHG        1.71
#define Module_MinorVersion_CMHG
#define Module_Date_CMHG                30 Mar 2005
d11 2
a12 2
#define Module_MajorVersion             "1.71"
#define Module_Version                  171
d14 1
a14 1
#define Module_Date                     "30 Mar 2005"
d16 1
a16 1
#define Module_ApplicationDate          "30-Mar-05"
d19 1
a19 1
#define Module_ComponentPath            "RiscOS/Sources/Toolbox/Window"
d21 3
a23 3
#define Module_FullVersion              "1.71"
#define Module_HelpVersion              "1.71 (30 Mar 2005)"
#define Module_LibraryVersionInfo       "1:71"
@


4.21
log
@Merge change (singular!) from 4.02 sources.
StringSet_GetComponent was returning the menu_id not the popup.

Version 1.70. Tagged as 'Window-1_70'
@
text
@d1 1
a1 1
/* (1.70)
d4 1
a4 1
 * Last processed by srccommit version: 1.68.
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.70
d9 1
a9 1
#define Module_Date_CMHG                03 Jun 2003
d11 2
a12 2
#define Module_MajorVersion             "1.70"
#define Module_Version                  170
d14 1
a14 1
#define Module_Date                     "03 Jun 2003"
d16 1
a16 1
#define Module_ApplicationDate          "03-Jun-03"
d21 3
a23 3
#define Module_FullVersion              "1.70"
#define Module_HelpVersion              "1.70 (03 Jun 2003)"
#define Module_LibraryVersionInfo       "1:70"
@


4.20
log
@Fixes to sizes of event blocks.
Now the Toolbox module only memcpy's what ou asked for it helps if
you ask for the right amount!
This manifested itself in lots of missing event_raise messages when
for example adjusters were pressed leading to false bug reports of
other apps which included adjuster icons.

Version 1.69. Tagged as 'Window-1_69'
@
text
@d1 1
a1 1
/* (1.69)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.69
d9 1
a9 1
#define Module_Date_CMHG                12 Dec 2002
d11 2
a12 2
#define Module_MajorVersion             "1.69"
#define Module_Version                  169
d14 1
a14 1
#define Module_Date                     "12 Dec 2002"
d16 1
a16 1
#define Module_ApplicationDate          "12-Dec-02"
d21 3
a23 3
#define Module_FullVersion              "1.69"
#define Module_HelpVersion              "1.69 (12 Dec 2002)"
#define Module_LibraryVersionInfo       "1:69"
@


4.19
log
@  Now compatible with new C compiler.
Detail:
  Implicit ints removed, empty initialisers fixed.
  An attempt has been made to fix the slider overflow problem by using 64-bit
    maths to calculate the value.
Admin:
  If built with cc 5.45 or later, this component requires the new C library
    with the long long support functions in it.
  Slider not tested at all, but the module builds.
  If the slider code works, this fixes bugzilla bug #7721


Version 1.68. Tagged as 'Window-1_68'
@
text
@d1 1
a1 1
/* (1.68)
d4 1
a4 1
 * Last processed by srccommit version: 1.64.
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.68
d9 1
a9 1
#define Module_Date_CMHG                24 May 2002
d11 2
a12 2
#define Module_MajorVersion             "1.68"
#define Module_Version                  168
d14 1
a14 1
#define Module_Date                     "24 May 2002"
d16 1
a16 2
#define Module_ApplicationDate2         "24-May-02"
#define Module_ApplicationDate4         "24-May-2002"
d21 3
a23 3
#define Module_FullVersion              "1.68"
#define Module_HelpVersion              "1.68 (24 May 2002)"
#define Module_LibraryVersionInfo       "1:68"
@


4.18
log
@Fixed all of the !Mk... files so that they pass TARGET (they don't work
otherwise).

Version 1.67. Tagged as 'Window-1_67'
@
text
@d1 1
a1 1
/* (1.67)
d4 1
a4 1
 * Last processed by srccommit version: 1.62.
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.67
d9 1
a9 1
#define Module_Date_CMHG                21 Mar 2002
d11 2
a12 2
#define Module_MajorVersion             "1.67"
#define Module_Version                  167
d14 1
a14 1
#define Module_Date                     "21 Mar 2002"
d16 2
a17 2
#define Module_ApplicationDate2         "21-Mar-02"
#define Module_ApplicationDate4         "21-Mar-2002"
d22 3
a24 3
#define Module_FullVersion              "1.67"
#define Module_HelpVersion              "1.67 (21 Mar 2002)"
#define Module_LibraryVersionInfo       "1:67"
@


4.17
log
@  set_stringset_available could cause mayhem and destruction if the
    string length to be set exceeded the length of the buffer in the
    gadget.
Detail:
  Conveniently, the stringset_internal data structure didn't contain
    a note of the buffer length and variously assumed it to be:
    a) at least 64 characters long.
    b) long enough
    These assumptions are no longer present and should avoid problems.
Admin:
  Fixed bugzilla bug #43
  Tested.

Version 1.66. Tagged as 'Window-1_66'
@
text
@d1 1
a1 1
/* (1.66)
d4 1
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.66
d9 1
a9 1
#define Module_Date_CMHG                13 Feb 2001
d11 2
a12 2
#define Module_MajorVersion             "1.66"
#define Module_Version                  166
d14 1
a14 1
#define Module_Date                     "13 Feb 2001"
d16 2
a17 2
#define Module_ApplicationDate2         "13-Feb-01"
#define Module_ApplicationDate4         "13-Feb-2001"
d22 3
a24 2
#define Module_FullVersion              "1.66"
#define Module_HelpVersion              "1.66 (13 Feb 2001)"
@


4.16
log
@  Fix for toolbox reclaiming font handles after gadgets deleted and
  redraws occur, or application quits.
Detail:
  * When gadgets were deleted, their fonts were released correctly, but
    the font index was not decremented. When redraws occurred,
    Wimp_WhichIcon is used to identify fonts with particular handles and
    reallocate them, but did not ignore deleted icons. Consequently,
    after a gadget with a font is deleted, and the screen redrawn (or the
    application quit) the font previously used will be re-claimed. This
    has been fixed.
  * If allocation of memory failed at certain points, font handles could
    fail to be released correctly. This has been fixed.
  * On mode change, failure to select a new resolution of font would leave
    an icon with an invalid handle. Should now revert the font to system.
    Not ideal, but better than using invalid handles and corrupting
    memory or crashing because of an invalid font index.
  * Font names passed to set_font with top bit set would have been treated
    as implicit font handles (int, rather than unsigned int used in
    comparisson). Fixed.
Admin:
  * Tested with experimental code to trigger the fault.
  * Fixes fault 1798.
  * Wimp_WhichIcon is used to find icons with particular font handles.
    The buffer has enough space for 64 icons. Using more than that will
    corrupt SVC stack. Wimp_WhichIcon should have a way of specifying a
    buffer size, so that overflows can at least be identified, but does
    not at present.

Version 1.65. Tagged as 'Window-1_65'
@
text
@d1 1
a1 1
/* (1.65)
d6 1
a6 1
#define Module_MajorVersion_CMHG        1.65
d8 1
a8 1
#define Module_Date_CMHG                22 Jun 2000
d10 2
a11 2
#define Module_MajorVersion             "1.65"
#define Module_Version                  165
d13 1
a13 1
#define Module_Date                     "22 Jun 2000"
d15 2
a16 2
#define Module_ApplicationDate2         "22-Jun-00"
#define Module_ApplicationDate4         "22-Jun-2000"
d18 5
a22 1
#define Module_FullVersion              "1.65"
@


4.15
log
@  Added WIMPLIB to the ROM object list.
Detail:
  This got lost on the previous checkin.
Admin:
  Requires Common 0.10 to avoid link errors.

Version 1.64. Tagged as 'Window-1_64'
@
text
@d1 1
a1 1
/* (1.64)
d6 1
a6 1
#define Module_MajorVersion_CMHG        1.64
d8 1
a8 1
#define Module_Date_CMHG                05 May 2000
d10 2
a11 2
#define Module_MajorVersion             "1.64"
#define Module_Version                  164
d13 1
a13 1
#define Module_Date                     "05 May 2000"
d15 4
a18 1
#define Module_FullVersion              "1.64"
@


4.14
log
@  Changed to use common Makefile system.
  Debug build facility added.
Detail:
  Uses core facilities from Common instead of having private copies.
  Makefile vastly simplified to simply define a few macros, then include
    the common Toolbox Makefile which is exported by Common.
Admin:
  Requires Common 0.09 or later (RiscOS/Sources/Toolbox/Common; Common-0_09)
  Requires BuildSys 1.92 or later (RiscOS/BuildSys; BuildSys-1_92)
  Requires Library 0.41 or later (RiscOS/Library; Library-0_41)

Version 1.63. Tagged as 'Window-1_63'
@
text
@d1 1
a1 1
/* (1.63)
d6 1
a6 1
#define Module_MajorVersion_CMHG        1.63
d8 1
a8 1
#define Module_Date_CMHG                04 May 2000
d10 2
a11 2
#define Module_MajorVersion             "1.63"
#define Module_Version                  163
d13 1
a13 1
#define Module_Date                     "04 May 2000"
d15 1
a15 1
#define Module_FullVersion              "1.63"
@


4.13
log
@  32-bit build capability added.
  Magic numbers imported from header files.
  APIs fixed.
Detail:
  Assembler fixed to use {CONFIG} to determine which variant of
    APCS it is supposed to be using.
  Symbols imported from Hdr: for service calls and SWI names.
  Added MOVVC a1,#0 statements for SWI veneers which are declared in
    the C headers as returning _kernel_oserror * - comments indicated
    that this wasn't done before because the return values were not
    used.  Headers & code are now consistent.
Admin:
  Requires Common 0.06 (RiscOS/Sources/Toolbox/Common)
  Requires HdrSrc 0.61 (RiscOS/Sources/Programmer/HdrSrc)

Version 1.62. Tagged as 'Window-1_62'
@
text
@d1 1
a1 1
/* (1.62)
d6 3
a8 3
#define Module_MajorVersion_CMHG     	1.62
#define Module_MinorVersion_CMHG
#define Module_Date_CMHG      		17 Nov 1999
d10 4
a13 4
#define Module_MajorVersion     	"1.62"
#define Module_Version                  162
#define Module_MinorVersion		""
#define Module_Date      		"17 Nov 1999"
d15 1
a15 1
#define Module_FullVersion              "1.62"
@


4.12
log
@Fix for 1.60, to stop a crash when you get a key event not associated with
an icon.

Version 1.61. Tagged as 'Window-1_61'
@
text
@d1 1
a1 1
/* (1.61)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.61
d8 1
a8 1
#define Module_Date_CMHG      		18 Mar 1999
d10 2
a11 2
#define Module_MajorVersion     	"1.61"
#define Module_Version                  161
d13 1
a13 1
#define Module_Date      		"18 Mar 1999"
d15 1
@


4.11
log
@Requires new Common, version 0.04
Now allows ActionButtons to gain input focus and not become writable.
Sounds vile, but hey, Java needs it, and I aim to please.
The id_block is now correctly updated on a Wimp_KeyPressed event to
include the component_id.

Version 1.60. Tagged as 'Window-1_60'
@
text
@d1 1
a1 1
/* (1.60)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.60
d8 1
a8 1
#define Module_Date_CMHG      		17 Mar 1999
d10 2
a11 2
#define Module_MajorVersion     	"1.60"
#define Module_Version                  160
d13 1
a13 1
#define Module_Date      		"17 Mar 1999"
@


4.10
log
@  Passes style setting from components file through to compiler to enable
    style selections to be made.
  No code changes.
Admin:
  Requires RiscOS/Sources/Toolbox/Common with tag Common-0_03 or later.

Version 1.59. Tagged as 'Window-1_59'
@
text
@d1 1
a1 1
/* (1.59)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.59
d8 1
a8 1
#define Module_Date_CMHG      		23 Feb 1999
d10 2
a11 2
#define Module_MajorVersion     	"1.59"
#define Module_Version                  159
d13 1
a13 1
#define Module_Date      		"23 Feb 1999"
@


4.9
log
@  Setting gadget help messages now works on composite gadgets.
Detail:
  Gadget_SetHelpMessage methods issued to the Window module weren't being
  propagated down to sub-gadgets comprising a composite gadget.  Hence the
  new help message was never being shown.  New gadgets should be prepared to
  receive this method code through their private method handlers.  Existing
  gadgets will be OK so long as they reject unknown methods with no error OR
  with Window_NoSuchMiscOpMethod (which all the internal gadgets do).
Admin:
  Built and tested.  Attempted to set help texts on normal, external
  and composite gadgets, and they all worked as expected.

Version 1.58. Tagged as 'Window-1_58'
@
text
@d1 1
a1 1
/* (1.58)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.58
d8 1
a8 1
#define Module_Date_CMHG      		23 Nov 1998
d10 2
a11 2
#define Module_MajorVersion     	"1.58"
#define Module_Version                  158
d13 1
a13 1
#define Module_Date      		"23 Nov 1998"
@


4.8
log
@Modified to use LocalRes$Path and Link 5.08.

Version 1.57. Tagged as 'Window-1_57'
@
text
@d1 1
a1 1
/* (1.57)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.57
d8 1
a8 1
#define Module_Date_CMHG      		15 Sep 1998
d10 2
a11 2
#define Module_MajorVersion     	"1.57"
#define Module_Version                  157
d13 1
a13 1
#define Module_Date      		"15 Sep 1998"
@


4.7
log
@* NumberRange gadget is now capable of reading the value string from its
  writeable sub-gadget more accurately.  No attempt has been made in this
  change to address the already existing issue of overflows during
  calculation.  Behavioural changes are listed below. Previous behaviour
  in all listed cases was to return an indeterminate value (value of an
  uninitialised local variable!).
*
* Writeable   Now evaluates to:
*   .5      ->   0.5
*   -.25    ->   -0.25
*           ->   0
*   .       ->   0
*   -       ->   0
*   .1.     ->   0.1
*   -1-     ->   -1
* Also fixed is the precision evaluation code which used to look for '.'
  as the decimal point character instead of using the DecimalPoint
  variable which is already set up as the current decimal point character
  from the configured territory manager table.

Version 1.56. Tagged as 'Window-1_56'
@
text
@d1 1
a1 1
/* (1.56)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.56
d8 1
a8 1
#define Module_Date_CMHG      		03 Aug 1998
d10 2
a11 2
#define Module_MajorVersion     	"1.56"
#define Module_Version                  156
d13 1
a13 1
#define Module_Date      		"03 Aug 1998"
@


4.6
log
@Labelled box gadgets didn't move/resize correctly.  This is now fixed.
Couple of -I paths corrected in Makefile too.

Version 1.55. Tagged as 'Window-1_55'
@
text
@d1 1
a1 1
/* (1.55)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.55
d8 1
a8 1
#define Module_Date_CMHG      		24 Jul 1998
d10 2
a11 2
#define Module_MajorVersion     	"1.55"
#define Module_Version                  155
d13 1
a13 1
#define Module_Date      		"24 Jul 1998"
@


4.5
log
@Radio button gadgets didn't cope with being given empty label field,
hence attempted various pieces of memory copying through null pointers
and memory allocation/deallocation of zero lengths blocks.  Its
handling of its text buffer has been altered to bring it into line with
the way all the other built-in gadgets handle their label buffers -
which works.

Version 1.54. Tagged as 'Window-1_54'
@
text
@d1 1
a1 1
/* (1.54)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.54
d8 1
a8 1
#define Module_Date_CMHG      		25 Jun 1998
d10 2
a11 2
#define Module_MajorVersion     	"1.54"
#define Module_Version                  154
d13 1
a13 1
#define Module_Date      		"25 Jun 1998"
@


4.4
log
@Alteration made to handling of SWI Window_PlotGadget so that errors
generated by external gadget modules are detected correctly and the
bounding box of the gadget isn't drawn in addition to the gadget.
Change does not affect gadget modules' API to Window.  Fail-safe
behaviour of drawing the bounding box if Window is not sure whether the
plot call succeeded is retained.

Version 1.53. Tagged as 'Window-1_53'
@
text
@d1 1
a1 1
/* (1.53)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.53
d8 1
a8 1
#define Module_Date_CMHG      		16 Jun 1998
d10 2
a11 2
#define Module_MajorVersion     	"1.53"
#define Module_Version                  153
d13 1
a13 1
#define Module_Date      		"16 Jun 1998"
@


4.3
log
@I missed one call to _hide_raise_hidden which resulted in problems with
non-transient windows, which strangely decided to hang on until 1.51 was
committed before revealing themselves.  These are now fixed.

Version 1.52. Tagged as 'Window-1_52'
@
text
@d1 1
a1 1
/* (1.52)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.52
d8 1
a8 1
#define Module_Date_CMHG      		11 Jun 1998
d10 2
a11 2
#define Module_MajorVersion     	"1.52"
#define Module_Version                  152
d13 1
a13 1
#define Module_Date      		"11 Jun 1998"
@


4.2
log
@Event ordering for transient submenu objects fixed (SNB-U002).
Module now uses srccommit to maintain its version number

Version 1.51. Tagged as 'Window-1_51'
@
text
@d1 1
a1 1
/* (1.51)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.51
d10 2
a11 2
#define Module_MajorVersion     	"1.51"
#define Module_Version                  151
@


4.1
log
@created by srccommit.
@
text
@d1 1
a1 1
/* (1.50)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	1.50
d8 1
a8 1
#define Module_Date_CMHG      		08 Jun 1998
d10 2
a11 2
#define Module_MajorVersion     	"1.50"
#define Module_Version                  150
d13 1
a13 1
#define Module_Date      		"08 Jun 1998"
@
