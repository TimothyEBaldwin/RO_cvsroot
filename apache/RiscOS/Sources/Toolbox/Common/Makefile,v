head	4.19;
access;
symbols
	Common-0_26-1:4.19
	Common-0_26:4.19
	Common-0_25:4.19
	Common-0_24:4.19
	Common-0_23:4.18
	Common-0_22:4.18
	Common-0_21:4.18
	Common-0_20:4.18
	Common-0_19:4.18
	Common-0_18:4.18
	Common-0_17:4.17
	Common-0_16:4.16
	Common-0_15:4.16
	Common-0_14:4.16
	RO_5_07:4.15
	Common-0_13:4.15
	Common-0_12:4.15
	dellis_autobuild_BaseSW:4.15
	Common-0_11:4.15
	Common-0_10:4.14
	Common-0_09:4.14
	Common-0_08:4.13
	sbrodie_sedwards_16Mar2000:4.12
	Common-0_07:4.12
	Common-0_06:4.12
	Common-0_05:4.12
	dcotton_autobuild_BaseSW:4.15
	Common-0_04:4.11
	Common-0_03:4.11
	Common-0_02:4.11
	Common-0_01:4.11
	mstphens_UrsulaRiscPCBuild_20Nov98:4.11
	sbrodie_Toolbox_Ursula_231198:4.11
	Ursula_RiscPC:4.11.0.4
	nicke_TBox_Common_20-9-98:4.11
	rthornb_UrsulaBuild-19Aug1998:4.11
	UrsulaBuild_FinalSoftload:4.11
	rthornb_UrsulaBuild-12Aug1998:4.11
	aglover_UrsulaBuild-05Aug1998:4.11
	rthornb_UrsulaBuild-29Jul1998:4.11
	rthornb_UrsulaBuild-22Jul1998:4.11
	rthornb_UrsulaBuild-15Jul1998:4.11
	rthornb_UrsulaBuild-07Jul1998:4.11
	rthornb_UrsulaBuild-17Jun1998:4.11
	sbrodie_commonlib_110698:4.11
	rthornb_UrsulaBuild-03Jun1998:4.11
	rthornb_UrsulaBuild-27May1998:4.11
	rthornb_UrsulaBuild-21May1998:4.11
	Ursula_bp:4.11
	Ursula:4.11.0.2
	Ursula_12May1998:4.9.0.4
	rthornb_UrsulaBuild_01May1998:4.9.4.1
	afrost_NC2_Generic:4.1.7.3
	Daytona:4.9.0.2
	Daytona_bp:4.9
	sbrodie_Expresso_final_190298:4.11
	sbrodie_Toolbox_Common_120298:4.11
	sbrodie_Expresso_BETA6_19980204:4.11
	Spinner_RCA116:4.1.7.2
	Spinner_B20_2:4.1.7.2
	Spinner_19_3:4.1.7.2
	Spinner_B18:4.1.7.2
	Spinner_B17:4.1.7.2
	Spin_merge_8Jul97:4.1.7.2
	Ursula_bp_8Jul97:4.6
	Spinner_B15:4.1.7.2
	Spinner_B14:4.1.7.2
	Spinner_B13:4.1.7.2
	Spinner_B12:4.1.7.2
	Spinner_B10:4.1.7.2
	Spin_merge_13May97:4.1.7.1
	Spinner_B7:4.1.7.2
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.2
	RCA_bp:4.4
	ARTtmp:4.1.7.1.0.2
	RCA:4.4.0.4
	Spin_merge:4.1.7.3
	MergeFiles:4.1.7.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7;
locks; strict;
comment	@# @;


4.19
date	2015.08.18.20.58.28;	author rsprowson;	state Exp;
branches;
next	4.18;
commitid	1IkG9MPiJd73iNxy;

4.18
date	2012.02.04.12.10.20;	author rsprowson;	state Exp;
branches;
next	4.17;
commitid	WqeTO8mdL7JHRPRv;

4.17
date	2012.01.14.23.03.42;	author srevill;	state Exp;
branches;
next	4.16;
commitid	pziX0qwbDSPH9cPv;

4.16
date	2008.10.07.01.17.48;	author srevill;	state Exp;
branches;
next	4.15;

4.15
date	2000.05.11.08.59.04;	author sbrodie;	state Exp;
branches;
next	4.14;

4.14
date	2000.05.04.12.14.52;	author sbrodie;	state Exp;
branches;
next	4.13;

4.13
date	2000.04.17.14.57.07;	author sbrodie;	state Exp;
branches;
next	4.12;

4.12
date	99.11.16.17.02.05;	author sbrodie;	state Exp;
branches;
next	4.11;

4.11
date	98.02.04.19.47.19;	author sbrodie;	state Exp;
branches;
next	4.10;

4.10
date	97.12.12.10.13.55;	author sbrodie;	state Exp;
branches;
next	4.9;

4.9
date	97.10.13.12.04.08;	author rbuckley;	state Exp;
branches
	4.9.4.1;
next	4.8;

4.8
date	97.10.09.14.57.02;	author rbuckley;	state Exp;
branches;
next	4.7;

4.7
date	97.07.08.10.12.35;	author kbracey;	state Exp;
branches;
next	4.6;

4.6
date	97.05.13.19.14.47;	author kbracey;	state Exp;
branches
	4.6.2.1;
next	4.5;

4.5
date	97.05.13.09.11.27;	author kbracey;	state Exp;
branches;
next	4.4;

4.4
date	97.01.30.10.42.13;	author nturton;	state Exp;
branches;
next	4.3;

4.3
date	97.01.27.17.12.54;	author nturton;	state Exp;
branches;
next	4.2;

4.2
date	97.01.27.14.52.37;	author nturton;	state Exp;
branches;
next	4.1;

4.1
date	96.11.29.19.34.50;	author nturton;	state Exp;
branches
	4.1.7.1;
next	;

4.9.4.1
date	98.03.26.14.32.32;	author rthornb;	state Exp;
branches;
next	;

4.6.2.1
date	97.05.19.15.52.31;	author kbracey;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.19.34.50;	author nturton;	state Exp;
branches;
next	4.1.7.2;

4.1.7.2
date	97.03.19.20.27.58;	author kbracey;	state Exp;
branches;
next	4.1.7.3;

4.1.7.3
date	97.06.24.17.41.20;	author rbuckley;	state Exp;
branches;
next	;


desc
@@


4.19
log
@Minor header file adjustments
Everything TboxMake did can now be done with the makefiles in BuildSys.
Header file services.h was just a proxy for Global/Services.h.
style.h:
  Corrections to constants from the Style Guide. These two values are unused, so mainly academic.
messages.c/objmodule.c/string32.c:
  Unused services.h removed.

Version 0.24. Tagged as 'Common-0_24'
@
text
@# Copyright 1996 Acorn Computers Ltd
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Makefile for tboxlib and debuglib
#
# ***********************************
# ***    C h a n g e   L i s t    ***
# ***********************************
# Date       Name         Description
# ----       ----         -----------
# 09 Oct 1997  RWB        Tidied up old Toolbox.Common build
#

#
# Paths
#
LIBDIR  = <Lib$Dir>
EXP_HDR = <export$dir>

#
# Generic options:
#
MKDIR   = do mkdir -p
AS      = objasm
CC      = cc
CMHG    = cmhg
CP      = copy
LD      = link
RM      = remove
WIPE    = -wipe
XWIPE   = x wipe
CD      = dir
LIBFILE = libfile

CFLAGS   = -c -depend !Depend -Wap -zps0 ${INCLUDES} -ffah ${DFLAGS}
CFLAGSZM = -c -depend !Depend -Wap -zps1 ${INCLUDES} -ffah ${DFLAGS} -zM
CPFLAGS  = ~cfr~v
WFLAGS   = ~c~v
LIBFILEFLAGS = -c -o $@@

CCZM=           ${CC} ${CFLAGSZM}

#
# Libraries
#
CLIB            = CLIB:o.stubs
RLIB            = RISCOSLIB:o.risc_oslib
RSTUBS          = RISCOSLIB:o.rstubs
ROMSTUBS        = RISCOSLIB:o.romstubs
ROMCSTUBS       = RISCOSLIB:o.romcstubs
ABSSYM          = RISC_OSLib:o.AbsSym
#
# Include files
#
INCLUDES        = -IC:,<Lib$Dir>.tboxlibint.
DFLAGS          =

# Program specific options:
#
TBOXLIB   = tboxlib
TBOXLIBZM = tboxlibm
DEBUGLIB  = debuglib
DEBUGLIBZM = debuglibm

EXPORTS     = ${LIBDIR}.tboxlibint

OBJ      = o.mem o.messages o.string32 o.rmensure o.objmodule o.objsupport o.slist o.toolboxmem
OBJZM    = z.mem z.messages z.string32 z.rmensure z.objmodule z.objsupport z.slist z.toolboxmem

DBG_OBJ   = o.debug
DBG_OBJZM = z.debug

#
# Rule patterns
#
.SUFFIXES: .z .o .c .s
.c.o:;      ${CC} ${CFLAGS} -o $@@ $<
.c.z:;      ${CCZM} -c -o $@@ $<
.s.o:;      ${AS} ${ASFLAGS} -o $@@ $<
.s.z:;      ${AS} ${ASFLAGS} -o $@@ $<

#
# Build
#

${TBOXLIB}: ${OBJ}
   ${LIBFILE} ${LIBFILEFLAGS} ${OBJ}

${TBOXLIBZM}: ${OBJZM}
   ${LIBFILE} ${LIBFILEFLAGS} ${OBJZM}

${DEBUGLIB}: ${OBJ} ${DBG_OBJ}
   ${LIBFILE} ${LIBFILEFLAGS} ${OBJ} ${DBG_OBJ}

${DEBUGLIBZM}: ${OBJZM} ${DBG_OBJZM}
   ${LIBFILE} ${LIBFILEFLAGS} ${OBJZM} ${DBG_OBJZM}

clean: dirs
        ${XWIPE} o.* ${WFLAGS}
        ${XWIPE} z.* ${WFLAGS}
        ${XWIPE} ${DEBUGLIB} ${WFLAGS}
        ${XWIPE} ${DEBUGLIBZM} ${WFLAGS}
        ${XWIPE} ${TBOXLIB} ${WFLAGS}
        ${XWIPE} ${TBOXLIBZM} ${WFLAGS}
        @@echo ${DEBUGLIB} and ${TBOXLIB}: cleaned

export: export_${PHASE}

export_hdrs: dirs
        ${CP} objects   ${EXPORTS}.objects   ${CPFLAGS}
        ${CP} h.*       ${EXPORTS}.h.*   ${CPFLAGS}
        ${CP} hdr.*     ${EXP_HDR}.*    ${CPFLAGS}
        ${CP} VersionNum ${EXPORTS}.LibVersion ${CPFLAGS}
        @@echo ${DEBUGLIB} and ${TBOXLIB}: export complete (hdrs)

export_libs: ${TBOXLIB} ${TBOXLIBZM} ${DEBUGLIB} ${DEBUGLIBZM} dirs
        ${CP} ${TBOXLIB}    ${EXPORTS}.o.${TBOXLIB}    ${CPFLAGS}
        ${CP} ${TBOXLIBZM}  ${EXPORTS}.o.${TBOXLIBZM}  ${CPFLAGS}
        ${CP} ${DEBUGLIB} ${EXPORTS}.o.${DEBUGLIB} ${CPFLAGS}
        ${CP} ${DEBUGLIBZM} ${EXPORTS}.o.${DEBUGLIBZM} ${CPFLAGS}
        @@echo ${DEBUGLIB} and ${TBOXLIB}: export complete (libs)


dirs:
        ${MKDIR} ${LIBDIR}
        ${MKDIR} ${EXPORTS}
        ${MKDIR} ${EXPORTS}.h
        ${MKDIR} ${EXPORTS}.o
#
# Dynamic dependencies:
@


4.18
log
@Change to not use RAMCModule ROMCModule.
Rather than refactor every toolbox module that uses TBoxMake, and since that already carries its own rules for resources and RAM and debug builds, it seems simpler to just create a new ROM and link target than try to use CModule shared makefile.
Participated in a ROM build, but not functionally tested.

Version 0.18. Tagged as 'Common-0_18'
@
text
@a115 1
        ${CP} TboxMake  ${EXPORTS}.TboxMake ${CPFLAGS}
a123 1
        ${CP} TboxMake  ${EXPORTS}.TboxMake ${CPFLAGS}
@


4.17
log
@Replace "-wipe" with "x wipe" in makefiles to remove annoying errors.

Version 0.17. Tagged as 'Common-0_17'
@
text
@d22 1
a22 1
# 09 Oct 1997  RWB 	  Tidied up old Toolbox.Common build
d28 1
a28 1
LIBDIR		= <Lib$Dir>
d41 1
a41 1
WIPE    = x wipe
d43 1
a43 1
CD	= dir
d52 1
a52 1
CCZM=		${CC} ${CFLAGSZM}
d57 6
a62 6
CLIB		= CLIB:o.stubs
RLIB		= RISCOSLIB:o.risc_oslib
RSTUBS		= RISCOSLIB:o.rstubs
ROMSTUBS	= RISCOSLIB:o.romstubs
ROMCSTUBS	= RISCOSLIB:o.romcstubs
ABSSYM		= RISC_OSLib:o.AbsSym
d66 2
a67 2
INCLUDES 	= -IC:,<Lib$Dir>.tboxlibint.
DFLAGS		=
d81 1
a81 1
DBG_OBJ	  = o.debug
d90 2
a91 2
.s.o:;	    ${AS} ${ASFLAGS} -o $@@ $<
.s.z:;	    ${AS} ${ASFLAGS} -o $@@ $<
d110 6
a115 6
	${XWIPE} o.* ${WFLAGS}
	${XWIPE} z.* ${WFLAGS}
	${XWIPE} ${DEBUGLIB} ${WFLAGS}
	${XWIPE} ${DEBUGLIBZM} ${WFLAGS}
	${XWIPE} ${TBOXLIB} ${WFLAGS}
	${XWIPE} ${TBOXLIBZM} ${WFLAGS}
d124 1
a124 1
        ${CP} hdr.*	${EXP_HDR}.*	${CPFLAGS}
d138 4
a141 4
	${MKDIR} ${LIBDIR}
	${MKDIR} ${EXPORTS}
	${MKDIR} ${EXPORTS}.h
	${MKDIR} ${EXPORTS}.o
@


4.16
log
@  Fixed clean rule of Makefile to avoid annoying error messages.
Detail:
  Use the XWIPE macro rather than WIPE so that when the component
  is cleaned, we don't get loads of irritating errors from AMU if
  the object to be wiped doesn't exist.
Admin:
  No code change.


Version 0.14. Tagged as 'Common-0_14'
@
text
@d41 1
a41 1
WIPE    = -wipe
@


4.15
log
@clean phase exports the makefile fragment so that the module
clean rules can function.

Version 0.11. Tagged as 'Common-0_11'
@
text
@d42 1
d110 6
a115 6
	${WIPE} o.* ${WFLAGS}
	${WIPE} z.* ${WFLAGS}
	${WIPE} ${DEBUGLIB} ${WFLAGS}
	${WIPE} ${DEBUGLIBZM} ${WFLAGS}
	${WIPE} ${TBOXLIB} ${WFLAGS}
	${WIPE} ${TBOXLIBZM} ${WFLAGS}
@


4.14
log
@  Updated common Toolbox Makefile fragment.
  Extra shared facilities for object modules.
  Debug support improved.
Detail:
  New common operations for Toolbox object modules have been abstracted
    into this component in order to simplify the object modules.
  Debugging services made common to all modules and now uses DebugLib.
  Common Makefile fragment now exported with correct rules for ROM builds
    as well as RAM builds, and (new in this version), DebugLib RAM builds.
    As a result, all object modules now have debug versions available.
Admin:
  Requires BuildSys 1.92 or later (RiscOS/BuildSys; tag BuildSys-1_92)
  Requires Library 0.41 or later (RiscOS/Library; tag Library-0_41)
  Required by any Toolbox object module dated 4th May 2000 or later.

Version 0.09. Tagged as 'Common-0_09'
@
text
@d108 1
a108 1
clean:
d115 1
@


4.13
log
@  Added template Makefile
  Exports LibVersion
Admin:
  Required by future versions of toolbox modules..

Version 0.08. Tagged as 'Common-0_08'
@
text
@d45 2
a46 2
CFLAGS   = -c -depend !Depend -Wap -zps0 ${INCLUDES} -fah -Fn ${DFLAGS}
CFLAGSZM = -c -depend !Depend -Wap -zps1 ${INCLUDES} -fah -Fn ${DFLAGS} -zM
d77 2
a78 2
OBJ      = o.mem o.messages o.string32 o.rmensure o.objsupport o.slist o.toolboxmem
OBJZM    = z.mem z.messages z.string32 z.rmensure z.objsupport z.slist z.toolboxmem
@


4.12
log
@  Added export of assembler headers for Window and Toolbox modules.
  C headers protect their definitions of service calls to avoid clashes
Detail:
  Exported headers contain SWI definitions only.
  Exported C headers protect their definitions of service call symbols
    to avoid clashes with Global/Services.h (which will contain them
    all from the next source drop)
Admin:
  Tested with the Window module.

Version 0.05. Tagged as 'Common-0_05'
@
text
@d34 1
a34 1
MKDIR   = cdir
d123 2
@


4.11
log
@Build process improvements:
  !MkRam,fd7 added to enable RAM builds of all Toolbox modules
  MakeFile tidied up and support for RAM build added
Module now uses Toolbox memory allocation instead of calling OS_Module.
@
text
@d29 2
d122 1
@


4.10
log
@ProgInfo template updated, new methods added for URI/event handling.
@
text
@d44 1
a44 1
CFLAGSZM = -c -depend !Depend -Wap -zps0 ${INCLUDES} -fah -Fn ${DFLAGS} -zM
d75 2
a76 2
OBJ      = o.mem o.messages o.string32 o.rmensure o.objsupport o.slist
OBJZM    = z.mem z.messages z.string32 z.rmensure z.objsupport z.slist
d87 2
d103 2
a104 2
${DEBUGLIBZM}: ${OBJZM} ${DBG_OBJAM}
   ${LIBFILE} ${LIBFILEFLAGS} ${OBJZM} ${DBG_OBJAM}
a136 87
z.slist:	c.slist
z.slist:	h.slist
z.slist:	h.mem
o.mem:	c.mem
o.mem:	C:h.kernel
o.mem:	C:h.swis
o.mem:	h.debug
o.mem:	h.mem
o.messages:	c.messages
o.messages:	C:h.kernel
o.messages:	C:h.swis
o.messages:	h.const
o.messages:	h.macros
o.messages:	objects.h.toolbox
o.messages:	h.services
o.messages:	h.debug
o.messages:	h.mem
o.messages:	h.twimp
o.messages:	C:h.kernel
o.messages:	h.style
o.messages:	h.messages
o.messages:	C:h.kernel
o.string32:	c.string32
o.string32:	h.string32
o.rmensure:	c.rmensure
o.rmensure:	C:h.kernel
o.rmensure:	C:h.swis
o.rmensure:	h.rmensure
o.rmensure:	h.macros
o.objsupport:	c.objsupport
o.objsupport:	C:h.kernel
o.objsupport:	C:h.swis
o.objsupport:	h.debug
o.objsupport:	objects.h.toolbox
o.objsupport:	objects.h.window
o.objsupport:	<Lib$Dir>.tboxlibint.h.twimp
o.objsupport:	C:h.kernel
o.objsupport:	h.mem
o.objsupport:	h.objsupport
o.objsupport:	objects.h.toolbox
o.objsupport:	objects.h.window
o.slist:	c.slist
o.slist:	h.slist
o.slist:	h.mem
o.debug:	c.debug
o.debug:	h.debug
o.debug:	C:h.swis
o.debug:	C:h.kernel
o.debug:	C:h.kernel
z.mem:	c.mem
z.mem:	C:h.kernel
z.mem:	C:h.swis
z.mem:	h.debug
z.mem:	h.mem
z.messages:	c.messages
z.messages:	C:h.kernel
z.messages:	C:h.swis
z.messages:	h.const
z.messages:	h.macros
z.messages:	objects.h.toolbox
z.messages:	h.services
z.messages:	h.debug
z.messages:	h.mem
z.messages:	h.twimp
z.messages:	C:h.kernel
z.messages:	h.style
z.messages:	h.messages
z.messages:	C:h.kernel
z.string32:	c.string32
z.string32:	h.string32
z.rmensure:	c.rmensure
z.rmensure:	C:h.kernel
z.rmensure:	C:h.swis
z.rmensure:	h.rmensure
z.rmensure:	h.macros
z.objsupport:	c.objsupport
z.objsupport:	C:h.kernel
z.objsupport:	C:h.swis
z.objsupport:	h.debug
z.objsupport:	objects.h.toolbox
z.objsupport:	objects.h.window
z.objsupport:	<Lib$Dir>.tboxlibint.h.twimp
z.objsupport:	C:h.kernel
z.objsupport:	h.mem
z.objsupport:	h.objsupport
z.objsupport:	objects.h.toolbox
z.objsupport:	objects.h.window
@


4.9
log
@Build process improvements :
* Standardised make process in common will all other modules in build.
* Internal and external toolbox libraries and headers exported to
  <Lib$Dir>.tboxlibint and <Lib$Dir>.tboxlibs respectivly.
* Resources now localised.
* Local !MkClean and !MkRom now use amu_machine.
@
text
@d135 3
a137 7
z.string32:	c.string32
z.string32:	h.string32
z.rmensure:	c.rmensure
z.rmensure:	C:h.kernel
z.rmensure:	C:h.swis
z.rmensure:	h.rmensure
z.rmensure:	h.macros
a142 20
o.string32:	c.string32
o.string32:	h.string32
o.rmensure:	c.rmensure
o.rmensure:	C:h.kernel
o.rmensure:	C:h.swis
o.rmensure:	h.rmensure
o.rmensure:	h.macros
o.debug:	c.debug
o.debug:	h.debug
o.debug:	C:h.swis
o.debug:	C:h.kernel
o.debug:	C:h.kernel
o.slist:	c.slist
o.slist:	h.slist
o.slist:	h.mem
z.mem:	c.mem
z.mem:	C:h.kernel
z.mem:	C:h.swis
z.mem:	h.debug
z.mem:	h.mem
d157 7
d176 13
d203 7
a221 3
z.slist:	c.slist
z.slist:	h.slist
z.slist:	h.mem
@


4.9.4.1
log
@Removed dynamic dependancies from Makefiles and removed all reference to Prefix
@
text
@d135 87
@


4.8
log
@Tided up the make process for the libraries tboxlib and debuglib (debuglib
was in with the same set of sources as tboxlib to I build it anyway).

All header files in the objects directory now get exported to
<Lib$Dir>.tboxlibs.h during export_hdrs phase. tboxlib and debuglib get build
with both zM and none zM flags and exported to <Lib$Dir>.tboxlibs.o.

Changed the sources slightly so they don't refer to the internal copy of the
header files found in objects but the copy previously exported to the right
place.
@
text
@d63 1
a63 1
INCLUDES 	= -IC:,TBox:
d69 1
a69 1
TBOXLIBZM = tboxlibzm
d71 1
a71 1
DEBUGLIBZM = debuglibzm
d73 1
a73 1
EXPORTS     = ${LIBDIR}.tboxlibs
d75 2
a76 2
OBJ      = o.mem o.messages o.string32 o.rmensure o.objsupport
OBJZM    = z.mem z.messages z.string32 z.rmensure z.objsupport
d78 2
a79 2
DBG_OBJ	  = o.debug o.slist
DBG_OBJZM = z.debug z.slist
d116 2
a117 1
        ${CP} objects.* ${EXPORTS}.*   ${CPFLAGS}
a134 22
o.slist:	c.slist
o.slist:	h.slist
o.slist:	h.mem
z.mem:	c.mem
z.mem:	C:h.kernel
z.mem:	C:h.swis
z.mem:	h.debug
z.mem:	h.mem
z.messages:	c.messages
z.messages:	C:h.kernel
z.messages:	C:h.swis
z.messages:	h.const
z.messages:	h.macros
z.messages:	TBox:h.toolbox
z.messages:	h.services
z.messages:	h.debug
z.messages:	h.mem
z.messages:	h.twimp
z.messages:	C:h.kernel
z.messages:	h.style
z.messages:	h.messages
z.messages:	C:h.kernel
a141 12
z.objsupport:	c.objsupport
z.objsupport:	C:h.kernel
z.objsupport:	C:h.swis
z.objsupport:	h.debug
z.objsupport:	TBox:h.toolbox
z.objsupport:	TBox:h.window
z.objsupport:	h.twimp
z.objsupport:	C:h.kernel
z.objsupport:	h.mem
z.objsupport:	h.objsupport
z.objsupport:	TBox:h.toolbox
z.objsupport:	TBox:h.window
d147 20
d172 1
a172 1
o.messages:	TBox:h.toolbox
a180 7
o.string32:	c.string32
o.string32:	h.string32
o.rmensure:	c.rmensure
o.rmensure:	C:h.kernel
o.rmensure:	C:h.swis
o.rmensure:	h.rmensure
o.rmensure:	h.macros
d185 3
a187 3
o.objsupport:	TBox:h.toolbox
o.objsupport:	TBox:h.window
o.objsupport:	h.twimp
d191 31
a221 7
o.objsupport:	TBox:h.toolbox
o.objsupport:	TBox:h.window
o.debug:	c.debug
o.debug:	h.debug
o.debug:	C:h.swis
o.debug:	C:h.kernel
o.debug:	C:h.kernel
@


4.7
log
@Ursula branch merged
@
text
@d15 23
a37 2
# Project:   tboxlib

d40 54
a93 1
WFLAGS  = ~c~v
d95 2
a96 17
# Toolflags:
CCflags = -c -depend !Depend -Itbox:,C: -zM -ffah -zps1 -DROM
C++flags = -c -depend !Depend -IC:
Pascalflags = -c -depend !Depend -IP:
Linkflags = -c++ -o $@@
ObjAsmflags = -depend !Depend -Stamp -quit -CloseExec
CMHGflags =
LibFileflags = -c -o $@@
Squeezeflags = -o $@@
AAsmflags = -depend !Depend -quit -CloseExec -To $@@ -From


# Final targets:
tboxlib:   o.mem o.messages o.string32 o.rmensure o.objsupport \
              o.slist
        libfile $(libfileflags) o.mem o.messages o.string32 o.rmensure o.objsupport \
              o.slist
d98 2
a99 2
rom: tboxlib
        @@echo all done
d101 2
a102 2
install_rom:  tboxlib
        @@echo all done
d105 28
a132 21
        ${WIPE} o.* ${WFLAGS}
        ${RM} tboxlib
        @@echo cleaned

# User-editable dependencies:

# Static dependencies:
o.mem:   c.mem
        cc $(ccflags) -o o.mem c.mem
o.messages:   c.messages
        cc $(ccflags) -o o.messages c.messages
o.string32:   c.string32
        cc $(ccflags) -o o.string32 c.string32
o.rmensure:   c.rmensure
        cc $(ccflags) -o o.rmensure c.rmensure
o.objsupport:   c.objsupport
        cc $(ccflags) -o o.objsupport c.objsupport
o.slist:   c.slist
        cc $(ccflags) -o o.slist c.slist


a133 2
o.string32:	c.string32
o.string32:	h.string32
d137 38
d185 1
a185 1
o.messages:	objects.h.toolbox
d194 2
d205 3
a207 3
o.objsupport:	objects.h.toolbox
o.objsupport:	objects.h.window
o.objsupport:	tbox:h.twimp
d211 7
a217 2
o.objsupport:	objects.h.toolbox
o.objsupport:	objects.h.window
@


4.6
log
@Made to build correctly on trunk
@
text
@d68 5
a91 2
o.string32:	c.string32
o.string32:	h.string32
a108 3
o.slist:	c.slist
o.slist:	h.slist
o.slist:	h.mem
@


4.6.2.1
log
@Added tokenisation directives to Messages files.
Made modules open "Resources:$...." not "Resources:....".
@
text
@a67 5
o.string32:	c.string32
o.string32:	h.string32
o.slist:	c.slist
o.slist:	h.slist
o.slist:	h.mem
d87 2
d106 3
@


4.5
log
@Spinner branch merged
@
text
@a72 5
o.mem:	c.mem
o.mem:	C:h.kernel
o.mem:	C:h.swis
o.mem:	h.debug
o.mem:	h.mem
@


4.4
log
@Throwback removed
@
text
@d73 5
@


4.3
log
@Version Spin_merge taken
@
text
@d22 3
a24 3
CCflags = -c -depend !Depend -Itbox:,C: -throwback -zM -ffah -zps1 -DROM
C++flags = -c -depend !Depend -throwback -IC:
Pascalflags = -c -depend !Depend -throwback -IP:
d26 1
a26 1
ObjAsmflags = -depend !Depend -ThrowBack -Stamp -quit -CloseExec
@


4.2
log
@throwback removed
@
text
@d22 3
a24 3
CCflags = -c -depend !Depend -Itbox:,C: -zM -ffah -zps1 -DROM
C++flags = -c -depend !Depend -IC:
Pascalflags = -c -depend !Depend -IP:
d26 1
a26 1
ObjAsmflags = -depend !Depend -Stamp -quit -CloseExec
@


4.1
log
@Initial revision
@
text
@d22 3
a24 3
CCflags = -c -depend !Depend -Itbox:,C: -throwback -zM -ffah -zps1 -DROM
C++flags = -c -depend !Depend -throwback -IC:
Pascalflags = -c -depend !Depend -throwback -IP:
d26 1
a26 1
ObjAsmflags = -depend !Depend -ThrowBack -Stamp -quit -CloseExec
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.7.2
log
@RadioButton_SetFont et al added.
@
text
@a72 5
o.mem:	c.mem
o.mem:	C:h.kernel
o.mem:	C:h.swis
o.mem:	h.debug
o.mem:	h.mem
@


4.1.7.3
log
@Removed some pesky -Throwback's from two makefiles.
@
text
@d22 3
a24 3
CCflags = -c -depend !Depend -Itbox:,C: -zM -ffah -zps1 -DROM
C++flags = -c -depend !Depend -IC:
Pascalflags = -c -depend !Depend -IP:
d26 1
a26 1
ObjAsmflags = -depend !Depend -Stamp -quit -CloseExec
d68 5
@
