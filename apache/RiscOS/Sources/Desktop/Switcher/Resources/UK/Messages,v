head	4.10;
access;
symbols
	Switcher-1_51:4.10
	Switcher-1_50:4.10
	Switcher-1_49:4.10
	Switcher-1_48:4.10
	Switcher-1_47:4.10
	Switcher-1_46:4.10
	Switcher-1_45:4.10
	Switcher-1_44:4.10
	Switcher-1_43:4.10
	Switcher-1_42:4.10
	Switcher-1_41:4.10
	Switcher-1_40:4.10
	Switcher-1_39:4.10
	Switcher-1_38:4.9
	Switcher-1_37:4.9
	Switcher-1_36:4.9
	Switcher-1_35:4.8
	Switcher-1_34:4.8
	Switcher-1_33:4.8
	Switcher-1_32:4.7
	Switcher-1_31:4.7
	Switcher-1_30:4.7
	Switcher-1_29:4.7
	Switcher-1_28:4.7
	Switcher-1_27:4.7
	RO_5_07:4.7
	Switcher-1_26:4.7
	Switcher-1_25a:4.7
	Switcher-1_25:4.7
	Switcher-1_24:4.7
	Switcher-1_23:4.6
	Switcher-1_22:4.6
	Switcher-1_21:4.5
	Switcher-1_20:4.4
	Switcher-1_19:4.4
	Switcher-1_18:4.4
	Switcher-1_17:4.4
	Switcher-1_16:4.4
	Switcher-1_15:4.4
	dellis_autobuild_BaseSW:4.4
	Switcher-1_14:4.4
	Switcher-1_13:4.4
	sbrodie_sedwards_16Mar2000:4.4
	Switcher-1_12:4.4
	Switcher-1_11:4.4
	dcotton_autobuild_BaseSW:4.4
	Switcher-1_10:4.4
	Switcher-1_09:4.3
	Switcher-1_08:4.3
	mstphens_UrsulaRiscPCBuild_20Nov98:4.2.2.2
	Ursula_RiscPC:4.2.2.2.0.2
	Switcher-1_07:4.3
	Switcher-1_06:4.3
	Switcher-1_05:4.3
	Ursula_merge:4.2.2.2
	bavison_Switcher-1_12:4.2.2.2
	wturner_switcher-1_11:4.2.2.2
	bavison_Switcher-1_10:4.2.2.2
	nicke_Switcher_0_95:4.1.7.1
	rthornb_UrsulaBuild-19Aug1998:4.2.2.2
	UrsulaBuild_FinalSoftload:4.2.2.2
	rthornb_UrsulaBuild-12Aug1998:4.2.2.2
	aglover_UrsulaBuild-05Aug1998:4.2.2.2
	rthornb_UrsulaBuild-29Jul1998:4.2.2.2
	rthornb_UrsulaBuild-22Jul1998:4.2.2.2
	rthornb_UrsulaBuild-15Jul1998:4.2.2.2
	hsimons_BOCA-1_2-Release:4.1.7.1
	rthornb_UrsulaBuild-07Jul1998:4.2.2.2
	rthornb_UrsulaBuild-17Jun1998:4.2.2.2
	rthornb_UrsulaBuild-03Jun1998:4.2.2.2
	rthornb_UrsulaBuild-27May1998:4.2.2.2
	rthornb_UrsulaBuild-21May1998:4.2.2.2
	rthornb_UrsulaBuild_01May1998:4.2.2.2
	Spinner_RCA116:4.1.7.1
	Spinner_B20_2:4.1.7.1
	Spinner_19_3:4.1.7.1
	Spinner_B18:4.1.7.1
	Spinner_B17:4.1.7.1
	Spinner_B15:4.1.7.1
	Spinner_B14:4.1.7.1
	Spinner_B13:4.1.7.1
	Spinner_B12:4.1.7.1
	Spinner_B10:4.1.7.1
	Daytona:4.2.0.6
	Daytona_bp:4.2
	Ursula:4.2.0.2
	Ursula_bp:4.2
	Spinner_B7:4.1.7.1
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	RCA_bp:4.2
	ARTtmp:4.1.7.1.0.2
	RCA:4.2.0.4
	Spin_merge:4.1.7.1
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.10
date	2012.09.12.00.41.08;	author bavison;	state Exp;
branches;
next	4.9;
commitid	Vr0azvVU40SOWakw;

4.9
date	2012.07.28.21.45.10;	author rsprowson;	state Exp;
branches;
next	4.8;
commitid	VU30pn9JTzh8qnew;

4.8
date	2011.09.21.20.51.00;	author rsprowson;	state Exp;
branches;
next	4.7;
commitid	Mpl063Ubm73m7pAv;

4.7
date	2003.01.11.17.00.47;	author rsprowson;	state Exp;
branches;
next	4.6;

4.6
date	2002.11.22.21.09.37;	author rsprowson;	state Exp;
branches;
next	4.5;

4.5
date	2002.11.07.16.48.35;	author kbracey;	state Exp;
branches;
next	4.4;

4.4
date	99.09.06.16.29.39;	author kbracey;	state Exp;
branches;
next	4.3;

4.3
date	98.10.01.07.57.16;	author kbracey;	state Exp;
branches;
next	4.2;

4.2
date	97.01.02.16.43.07;	author nturton;	state Exp;
branches
	4.2.2.1;
next	4.1;

4.1
date	96.11.05.09.30.11;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.2.2.1
date	97.05.23.13.08.59;	author kbracey;	state Exp;
branches;
next	4.2.2.2;

4.2.2.2
date	98.03.19.10.07.25;	author rleggett;	state Exp;
branches;
next	;

4.1.1.1
date	96.11.05.09.30.11;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.05.23.30.24;	author nturton;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.12.21.37;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.20.19.26;	author nturton;	state Exp;
branches;
next	;


desc
@@


4.10
log
@  Applied some polish ahead of the Raspberry Pi release
Detail:
  * Simplified the icon bar menu (all the old options are still available
    from the menu on the "task display" window).
  * Fixed the heroes list code - it looks like this broke when the ROM moved
    to a top-bit-set address, and nobody bothered fixing it until now.
  * Made the code to reset the machine manually conditional on NoARMv3,
    since all ARMv3+ machines have OSes that implement OS_Reset. This makes
    the module build cleanly for all current ROM builds.
Admin:
  Tested in a Raspberry Pi build

Version 1.39. Tagged as 'Switcher-1_39'
@
text
@task:Task Manager

T00:Task
M00:Info
M01:New task
M02:
M02a:Task display
M02b:Task '%0'
M03:*Commands    F12
M04:Task window ^F12
M05:Desktop settings
M06:Exit desktop
M07:Freeze
M08:Shutdown   ^‹F12
M09:Configure...
T01:*Command
M11:
T02:Task
M12:Quit
T03:RISC OS

P1:The system was previously shut down because the battery charge was exhausted, but the shutdown failed to complete
P2:The system was previously shut down because the battery charge was exhausted
P3:Invalid shut down state detected in CMOS
p:This window tells you why the system was forcibly shut down.
Boot:|| Desktop boot file, saved at %0|J|J

#{HelpTokens}
S:This window allows you to create a desktop boot file.|M
I:This window displays the OS version number and its release date.
Hq00/Hs00:%2Drag the file icon onto a directory display to save it in that directory.
Hq01/Hs01:%2Enter the filename, then drag the icon into a directory, or enter the full pathname and press Return.
Hq02/Hs02:%2\Ssave the file via the full pathname indicated.
Hq03:%2\Smake the machine auto-boot on reset if Shift is not held down.
Hs03:%2\Smake the machine auto-boot on reset if Shift is held down.
Hq04:%2\Smake the file an 'auto save' file.  This means that the desktop state will be automatically saved into the file whenever you close down the desktop.
Hs04:%2\Sprevent the desktop state from being automatically saved into the file when you leave the desktop.
Hs??/Hq??:%2

H:This is the Task Manager window.|M
HiFF:This is the Task Manager.|M\Sdisplay the Task Manager window.
H?01:Move the pointer right to see the OS version number.
H?11:This window displays information about the Operating System.
H?02:Move the pointer right to start a new task.|MThis is for advanced users only.
H?12:Enter the command to be executed, then press Return.
H?04:\Sconfigure aspects of your computer's setup.
Hi03:\Sopen the Task Manager window.
HT03/Ht03:Move the pointer right to open the submenu for task '%0'.
H?03:\Gyou did not click MENU over a particular task.
HT13/Ht13:\Sterminate the task '%0'.
H?05:\Senter *Commands at the bottom of the screen.|MPress Return without entering any text to return to the desktop.
H?06:\Sopen a new task window.|MThis will allow you to type *Commands within the desktop.
H?07:Move the pointer right to create a desktop boot file.
H?08:\Sexit the desktop.
H?09:\Sshut down the machine, prior to turning it off.
HwFF:%2
HxFF:%2This section shows the tasks that use application memory.
HzFF:%2This section shows the tasks that use module area memory.
HyFF:%2This section shows how the memory in your machine is being used.
HdFF:%2This section shows what dynamic areas exist and how much memory they use.
HTFF:%2The task '%0' is using %1 of application memory.%3
HDFF:%2The dynamic area '%0' is using %1 of memory.
HtFF:%2The task '%0' is running in module space.
HQFF:%2The total amount of free memory in the Module area is %1.
HLFF:%2The largest contiguous block of free memory in the Module area is %1.
HnFF:%2The Next slot contains free memory that will be given to the next task to be run (currently %1).%3
HfFF:%2The Free slot contains free memory that is not in the Next slot.%3
HSFF/HPFF/HRFF/HFFF/HMFF/HHFF/HKFF:%2This line shows that %1 is being used for the %0.%3
HOFF:%2This line shows that %1 is used for the operating system image.
HGFF:%2This line shows that %1 is being used as memory management workspace.
HCFF:%2This line shows that %1 is used as hardware and system workspace.
HZFF:%2This line shows that %1 is used as system workspace.
HAFF:%2This line shows that %1 is being used for dynamic areas.
HBFF:%2This line shows that there is %1 of free application memory.
HUFF:%2This line shows that %1 of application memory is being used.
HEFF:%2This line shows that your machine has a total of %1 of RAM.
Red:|MDrag the red bar to alter the memory usage.
Grn:

#{DictTokens}
E00:Template has wrong number of icons
E01:Can't find block
E02:Task not known
E04:Memory size must be a number
E05:To save, drag the icon to a directory display
E06:Template file not found
E07:Task Manager not active
E08:Power control unavailable
E09:Ambiguous flags for shutdown

#{Token0=Desktop_TaskManager}
HTMGDTM:The Task Manager module provides task management under the Desktop.Do not use *Desktop_TaskManager, use *Desktop instead. 
STMGDTM:Syntax: *Desktop_TaskManager 

#{Token0=StartDesktopTask}
HTMGSDT:Cause a task to start next time the desktop environment is entered. 
STMGSDT:Syntax: *StartDesktopTask <*command> 
@


4.9
log
@Add flag bits 5 and 6 to TaskManager_Shutdown
* Two new error messages for invalid shutdown flag combinations
* Removed shutdown_swi poll(byte)word support, when ProvideStartTask is switched out the code now uses misc_pollbyte
* New flag soft_poweroff to save having to keep calling OS_ReadSysInfo
* Use definitions from HighFSI, OsWords, OsBytes, Variables
* Proginfo icon numbers defined
* Permanently enabled TrueMemorySize switched code
* Add a note that the error base is bogus for this module

Version 1.36. Tagged as 'Switcher-1_36'
@
text
@d20 1
@


4.8
log
@Missing ellipsis on "Configure" menu entry added.
Style guide says so when it leads to a persistent dialogue.

Version 1.33. Tagged as 'Switcher-1_33'
@
text
@a17 1

d87 2
@


4.7
log
@Bug fix from Kevin for the RAMFSFiler not always appearing when dragging
the slider bar.
Chnage to resources to refer to "Desktop settings" rather than the obtuse
"Desktop boot"

Version 1.24. Tagged as 'Switcher-1_24'
@
text
@d15 1
a15 1
M09:Configure
@


4.6
log
@Addition of "Configure" to the menu.
This entry will be greyed out if on starting there is nothing in
Boot$OSVersion,otherwise it will choose where it looks for configure
based on whether it is >=350 much like the DeskRun obey file did.
Resources updated to match.

Version 1.22. Tagged as 'Switcher-1_22'
@
text
@d11 1
a11 1
M05:Desktop boot
@


4.5
log
@Moved dynamic areas section up above system section.
Improved some redraws.
Added new areas to make the total display add up (requires new Kernel to get
correct figures).
Fixed dragging to get nicer numbers.
Fixed 4K "negative bar" plotting problem.

Version 1.21. Tagged as 'Switcher-1_21'
@
text
@d12 1
a12 1
M06:Exit
d15 1
d44 1
a44 1
H?02:Move the pointer right to start a new task.|M(This is only used by programmers.)
d46 1
d51 5
a55 5
H?04:\Senter *Commands at the bottom of the screen.|MPress Return without entering any text to return to the desktop.
H?05:\Sopen a new task window.|MThis will allow you to type *Commands within the desktop.
H?06:Move the pointer right to create a desktop boot file.
H?07:\Sexit the desktop.
H?08:\Sshut down the machine, prior to turning it off.
d70 1
a70 1
HGFF:%2This line shows that %1 is used as memory management workspace.
@


4.4
log
@Ursula branch merged.
Doesn't attempt to use OS_DynamicArea 6 and 7 unless the symbol
OSD6and7Kernel has been defined - so when someone adds these to the trunk
Kernel, define that symbol in Hdr:RISCOS.

Version 1.10. Tagged as 'Switcher-1_10'
@
text
@d58 1
a58 1
HdFF:%2This section shows what Dynamic Areas exist and how much memory they use.
d60 1
a60 1
HDFF:%2The Dynamic Area '%0' is using %1 of memory.
d66 4
a69 2
HSFF/HPFF/HRFF/HFFF/HMFF/HHFF:%2This line shows that %1 is being used for the %0.%3
HCFF:%2This line shows that %1 is used as cursor and sound workspace.
d71 1
@


4.3
log
@Changed to use srccommit.
Removal of *ChangeDynamicArea folded in from Ursula branch.

Version 1.05. Tagged as 'Switcher-1_05'
@
text
@d87 4
@


4.2
log
@Using StrongARM version
@
text
@a86 3
#{Token0=ChangeDynamicArea}
HTMGCDA:Allows the size of the font cache, system sprite area and RAM disc to be set up. 
STMGCDA:Syntax: *ChangeDynamicArea [-FontSize <n>[K]] [-SpriteSize <n>[K]] [-RamFsSize <n>[K]] 
@


4.2.2.1
log
@*ChangeDynamicArea moved into UtilityModule
@
text
@d87 3
@


4.2.2.2
log
@Added SWI TaskManager_StartTask and equivelent *command *StartDesktopTask
which will allow a task to be launched from outside the desktop environment.
This will happen next time the desktop is entered.
@
text
@a86 4

#{Token0=StartDesktopTask}
HTMGSDT:Cause a task to start next time the desktop environment is entered. 
STMGSDT:Syntax: *StartDesktopTask <*command> 
@


4.1
log
@Initial revision
@
text
@d13 2
a14 1
M07:Shutdown   ^‹F12
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.5.1
log
@Import from SrcFiler
@
text
@@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@d13 1
a13 2
M07:Freeze
M08:Shutdown   ^‹F12
@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
