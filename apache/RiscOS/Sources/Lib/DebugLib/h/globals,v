head	1.12;
access;
symbols
	DebugLib-0_72:1.12
	DebugLib-0_71:1.12
	DebugLib-0_70:1.12
	DebugLib-0_69:1.12
	DebugLib-0_68:1.12
	DebugLib-0_67:1.12
	DebugLib-0_66:1.12
	DebugLib-0_65:1.12
	DebugLib-0_64:1.12
	RO_5_07:1.12
	DebugLib-0_63:1.12
	DebugLib-0_62:1.12
	DebugLib-0_61:1.12
	DebugLib-0_60:1.11
	DebugLib-0_59:1.11
	DebugLib-0_58:1.11
	DebugLib-0_57:1.11
	dellis_autobuild_BaseSW:1.11
	DebugLib-0_56:1.11
	DebugLib-0_55:1.11
	DebugLib-0_54:1.11
	DebugLib-0_53:1.11
	DebugLib-0_52:1.11
	DebugLib-0_51:1.11
	DebugLib-0_50:1.11
	DebugLib-0_49:1.11
	sbrodie_sedwards_16Mar2000:1.11
	DebugLib-0_48:1.11
	DebugLib-0_47:1.11
	DebugLib-0_46:1.10
	dcotton_autobuild_BaseSW:1.12
	DebugLib-0_45:1.10
	DebugLib-0_44:1.10
	DebugLib-0_43:1.10
	DebugLib-0_42:1.10
	DebugLib-0_41:1.10
	DebugLib-0_40:1.10
	DebugLib-0_39:1.10
	DebugLib-0_38:1.9
	DebugLib-0_33-1_28_2_1:1.8
	DebugLib-0_37:1.9
	DebugLib-0_36:1.8
	DebugLib-0_35:1.8
	DebugLib-0_34:1.8
	nturton_DebugLib-0_24:1.5
	DebugLib-0_33:1.8
	DebugLib-0_32:1.7
	DebugLib-0_31:1.7
	DebugLib-0_30:1.7
	DebugLib-0_29:1.5
	DebugLib-0_28:1.5
	DebugLib-0_27:1.5
	DebugLib-0_26:1.5
	DebugLib-0_25:1.5
	DebugLib-0_24:1.5
	DebugLib-0_23:1.5
	DebugLib-0_22:1.5
	DebugLib-0_21:1.5
	DebugLib-0_20:1.4
	DebugLib-0_19:1.4
	DebugLib-0_18:1.4
	sforrest_daytona_appflash-0_31:1.1
	DebugLib-0_17:1.4
	DebugLib-0_16:1.4
	DebugLib-0_15:1.4
	DebugLib-0_14:1.4
	DebugLib-0_13:1.3
	DebugLib-0_12:1.3
	DebugLib-0_11:1.2
	DebugLib-0_10:1.2
	blaughto_daytona_appflash-0_30:1.1
	blaughto_daytona_appflash-0_29:1.1
	blaughto_daytona_appflash-0_28:1.1
	jberanek_debuglib-0_09:1.1
	blaughto_daytona_appflash-0_27:1.1
	blaughto_daytona_appflash-0_26:1.1
	blaughto_daytona_appflash-0_25:1.1
	blaughto_daytona_appflash-0_24:1.1
	blaughto_daytona_appflash-0_23:1.1
	jberanek_debuglib-0_08:1.1
	blaughto_daytona_appflash-0_21:1.1
	blaughto_daytona_appflash-0_20:1.1
	rwarren_debuglib-0_07:1.1
	blaughto_daytona_appflash-0_19:1.1
	jberanek_debuglib-0_06:1.1
	blaughto_daytona_appflash-0_18:1.1
	jberanek_debuglib-0_05:1.1
	Daytona_bp:1.1
	Daytona:1.1.0.2;
locks; strict;
comment	@# @;


1.12
date	2001.09.17.10.53.32;	author jberanek;	state Exp;
branches;
next	1.11;

1.11
date	2000.01.21.10.56.45;	author jberanek;	state Exp;
branches;
next	1.10;

1.10
date	99.05.26.17.47.33;	author jberanek;	state Exp;
branches;
next	1.9;

1.9
date	99.05.20.10.01.05;	author jberanek;	state Exp;
branches;
next	1.8;

1.8
date	99.05.10.15.48.52;	author jberanek;	state Exp;
branches;
next	1.7;

1.7
date	99.03.19.18.48.19;	author jberanek;	state Exp;
branches;
next	1.6;

1.6
date	99.03.19.15.42.42;	author jberanek;	state Exp;
branches;
next	1.5;

1.5
date	98.11.11.15.20.12;	author jberanek;	state Exp;
branches;
next	1.4;

1.4
date	98.09.17.12.48.21;	author jberanek;	state Exp;
branches;
next	1.3;

1.3
date	98.09.16.11.28.50;	author jberanek;	state Exp;
branches;
next	1.2;

1.2
date	98.09.04.17.19.04;	author jberanek;	state Exp;
branches;
next	1.1;

1.1
date	98.02.16.14.18.31;	author jberanek;	state Exp;
branches;
next	;


desc
@@


1.12
log
@  Updated Copyrights, tidied comment header blocks
Detail:
  Updated Copyright messages to show range of years, up to 2001...a bit
 late in the year for that...

  Tidied a few file header comment blocks.

Admin:
  Built on RiscPC.


Version 0.61. Tagged as 'DebugLib-0_61'
@
text
@/* Copyright 1998 Acorn Computers Ltd
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**************************************************************************/
/* globals.h                                                              */
/*                                                                        */
/* Copyright [1999-2001] Pace Micro Technology PLC.  All rights reserved. */
/*                                                                        */
/* The copyright in this material is owned by Pace Micro Technology PLC   */
/* ("Pace").  This material is regarded as a highly confidential trade    */
/* secret of Pace.  It may not be reproduced, used, sold or in any        */
/* other way exploited or transferred to any third party without the      */
/* prior written permission of Pace.                                      */
/**************************************************************************/

#ifndef __globals_h
#define __globals_h

/* Include options.h for the definition of "debug_options" */
#include "options.h"

extern debug_options debug_current_options;

#endif

/* end of globals.h */
@


1.11
log
@  Tidy-up
Detail:
  Stewart's checkin about LibVersion reminded me I'd done some tidying
  (including the LibVersion thing) and not checked it in.  So here it is.

  Tidied Makefile, added standard headers to all the c and h files,
  including the regulation copyright message.

  Changed options.c so that it fits the coding style of the rest of
  DebugLib (naughty Stewart).

  Improved "strdup" routine.

  Moved stripdepend call into Makefile.

Admin:
  Built and tested.


Version 0.47. Tagged as 'DebugLib-0_47'
@
text
@d15 11
a25 11
/************************************************************************/
/* globals.h                                                            */
/*                                                                      */
/* Copyright [1999] Pace Micro Technology PLC.  All rights reserved.    */
/*                                                                      */
/* The copyright in this material is owned by Pace Micro Technology PLC */
/* ("Pace").  This material is regarded as a highly confidential trade  */
/* secret of Pace.  It may not be reproduced, used, sold or in any      */
/* other way exploited or transferred to any third party without the    */
/* prior written permission of Pace.                                    */
/************************************************************************/
@


1.10
log
@ * Tidied "include.h":

 * Moved non-general definitions into appropriate
   header files.  e.g. Default serial options into serial.h etc.
 * Removed DEBUGLIB_UNUSED() macro, as there was already a similar macro
   IGNORE()

 * "globals.h" now includes "options.h" to get the definition of the
   options structure.


Version 0.38. Not tagged
@
text
@d15 11
a25 1
/* globals.h */
@


1.9
log
@ * Continued tidy of DebugLib structure/implementation...added an "Open"
   variable to the debug_output_method structure, to replace the
   sessions_available struct that was used previously.  Now check for
   whether a device is open at the top level (debug.c) instead of once
   for each device.  Removed the "quit" function for a few devices, because
   it was doing nothing.
 * Reduced global variable count to 1. :)

 * Split option setting functions to options.[ch], left debug_set_device
   in c.debug, as it does a bit more that just set an option.


Version 0.37. Tagged as 'DebugLib-0_37'
@
text
@d20 3
@


1.8
log
@ * Overhauled how DebugLib options are handled.  Options are now held in
   an options structure internal to DebugLib.  Options are set one at a
   time by function calls, this makes it much easier to add new options
   over time.  debug_set_options and debug_output_device now deprecated,
   but still provided.  Updated StrongHelp manual to document this
   new behaviour.

 * Fixed trace output somewhat...should now look better on remotedb
   output (no extraneous CRs), and you can now set the trace device to
   be the same as the main debug device.  Setting trace device to "printf"
   now also works (file still to do, as you still can't "dfprintf" to file)

 * Added one of the new options function calls to the CLI_App test harness,
   to test functionality.

 * Improved the !MkCleans for the test harnesses.


Version 0.33. Tagged as 'DebugLib-0_33'
@
text
@a19 2
extern SessionsAvailable sessions_available;

a20 12

extern int serial_handle;

extern FILE *debug_file_pointer;

extern debug_session *remotedb_info;  /* RemoteDB handler */

extern int tracker_window_handle;

extern BOOL pdebug_error;

extern debug_device sysvar_provided_device;
@


1.7
log
@ * Tidied debug_initialise function greatly.  It now uses a number of
   auxiliary functions to reduce the size and complexity of the function.
   The auxiliary functions use functions in the new file misc.c, most
   importantly a veneer to use OS_ReadVarVal nicely.

 * Storage of taskname, and filename for file output method is now done
   with dynamic memory allocation, used to be statically sized buffers.


Version 0.30. Tagged as 'DebugLib-0_30'
@
text
@d22 3
a24 2
extern char *TASK_NAME;
extern char *FILE_FILENAME;
a29 4
extern int trace_stream;

extern int DEBUG_OUTPUT_TYPE;

a31 12
extern int use_taskname_prefix;

extern int serial_port_speed;

extern int serial_port_number;

extern int serial_handle;

extern int serial_lf;

extern int printf_screen_cornering;

d34 1
a34 3
extern BOOL file_output_nonbuffered;

extern int sysvar_provided_device;
@


1.6
log
@ * Noted an oddity in the "always_ignore" functions for trace.
   "debug_printf" was declared twice for some reason.  Fixed this.
 * A variable in debug.c was being used as a global.  Moved it into the
   global area of the file, and put a prototype in globals.h
 * These changes not enough for a version increment IMO.


Version 0.29. Not tagged
@
text
@d22 2
a23 2
extern char TASK_NAME[40];
extern char FILE_FILENAME[300];
@


1.5
log
@ * Added new feature.  Can now override the filename which the file output
   method uses at runtime by setting a system variable
   "DebugLib$Filename_<Taskname>"

 * Can now tell debuglib to turn off file buffering for the file output
   method, with a system variable. "DebugLib$UnbufferedFiles<Taskname>" set
   to any value

 * Tidied make system, so throwback is only turned on by the build obey
   files

 * Tidied a few switch statements

 * Updated StrongHelp manual to reflect new system variables and features.


Version 0.21. Tagged as 'DebugLib-0_21'
@
text
@d51 2
@


1.4
log
@  Updated Documentation for debug_initialise, to clarify some of the
parameters.
  Fixed a few cases where NULLs could be passed to strcpy etc. in
debug_initialise.
  VersionNum file now gets exported to the DebugLib's Export directory, so
you always know what version you've got compiled.
  Tidied some header files a bit.

Version 0.14. Tagged as 'DebugLib-0_14'
@
text
@d49 2
@


1.3
log
@ * New features:
   - You can now set a system variable to override the output method
     compiled into the program. (DebugLib$Device_<Taskname>)
   - Printf output now has an option bit associated with it.  This option
     being whether or not the cursor is sent to the top-left of the screen
     before outputting text.  Default is on.

 * Bug fix - printf output wasn't working due to an oversight in the device
   selection function.
 * Updated manual for new features

Version 0.12. Tagged as 'DebugLib-0_12'
@
text
@d22 1
a22 1
extern char TASK_NAME[20];
d27 1
a27 1
extern debug_session	*remotedb_info;			/* RemoteDB handler */
d29 1
a29 1
extern int		trace_stream;
@


1.2
log
@Added Serial Output device.
Added CLI, Module and Toolbox test applications
Tidied various sections
Tidied StrongHelp manual
Removed remotedb from Libs folder, now fetched from build structure
Removed svcprint from Libs folder, wasn't being used
Added srccommit support

Version 0.10. Tagged as 'DebugLib-0_10'
@
text
@d45 2
@


1.1
log
@Debug Library used in Daytona project.  First CVS checkin
@
text
@d33 14
@
