head	4.5;
access;
symbols
	IIC-0_18-4_5_2_13:4.3.2.4
	IIC-0_18-4_5_2_12:4.3.2.4
	IIC-0_18-4_5_2_11:4.3.2.4
	IIC-0_18-4_5_2_10:4.3.2.4
	IIC-0_18-4_5_2_9:4.3.2.4
	IIC-0_18-4_5_2_8:4.3.2.3
	IIC-0_18-4_5_2_7:4.3.2.3
	IIC-0_18-4_5_2_6:4.3.2.3
	IIC-0_21:4.5
	RO_5_07:4.3.2.3
	IIC-0_20:4.5
	IIC-0_18-4_5_2_5:4.3.2.3
	IIC-0_18-4_5_2_4:4.3.2.2
	IIC-0_19:4.4
	IIC-0_18-4_5_2_3:4.3.2.2
	IIC-0_18-4_5_2_2:4.3.2.1
	IIC-0_18-4_5_2_1:4.3
	HAL:4.3.0.2
	dellis_autobuild_BaseSW:4.3
	IIC-0_18:4.3
	IIC-0_17:4.2
	sbrodie_sedwards_16Mar2000:4.2
	IIC-0_16:4.2
	dcotton_Ursula_merge:4.1.4.1
	IIC-0_15:4.2
	dcotton_autobuild_BaseSW:4.3
	nturton_IIC-0_14:4.1
	mstphens_UrsulaRiscPCBuild_20Nov98:4.1.4.1
	Ursula_RiscPC:4.1.4.1.0.2
	nicke_IIC_0_14:4.1.7.1
	rthornb_UrsulaBuild-19Aug1998:4.1.4.1
	UrsulaBuild_FinalSoftload:4.1.4.1
	rthornb_UrsulaBuild-12Aug1998:4.1.4.1
	aglover_UrsulaBuild-05Aug1998:4.1.4.1
	rthornb_UrsulaBuild-29Jul1998:4.1.4.1
	rthornb_UrsulaBuild-22Jul1998:4.1.4.1
	hsimons_BOCA-1_2-Release:4.1.7.1
	rthornb_UrsulaBuild-15Jul1998:4.1.4.1
	rthornb_UrsulaBuild-07Jul1998:4.1.4.1
	rthornb_UrsulaBuild-17Jun1998:4.1.4.1
	rthornb_UrsulaBuild-03Jun1998:4.1.4.1
	rthornb_UrsulaBuild-27May1998:4.1.4.1
	rthornb_UrsulaBuild-21May1998:4.1.4.1
	rthornb_UrsulaBuild_01May1998:4.1.4.1
	Spinner_B20_2:4.1.7.1
	Spinner_19_3:4.1.7.1
	Spinner_B18:4.1.7.1
	Spinner_B17:4.1.7.1
	Spinner_B15:4.1.7.1
	Spinner_B14:4.1.7.1
	Spinner_B13:4.1.7.1
	Spinner_B12:4.1.7.1
	Spinner_B10:4.1.7.1
	Daytona:4.1.0.6
	Daytona_bp:4.1
	Ursula:4.1.0.4
	Ursula_bp:4.1
	Spinner_B7:4.1.7.1
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	ARTtmp:4.1.7.1.0.2
	RCA:4.1.0.2
	Spin_merge:4.1.7.1
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.5
date	2004.07.31.19.47.19;	author srevill;	state Exp;
branches;
next	4.4;

4.4
date	2001.11.05.14.46.52;	author srevill;	state Exp;
branches;
next	4.3;

4.3
date	2000.08.16.16.01.34;	author dcotton;	state Exp;
branches
	4.3.2.1;
next	4.2;

4.2
date	99.11.12.10.18.34;	author dcotton;	state Exp;
branches;
next	4.1;

4.1
date	96.11.05.09.35.56;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.4.1
	4.1.5.1
	4.1.7.1;
next	;

4.3.2.1
date	2001.05.10.17.11.16;	author kbracey;	state Exp;
branches;
next	4.3.2.2;

4.3.2.2
date	2001.06.21.09.25.39;	author kbracey;	state Exp;
branches;
next	4.3.2.3;

4.3.2.3
date	2004.07.13.14.24.44;	author srevill;	state Exp;
branches;
next	4.3.2.4;

4.3.2.4
date	2016.10.19.07.39.14;	author rsprowson;	state Exp;
branches;
next	;
commitid	EOqnaVL5mNeU6Jqz;

4.1.1.1
date	96.11.05.09.35.56;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.06.01.25.23;	author nturton;	state Exp;
branches;
next	;

4.1.4.1
date	98.03.26.14.59.25;	author rthornb;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.11.52.11;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.20.46.53;	author nturton;	state Exp;
branches;
next	;


desc
@@


4.5
log
@  Moved to use shared makefiles and objasm
Admin:
  Tested in STB Baseline build.

Version 0.20. Tagged as 'IIC-0_20'
@
text
@# Copyright 1996 Acorn Computers Ltd
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Makefile for IIC
#
# ***********************************
# ***    C h a n g e   L i s t    ***
# ***********************************
# Date       Name         Description
# ----       ----         -----------
# 10-May-01  KJB          Nicked
#

COMPONENT     = IIC
TARGET       ?= ${COMPONENT}
ROM_SOURCE    = s.IICMod

HEADER1       = IIC

include StdTools
include AAsmModule

# Dynamic dependencies:
@


4.4
log
@  Added a ram install phase.
Detail:
  Makefile did not have a ram install phase. Added.
Admin:
  Required for the Baseline build process.

Version 0.19. Tagged as 'IIC-0_19'
@
text
@d22 1
a22 1
# 25-May-94  AMcC         Created.
d25 3
a27 52
#
# Paths
#
EXP_HDR = <export$dir>

#
# Generic options:
#
MKDIR   = cdir
AS      = aasm
CP      = copy
RM      = remove
STRIP   = stripdepnd

CCFLAGS = -c -depend !Depend -IC:
ASFLAGS = -depend !Depend -Stamp -quit -module -To $@@ -From
CPFLAGS = ~cfr~v

#
# Program specific options:
#
COMPONENT = IIC
SOURCE    = s.IICMod
TARGET    = rm.IIC
EXPORTS   = ${EXP_HDR}.${COMPONENT}

#
# Generic rules:
#
rom: ${TARGET}
        @@echo ${COMPONENT}: rom module built

export: ${EXPORTS}
        @@echo ${COMPONENT}: export complete

install: ${TARGET}
        ${CP} ${TARGET} ${INSTDIR}.${COMPONENT} ${CPFLAGS}
        @@echo ${COMPONENT}: ram module installed

install_rom: ${TARGET}
        ${CP} ${TARGET} ${INSTDIR}.${COMPONENT} ${CPFLAGS}
        @@echo ${COMPONENT}: rom module installed

clean:
        ${RM} ${TARGET}
        ${STRIP}
        @@echo ${COMPONENT}: cleaned

resources:
        ${MKDIR} ${RESDIR}.${COMPONENT}
        ${CP} Resources.${LOCALE}.Messages  ${RESDIR}.${COMPONENT}.Messages  ${CPFLAGS}
        @@echo ${COMPONENT}: resource files copied
d29 1
a29 2
${TARGET}: ${SOURCE}
        ${AS} ${ASFLAGS} ${SOURCE}
d31 2
a32 2
${EXP_HDR}.${COMPONENT}: hdr.${COMPONENT}
        ${CP} hdr.${COMPONENT} $@@ ${CPFLAGS}
@


4.3
log
@	Makefile now uses LocalRes.
Detail:
	Customer F 8 includes the IIC module, and the resources were not being
copied in the build due to there being no Japanese versions of them.
Component has been altered to use LocalRes so that the UK resources are used
if suitable Locale-based ones are not pesent.
Admin:
	Tested locally.

Version 0.18. Tagged as 'IIC-0_18'
@
text
@d60 4
d75 1
a75 1
        ${CP} LocalRes:Messages  ${RESDIR}.${COMPONENT}.Messages  ${CPFLAGS}
@


4.3.2.1
log
@Changed to use ObjAsm and centralised Makefiles. Some 32-bit fixes.

Version 0.18, 4.5.2.2. Tagged as 'IIC-0_18-4_5_2_2'
@
text
@d22 1
a22 1
# 10-May-01  KJB          Nicked
d25 51
a75 2
COMPONENT     = IIC
ROM_SOURCE    = s.IICMod
d77 2
a78 2
include StdTools
include AAsmModule
@


4.3.2.2
log
@Magic "HEADER1" thing added to the pseudo-makefile so it exports its header
file again.

Version 0.18, 4.5.2.3. Tagged as 'IIC-0_18-4_5_2_3'
@
text
@a27 2
HEADER1       = IIC

@


4.3.2.3
log
@  Changed Makefile to make building easier
Admin:
  Tested in STB Baseline build

Version 0.18, 4.5.2.5. Tagged as 'IIC-0_18-4_5_2_5'
@
text
@a25 1
TARGET       ?= ${COMPONENT}
@


4.3.2.4
log
@Error number alignment & minor tidying
The trunk version of IIC uses &20301 as "IIC in use" by defining it locally at the top of the source, whereas the RISC OS 5 kernel (using the HAL branch of IIC) uses &20302. Since the trunk version with reentrancy checking was only ever shipped in STBs, take the allocation in Hdr:NewErrors as gospel and swap to using that.
Other minor tidying:
* Use Push/Pull instead of STM/LDM
* Beef up some comments
* Use Unix style filenames in the Makefile
Built, but not tested.

Version 0.18, 4.5.2.9. Tagged as 'IIC-0_18-4_5_2_9'
@
text
@d27 1
a27 1
ROM_SOURCE    = IICMod.s
@


4.2
log
@	Updated this component onto the trunk.

Detail:
	Merged Ursula branch.
	Placed component under srccommit control.
	Strdepend now used in clean target.

 Admin:
 	Built.

Version 0.15. Tagged as 'IIC-0_15'
@
text
@d71 1
a71 1
        ${CP} Resources.${LOCALE}.Messages  ${RESDIR}.${COMPONENT}.Messages  ${CPFLAGS}
@


4.1
log
@Initial revision
@
text
@d37 2
d66 1
a80 14
rm.IIC: Hdr:ListOpts
rm.IIC: Hdr:Macros
rm.IIC: Hdr:System
rm.IIC: Hdr:SWIs
rm.IIC: Hdr:CPU.Generic26
rm.IIC: Hdr:IO.GenericIO
rm.IIC: Hdr:RISCOS
rm.IIC: Hdr:ModHand
rm.IIC: Hdr:Services
rm.IIC: Hdr:Proc
rm.IIC: Hdr:FSNumbers
rm.IIC: Hdr:NewErrors
rm.IIC: Hdr:MsgTrans
rm.IIC: Hdr:IIC
@


4.1.4.1
log
@Removed dynamic dependancies from Makefiles and removed all reference to Prefix
@
text
@d78 14
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.5.1
log
@Import from SrcFiler
@
text
@@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
