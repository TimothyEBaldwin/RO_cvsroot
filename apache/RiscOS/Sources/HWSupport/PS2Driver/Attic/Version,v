head	4.7;
access;
symbols
	PS2Driver-0_38:4.6
	PS2Driver-0_37:4.6
	PS2Driver-0_36:4.6
	PS2Driver-0_35:4.6
	PS2Driver-0_34:4.6
	PS2Driver-0_33:4.6
	PS2Driver-0_32:4.6
	PS2Driver-0_31:4.6
	PS2Driver-0_30:4.6
	PS2Driver-0_29:4.6
	PS2Driver-0_28:4.6
	Ursula_merge:4.3.4.1
	nturton_PS2Driver-0_27:4.5
	mstphens_UrsulaRiscPCBuild_20Nov98:4.3.4.1
	Ursula_RiscPC:4.3.4.1.0.2
	PS2Driver-0_27:4.5
	PS2Driver-0_26:4.5
	nicke_PS2Driver_0_25:4.1.7.8
	rthornb_UrsulaBuild-19Aug1998:4.3.4.1
	UrsulaBuild_FinalSoftload:4.3.4.1
	rthornb_UrsulaBuild-12Aug1998:4.3.4.1
	bavison_PS2Driver-0_20:4.3.4.1
	aglover_UrsulaBuild-05Aug1998:4.3
	rthornb_UrsulaBuild-29Jul1998:4.3
	rthornb_UrsulaBuild-22Jul1998:4.3
	rthornb_UrsulaBuild-15Jul1998:4.3
	rthornb_UrsulaBuild-07Jul1998:4.3
	rthornb_UrsulaBuild-17Jun1998:4.3
	PS2Driver-0_25-1_1_2_2:4.1.7.8
	rthornb_UrsulaBuild-03Jun1998:4.3
	rthornb_UrsulaBuild-27May1998:4.3
	rthornb_UrsulaBuild-21May1998:4.3
	rthornb_UrsulaBuild_01May1998:4.3
	afrost_Funai01-33:4.1.7.7
	afrost_NC2_Generic:4.1.7.6
	Spinner_RCA116:4.1.7.6
	Spinner_B20_2:4.1.7.6
	Spinner_19_3:4.1.7.6
	Spinner_B18:4.1.7.6
	Spinner_B17:4.1.7.6
	Spinner_B15:4.1.7.6
	Spinner_B14:4.1.7.6
	Spinner_B13:4.1.7.6
	Spinner_B12:4.1.7.6
	Spinner_B10:4.1.7.4
	Ursula:4.3.0.4
	Ursula_bp:4.3
	Spinner_B7:4.1.7.4
	Daytona_bp:4.3
	Daytona:4.3.0.2
	RO_3_71:4.1.3.2
	ARTtmp_merge:4.1.7.2
	Spin_3Apr97:4.1.7.3
	RCA_bp:4.2
	ARTtmp:4.1.7.2.0.2
	RCA:4.2.0.4
	Spin_merge:4.1.7.8
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.7
date	2012.03.02.23.09.43;	author rsprowson;	state dead;
branches;
next	4.6;
commitid	yTfY0p2OpEu6EmVv;

4.6
date	99.08.04.18.35.24;	author kbracey;	state Exp;
branches;
next	4.5;

4.5
date	98.09.04.07.46.35;	author kbracey;	state Exp;
branches;
next	4.4;

4.4
date	98.08.06.15.01.24;	author kbracey;	state Exp;
branches;
next	4.3;

4.3
date	97.05.02.11.52.50;	author kbracey;	state Exp;
branches
	4.3.4.1;
next	4.2;

4.2
date	97.01.21.09.55.25;	author nturton;	state Exp;
branches;
next	4.1;

4.1
date	96.11.05.09.37.07;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.3.4.1
date	98.08.11.14.46.38;	author bavison;	state Exp;
branches;
next	;

4.1.1.1
date	96.11.05.09.37.07;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.06.01.38.41;	author nturton;	state Exp;
branches
	4.1.3.1.2.1;
next	4.1.3.2;

4.1.3.2
date	97.05.01.14.37.25;	author kbracey;	state Exp;
branches;
next	;

4.1.3.1.2.1
date	97.04.30.13.54.07;	author kbracey;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.12.00.16;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.20.53.04;	author nturton;	state Exp;
branches;
next	4.1.7.2;

4.1.7.2
date	97.03.10.16.20.23;	author tdobson;	state Exp;
branches;
next	4.1.7.3;

4.1.7.3
date	97.03.21.09.45.38;	author tdobson;	state Exp;
branches;
next	4.1.7.4;

4.1.7.4
date	97.04.23.17.34.28;	author tdobson;	state Exp;
branches;
next	4.1.7.5;

4.1.7.5
date	97.06.03.09.22.42;	author scormie;	state Exp;
branches;
next	4.1.7.6;

4.1.7.6
date	97.06.03.15.42.10;	author scormie;	state Exp;
branches;
next	4.1.7.7;

4.1.7.7
date	98.03.27.14.08.32;	author olove;	state Exp;
branches;
next	4.1.7.8;

4.1.7.8
date	98.06.05.13.53.48;	author smiddle;	state Exp;
branches;
next	;


desc
@@


4.7
log
@Changed KEYV_thing to KeyV_thing to match Hdr:Keyboard.

Version 0.39. Tagged as 'PS2Driver-0_39'
@
text
@; > Version

;---------------------------------------------------------------------------
;       Change history.
;
; 21-Mar-94     0.01    RCM     Created.
; 24-Aug-94     0.02    RCM     Switched off debugging output
;                               Added delay to ensure reliable mouse
;                               verses keyboard detection
; 24-Aug-94     0.03    RCM     Put 0.02 back because source filer
;                               got its knickers in a twist and kept an
;                               out of date version of s.PS2driver
; 16-Sep-94     0.04    SMC     Internationalised mouse type record building code properly
;                               (no longer assumes name string is <= 30 chars).
;                               Also set international flag to true and open PS2Driver.Messages
;                               rather than SerMouse.Messages.
; 14-Oct-94     0.05    RCM     Support for Stork keyboard.
; 14-Oct-94     0.06    RCM     Flag change to assemble for Morris - SecondPort set TRUE.
;
; 02-Nov-94     0.08    RCM     Remove debugging hotkey (ie stop AltGr reseting driver).
; 03-Nov-94     0.09    RCM     Tidied up a few comments.
; 02-Dec-94     0.10    RCM     Add KEYV code to allow interrogation of device type.
; 16-Dec-94     0.11    RCM     Altered device identification method to prevent flushing
;                               of devices internal buffer. Allows poweron-* to work again.
; 13-Jan-95     0.12    RCM     Programmed the mouse resolution as 400dpi mouse appears
;                               to default to 200dpi. Fix MED-04334.
; 30-Jan-95     0.13    RCM     Fix slow changing of LEDS problem, ie MED-04488.
; 24-Mar-95     0.14    RCM     Fix control key jammed down problem, ie MED-04434.
; 11-May-95     0.15    RCM     Extend key mapping tables to cope with 'dot' keys for
;                               brightness/contrast, freeze etc. see StorkExtraKeys.
; 19-Jun-95     0.16    RCM     Extend key mapping tables to cope with On/Off, see StorkExtraKeys.
; 03-Jul-95     0.17    RCM     Watch for 'Service_Portable' and suspend/reset channels as they
;                               are powered down/up.
; 12-Jul-96	0.18	TMD	Modified check for ARM7500 to include ARM7500FE.
; 20-Jan-97     0.19    NDT     Merged from RiscOS 3.70 and NCOS 1.06
; 07-Mar-97	0.19	TMD	Added extra table to cope with new RCA PS/2 codes.
; 19-Mar-97	0.20	TMD	Added code to check for FUNC + digit -> Fdigit.
; 23-Apr-97	0.21	TMD	Added new codes for IDEA keyboard.
; 03-Jun-97     0.22    SMC     Added support for POWER button on RCA keyboard.
; 03-Jun-97     0.23    SMC     Fixed support for POWER button on RCA keyboard.
; 27-Mar-98     0.24    SMC     Added support for POWER key on Funai keyboard.
; 05-Jun-98     0.25    SJM     Merged in Windows keys from trunk. Made the Funai WinR to POWER
;				mapping conditional as the definitions clash.
; 06-Aug-98     0.20    KJB     New codes for Win95 keyboard + Japanese keys
; 04-Aug-99     0.28    KJB     Service call table added.

; SJM: note all version definitions come from VersionNum since 0.25

        END
@


4.6
log
@Service call table added.

Version 0.28. Tagged as 'PS2Driver-0_28'
@
text
@@


4.5
log
@Merged Spinner branch.
Changed Makefile to use LocalRes:
@
text
@d45 1
@


4.4
log
@Incremented version number to 0.20 to mark addition of Win95+Japanese keys.
@
text
@d36 8
a44 1
;
d46 1
a46 3
        GBLA    Version
        GBLS    VString
        GBLS    Date
d48 1
a48 5
Version SETA    020
VString SETS    "0.20"
Date    SETS    "06 Aug 1998"

        END        
@


4.3
log
@Merged from RO_3_71
@
text
@d36 1
d43 3
a45 3
Version SETA    019
VString SETS    "0.19"
Date    SETS    "20 Jan 1997"
@


4.3.4.1
log
@Merged in version 0.20 from trunk, to support Win95 keys on test Risc PCs.
@
text
@a35 1
; 06-Aug-98     0.20    KJB     New codes for Win95 keyboard + Japanese keys
d42 3
a44 3
Version SETA    020
VString SETS    "0.20"
Date    SETS    "07 Aug 1998"
@


4.2
log
@Module merged
@
text
@d36 1
@


4.1
log
@Initial revision
@
text
@d29 7
a35 1
;
d41 3
a43 3
Version SETA    014
VString SETS    "0.14"
Date    SETS    "24 Mar 1995"
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@a28 6
; 11-May-95     0.15    RCM     Extend key mapping tables to cope with 'dot' keys for
;                               brightness/contrast, freeze etc. see StorkExtraKeys.
; 19-Jun-95     0.16    RCM     Extend key mapping tables to cope with On/Off, see StorkExtraKeys.
; 03-Jul-95     0.17    RCM     Watch for 'Service_Portable' and suspend/reset channels as they
;                               are powered down/up.
; 12-Jul-96	0.18	TMD	Modified check for ARM7500 to include ARM7500FE.
d35 3
a37 3
Version SETA    018
VString SETS    "0.18"
Date    SETS    "12 Jul 1996"
@


4.1.7.2
log
@ 07-Mar-97	0.19	TMD	Added extra table to cope with new
				 RCA PS/2 codes.
@
text
@a34 1
; 07-Mar-97	0.19	TMD	Added extra table to cope with new RCA PS/2 codes.
d41 3
a43 3
Version SETA    019
VString SETS    "0.19"
Date    SETS    "07 Mar 1997"
@


4.1.7.3
log
@Version 0.20 TMD - Added changes to make FUNC+digit into Fdigit.
@
text
@a35 1
; 19-Mar-97	0.20	TMD	Added code to check for FUNC + digit -> Fdigit.
d42 3
a44 3
Version SETA    020
VString SETS    "0.20"
Date    SETS    "19 Mar 1997"
d46 1
a46 1
        END
@


4.1.7.4
log
@Version 0.21: TMD Added support for IDEA 122-key keyboard.
@
text
@a36 1
; 23-Apr-97	0.21	TMD	Added new codes for IDEA keyboard.
d43 3
a45 3
Version SETA    021
VString SETS    "0.21"
Date    SETS    "23 Apr 1997"
@


4.1.7.5
log
@Added support for POWER key on RCA keyboard.
@
text
@a37 1
; 03-Jun-97     0.22    SMC     Added support for POWER button on RCA keyboard.
d44 3
a46 3
Version SETA    022
VString SETS    "0.22"
Date    SETS    "03 Jun 1997"
@


4.1.7.6
log
@Fixed handling of POWER key for RCA keyboard.
@
text
@a38 1
; 03-Jun-97     0.23    SMC     Fixed support for POWER button on RCA keyboard.
d45 2
a46 2
Version SETA    023
VString SETS    "0.23"
@


4.1.7.7
log
@Updated version number.
@
text
@d40 1
a40 1
; 27-Mar-98     0.24    SMC     Added support for POWER key on Funai keyboard.
d46 3
a48 3
Version SETA    024
VString SETS    "0.24"
Date    SETS    "27 Mar 1998"
@


4.1.7.8
log
@Merged in the new Windows keys definitions that have been added to the Trunk version of
this module. This results in a clash as the righ Windows key has a proper definition but
the Funai NC build expects it to generate the same code as the handset POWER key. At some
point the module that relies on this code (presumably Standby) should be changed to pick up
the correct code. In the mean time there is a variable to control which mapping is used and
it set to use the correct mapping. Beware - if this module is used in a Funai build it will
need changing back.
Also converted the module to use srccommit (of course).

Version 0.25, 1.1.2.2. Tagged as 'PS2Driver-0_25-1_1_2_2'
@
text
@a40 2
; 05-Jun-98     0.25    SJM     Merged in Windows keys from trunk. Made the Funai WinR to POWER
;				mapping conditional as the definitions clash.
d42 7
a48 1
; SJM: note all version definitions come from VersionNum since 0.25
@


4.1.5.1
log
@Import from SrcFiler
@
text
@a28 6
; 11-May-95     0.15    RCM     Extend key mapping tables to cope with 'dot' keys for
;                               brightness/contrast, freeze etc. see StorkExtraKeys.
; 19-Jun-95     0.16    RCM     Extend key mapping tables to cope with On/Off, see StorkExtraKeys.
; 03-Jul-95     0.17    RCM     Watch for 'Service_Portable' and suspend/reset channels as they
;                               are powered down/up.
; 12-Jul-96	0.18	TMD	Modified check for ARM7500 to include ARM7500FE.
d35 3
a37 3
Version SETA    018
VString SETS    "0.18"
Date    SETS    "12 Jul 1996"
@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@a28 5
; 11-May-95     0.15    RCM     Extend key mapping tables to cope with 'dot' keys for
;                               brightness/contrast, freeze etc. see StorkExtraKeys.
; 19-Jun-95     0.16    RCM     Extend key mapping tables to cope with On/Off, see StorkExtraKeys.
; 03-Jul-95     0.17    RCM     Watch for 'Service_Portable' and suspend/reset channels as they
;                               are powered down/up.
d35 3
a37 3
Version SETA    017
VString SETS    "0.17"
Date    SETS    "03 Jul 1995"
@


4.1.3.2
log
@Version RO_3_71 taken
@
text
@a33 1
; 06-Dec-96     0.18    ???     Assume Morris-type chip for unknown IOMD IDs, not IOMD.
d40 3
a42 3
Version SETA    018
VString SETS    "0.18"
Date    SETS    "06 Dec 1996"
@


4.1.3.1.2.1
log
@Merge from 3.71 CD
@
text
@a33 1
; 06-Dec-96     0.18    ???     Assume Morris-type chip for unknown IOMD IDs, not IOMD.
d40 3
a42 3
Version SETA    018
VString SETS    "0.18"
Date    SETS    "06 Dec 1996"
@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
