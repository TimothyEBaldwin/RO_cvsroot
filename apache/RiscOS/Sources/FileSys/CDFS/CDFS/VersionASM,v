head	1.32;
access;
symbols
	CDFS-2_63:1.32
	CDFS-2_62:1.31
	CDFS-2_61:1.30
	CDFS-2_60:1.29
	CDFS-2_59:1.28
	CDFS-2_58:1.27
	CDFS-2_57:1.26
	CDFS-2_56:1.25
	CDFS-2_55:1.24
	CDFS-2_54:1.23
	CDFS-2_53:1.21
	CDFS-2_52:1.20
	CDFS-2_51:1.18
	CDFS-2_50:1.17
	CDFS-2_49:1.16
	CDFS-2_48:1.15
	RO_5_07:1.14
	CDFS-2_47:1.14
	CDFS-2_46:1.13
	CDFS-2_45:1.12
	CDFS-2_44:1.11
	CDFS-2_43:1.10
	CDFS-2_42:1.9
	CDFS-2_41:1.8
	CDFS-2_40:1.7
	CDFS-2_39:1.6
	CDFS-2_38:1.5
	CDFS-2_37:1.4
	CDFS-2_35:1.3
	dcotton_autobuild_BaseSW:1.2
	CDFS-2_30:1.2;
locks; strict;
comment	@# @;


1.32
date	2016.05.08.16.52.43;	author jlee;	state Exp;
branches;
next	1.31;
commitid	rsdrFYAPguHCrH5z;

1.31
date	2015.07.11.09.21.04;	author rsprowson;	state Exp;
branches;
next	1.30;
commitid	TEToI1r4jZ6xEQsy;

1.30
date	2013.08.15.14.24.49;	author rsprowson;	state Exp;
branches;
next	1.29;
commitid	5ab0m7C1cVfMFy1x;

1.29
date	2013.08.15.14.12.55;	author rsprowson;	state Exp;
branches;
next	1.28;
commitid	6zDw3cu1Q3LIBy1x;

1.28
date	2013.07.15.20.36.55;	author rsprowson;	state Exp;
branches;
next	1.27;
commitid	ArzVzGqij5ueJBXw;

1.27
date	2013.07.15.20.32.31;	author rsprowson;	state Exp;
branches;
next	1.26;
commitid	1xVe2mCotd6JHBXw;

1.26
date	2013.03.29.11.04.29;	author rsprowson;	state Exp;
branches;
next	1.25;
commitid	LFLy3SDDryC52GJw;

1.25
date	2012.04.22.15.48.21;	author rsprowson;	state Exp;
branches;
next	1.24;
commitid	bybtPibvH0K2zS1w;

1.24
date	2012.04.22.11.13.07;	author rsprowson;	state Exp;
branches;
next	1.23;
commitid	FhAGZUD5Y3dD2R1w;

1.23
date	2012.04.22.11.08.55;	author rsprowson;	state Exp;
branches;
next	1.22;
commitid	MNiwWuPGZIIb1R1w;

1.22
date	2012.04.22.11.04.24;	author rsprowson;	state Exp;
branches;
next	1.21;
commitid	6PVuneYjhUEDZQ1w;

1.21
date	2012.04.21.21.56.31;	author rsprowson;	state Exp;
branches;
next	1.20;
commitid	LsBEkd8YV89lDM1w;

1.20
date	2012.04.14.20.12.32;	author rsprowson;	state Exp;
branches;
next	1.19;
commitid	7fHfwG83pDVChS0w;

1.19
date	2012.04.14.11.10.01;	author rsprowson;	state Exp;
branches;
next	1.18;
commitid	uK3bJtKbkWCvhP0w;

1.18
date	2012.02.03.22.45.09;	author rsprowson;	state Exp;
branches;
next	1.17;
commitid	NJZZofmkzRwtpLRv;

1.17
date	2011.12.07.00.11.38;	author jlee;	state Exp;
branches;
next	1.16;
commitid	RArFkKa8dlsJMbKv;

1.16
date	2009.05.17.02.56.31;	author bavison;	state Exp;
branches;
next	1.15;

1.15
date	2005.04.22.21.47.47;	author jballance;	state Exp;
branches;
next	1.14;

1.14
date	2003.01.08.11.38.14;	author bavison;	state Exp;
branches;
next	1.13;

1.13
date	2002.11.26.20.13.00;	author bavison;	state Exp;
branches;
next	1.12;

1.12
date	2002.11.26.17.24.28;	author bavison;	state Exp;
branches;
next	1.11;

1.11
date	2002.11.25.16.16.57;	author bavison;	state Exp;
branches;
next	1.10;

1.10
date	2002.11.22.21.19.35;	author bavison;	state Exp;
branches;
next	1.9;

1.9
date	2002.11.22.15.14.14;	author kbracey;	state Exp;
branches;
next	1.8;

1.8
date	2002.11.22.15.05.38;	author bavison;	state Exp;
branches;
next	1.7;

1.7
date	2002.11.08.19.48.57;	author bavison;	state Exp;
branches;
next	1.6;

1.6
date	2002.11.07.18.25.44;	author bavison;	state Exp;
branches;
next	1.5;

1.5
date	2002.11.04.21.21.40;	author bavison;	state Exp;
branches;
next	1.4;

1.4
date	2002.11.01.20.16.22;	author bavison;	state Exp;
branches;
next	1.3;

1.3
date	2002.11.01.19.47.43;	author bavison;	state Exp;
branches;
next	1.2;

1.2
date	2000.11.30.11.44.22;	author jberanek;	state Exp;
branches;
next	1.1;

1.1
date	2000.11.30.11.42.41;	author jberanek;	state Exp;
branches;
next	;


desc
@@


1.32
log
@Avoid unnecessary remainder calculations
Detail:
  s/EntryFile, s/FileMan, s/Misc - Avoid unnecessary remainder calculation in DivRem macro
Admin:
  Tested on Cortex-A15


Version 2.63. Tagged as 'CDFS-2_63'
@
text
@;
; This file is automatically maintained by srccommit, do not edit manually.
; Last processed by srccommit version: 1.1.
;
                        GBLS    Module_MajorVersion
                        GBLA    Module_Version
                        GBLS    Module_MinorVersion
                        GBLS    Module_Date
                        GBLS    Module_FullVersion
                        GBLS    Module_ApplicationDate
                        GBLS    Module_HelpVersion
                        GBLS    Module_ComponentName
                        GBLS    Module_ComponentPath
Module_MajorVersion     SETS    "2.63"
Module_Version          SETA    263
Module_MinorVersion     SETS    ""
Module_Date             SETS    "08 May 2016"
Module_ApplicationDate  SETS    "08-May-16"
Module_ComponentName    SETS    "CDFS"
Module_ComponentPath    SETS    "castle/RiscOS/Sources/FileSys/CDFS/CDFS"
Module_FullVersion      SETS    "2.63"
Module_HelpVersion      SETS    "2.63 (08 May 2016)"
                        END
@


1.31
log
@Reclassify *CDDevices
Unlike SCSI/USB/PCI/SDIO device list commands, *CDDevices required CDFS to be the active filing system. Remove the FS flag from its command table entry so it can be entered at other times.
Tested briefly, drive was listed with SCSIFS active.

Version 2.62. Tagged as 'CDFS-2_62'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.62"
Module_Version          SETA    262
d17 2
a18 2
Module_Date             SETS    "11 Jul 2015"
Module_ApplicationDate  SETS    "11-Jul-15"
d21 2
a22 2
Module_FullVersion      SETS    "2.62"
Module_HelpVersion      SETS    "2.62 (11 Jul 2015)"
@


1.30
log
@Add support for Joliet format CD-ROMs
hdr/Hashes
s/Directory
s/EntryFile
s/FileMan
s/Filer
s/Free
 - mass search and replace of lots of poorly named definitions, removing unused ones, creating implicit ones
hdr/MyMacros
 - shuffle some registers in ConvertToArchyDate to save one temporary so it can be used for something else
 - moved ReplaceBadCharacters here
hdr/Options
 - extra debug option
s/DiscOp
 - add Joliet, rename buffer indicies per hdr/Hashes
 - the fallback filetype assignment (when neither the ARCHIMEDES system extension nor MimeMap can help) can now be overridden by setting CDFS$DefaultType (which defaults to &FFD)
s/SWI
 - remove DAT<->MPEG mapping from the internal mapping table
s/Variables
 - trim out unused SWI_buffer reservation

Tested with valid ISO/Joliet/RockRidge supported combinations, documented in Docs/Combos, and accompanying test ISO images now stored there.
Tested with CD-I format disc 'Jigsaw' from Britannica.
Tested with High Sierra format disc 'Kings Quest V'.
Tested with photo CD sampler from Kodak.

Version 2.61. Tagged as 'CDFS-2_61'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.61"
Module_Version          SETA    261
d17 2
a18 2
Module_Date             SETS    "15 Aug 2013"
Module_ApplicationDate  SETS    "15-Aug-13"
d21 2
a22 2
Module_FullVersion      SETS    "2.61"
Module_HelpVersion      SETS    "2.61 (15 Aug 2013)"
@


1.29
log
@Various CDFS enhancements
* Increase BGET/BPUT buffer declared to FileSwitch to 2k to match the natural sector size (FileSwitch has been able to support this since version 2.28)
* Remove local debug macros, use those from NDRDebug instead
* Change to use SETV/CLRV macros now the ones in HdrSrc are 26/32 neutral
* Clarify those situations where LBA mode is being selected by using symbol 'LBAFormat'
* Extend *WHICHDISC to allow an optional drive number to be provided (the code has existed for years, but the GSTrans flags and help denied its use)

Version 2.60. Tagged as 'CDFS-2_60'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.60"
Module_Version          SETA    260
d21 2
a22 2
Module_FullVersion      SETS    "2.60"
Module_HelpVersion      SETS    "2.60 (15 Aug 2013)"
@


1.28
log
@Replace indexes into PVD with sensible names
All references into the PVD now use defines rather than mystic numbers.
Fix in CutSpace for 2 letter CD titles being cropped to 1 letter.
Tested with 2 letter CD ISO and with a photo CD/ISO9660/CD-I test disc.

Version 2.59. Tagged as 'CDFS-2_59'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.59"
Module_Version          SETA    259
d17 2
a18 2
Module_Date             SETS    "15 Jul 2013"
Module_ApplicationDate  SETS    "15-Jul-13"
d21 2
a22 2
Module_FullVersion      SETS    "2.59"
Module_HelpVersion      SETS    "2.59 (15 Jul 2013)"
@


1.27
log
@Correction to error number
&1089E is in the allocation for ADFS (filing system 8) not CDFS.

Version 2.58. Tagged as 'CDFS-2_58'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.58"
Module_Version          SETA    258
d21 2
a22 2
Module_FullVersion      SETS    "2.58"
Module_HelpVersion      SETS    "2.58 (15 Jul 2013)"
@


1.26
log
@Fixes for ISO format DVDs
The report for *CDDEVICES didn't line up properly for media > 999MB.
Tentative fix for DVDs formatted with directories placed above the 4GB boundary.

DiscOp.s: Preshift the directory block offset so it doesn't overflow for a DVD.
Filer.s/Free.s: Use LBA definition instead of 0.
Misc.s: Rework capacity display to handle up to 9999MB. Note, unlike OS_ConvertFileSize which rounds at 4096MB to 4GB we always express the result in MB.

Tested with a selection of CDs and DVDs from 10MB to 4800MB, all line up nicely.
The reporter of the directory issue, Steffen Huber, has been unable to test this change in time, but it should be low risk.

Version 2.57. Tagged as 'CDFS-2_57'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.57"
Module_Version          SETA    257
d17 2
a18 2
Module_Date             SETS    "29 Mar 2013"
Module_ApplicationDate  SETS    "29-Mar-13"
d21 2
a22 2
Module_FullVersion      SETS    "2.57"
Module_HelpVersion      SETS    "2.57 (29 Mar 2013)"
@


1.25
log
@Fix a few bugs
When lining up the code in 2.52, a few bugs became apparent (now the source was readable).
* In a handful of places it was assumed SWIs preserved flags, these have been reordered or branched around.
* The probe of UtilityModule 2.12 has been set to 3.00 and the logic now considers >= 3.00 rather than subtracting 1 from it to deduce the default filename truncation value.
* Removed support for supplemental filetype table in CDFSNewFileTypePath$File as this has been superceded by the MimeMap module (which CDFS uses). This mirrors the behaviour of DOSFS and LanManFS which consult the MimeMap first then (small) internal table second.
* Fix stack imbalance when reading the current setting with CDFS_Truncation leading to an abort

Other changes
* When the MimeMap module is absent ".doc" is taken to be a MS Word document.
* Changed the manual loads from :INDEX: of R12 to be ADR's or ADRL's so there's less literal pool thrashing.
* Three Push/Pull sequences to restore registers swapped for LDMIA's (in Directory.s).
* Reason codes to OS_ SWIs swapped for header file names.


Version 2.56. Tagged as 'CDFS-2_56'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.56"
Module_Version          SETA    256
d17 2
a18 2
Module_Date             SETS    "22 Apr 2012"
Module_ApplicationDate  SETS    "22-Apr-12"
d21 2
a22 2
Module_FullVersion      SETS    "2.56"
Module_HelpVersion      SETS    "2.56 (22 Apr 2012)"
@


1.24
log
@CDDriver error numbers taken from header file.
Note: CDFS' error block is actually offset within CDDriver's (by 64).
The report for *CDDevices now lines up properly with disc sizes < 100MB.
The syntax error for *PlayMSF no longer uses MessageTrans_GSLookup which tried to substitute the <> arguments.
Non internationalised module now has syntax error messages too.

Version 2.55. Tagged as 'CDFS-2_55'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.55"
Module_Version          SETA    255
d21 2
a22 2
Module_FullVersion      SETS    "2.55"
Module_HelpVersion      SETS    "2.55 (22 Apr 2012)"
@


1.23
log
@Exchange local definitions for central ones.
Hdr:HighFSI LowFSI Services CDROM CMOS UpCall and CDFS now used in preference to local definitions.
Macro 'Command' used to build the keyword table.
Some asserts added for safety.


Version 2.54. Tagged as 'CDFS-2_54'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.54"
Module_Version          SETA    254
d21 2
a22 2
Module_FullVersion      SETS    "2.54"
Module_HelpVersion      SETS    "2.54 (22 Apr 2012)"
@


1.22
log
@Collapse old switches.
Switches from 10+ years ago removed. Demo version switch removed.

Version 2.53. Not tagged
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.53"
Module_Version          SETA    253
d21 2
a22 2
Module_FullVersion      SETS    "2.53"
Module_HelpVersion      SETS    "2.53 (22 Apr 2012)"
@


1.21
log
@Resolve the 32 assembler warnings
Mostly by swapping STASH/GRAB for Push/Pull macros.
Inlined the module header rather than defining it in a header file.
Renamed "Debug" macro to "DebugInline" to avoid clash with similarly named macro.

Version 2.53. Tagged as 'CDFS-2_53'
@
text
@d17 2
a18 2
Module_Date             SETS    "21 Apr 2012"
Module_ApplicationDate  SETS    "21-Apr-12"
d22 1
a22 1
Module_HelpVersion      SETS    "2.53 (21 Apr 2012)"
@


1.20
log
@Updated to use Hdr:MimeMap
Some explicit single register LDM/STM changed to LDR/STR equivalents

Version 2.52. Tagged as 'CDFS-2_52'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.52"
Module_Version          SETA    252
d17 2
a18 2
Module_Date             SETS    "14 Apr 2012"
Module_ApplicationDate  SETS    "14-Apr-12"
d21 2
a22 2
Module_FullVersion      SETS    "2.52"
Module_HelpVersion      SETS    "2.52 (14 Apr 2012)"
@


1.19
log
@Remove conflicting definitions from Hdr:Free
Requires Free-0_41. Not tagged.

Version 2.51. Not tagged
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.51"
Module_Version          SETA    251
d21 2
a22 2
Module_FullVersion      SETS    "2.51"
Module_HelpVersion      SETS    "2.51 (14 Apr 2012)"
@


1.18
log
@Swap round syntax and help tokens for *DISMOUNT
Help first, syntax last.

Version 2.51. Tagged as 'CDFS-2_51'
@
text
@d17 2
a18 2
Module_Date             SETS    "03 Feb 2012"
Module_ApplicationDate  SETS    "03-Feb-12"
d22 1
a22 1
Module_HelpVersion      SETS    "2.51 (03 Feb 2012)"
@


1.17
log
@Change drive search order
Detail:
  s/Open - CDFS now searches for drives starting from card 3 instead of card 0.
  This should help things work a bit better when dealing with fake SCSI devices (CDFSSoftATAPI, CDFaker, etc.) - assuming 4 SCSI cards aren't fitted, the fake devices will now all claim the unused SCSI device IDs on card 3 instead of claiming card 0 IDs which may later get used by SCSI or USB devices.
Admin:
  Tested in Iyonix ROM softload


Version 2.50. Tagged as 'CDFS-2_50'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.50"
Module_Version          SETA    250
d17 2
a18 2
Module_Date             SETS    "07 Dec 2011"
Module_ApplicationDate  SETS    "07-Dec-11"
d21 2
a22 2
Module_FullVersion      SETS    "2.50"
Module_HelpVersion      SETS    "2.50 (07 Dec 2011)"
@


1.16
log
@  Build fix
Detail:
  This module uses the LDW macro, so now it needs to include Hdr:CPU.Arch
  to decide whether to use ARMv6 optimisations
Admin:
  Untested, but should be safe

Version 2.49. Tagged as 'CDFS-2_49'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.49"
Module_Version          SETA    249
d17 2
a18 2
Module_Date             SETS    "17 May 2009"
Module_ApplicationDate  SETS    "17-May-09"
d21 2
a22 2
Module_FullVersion      SETS    "2.49"
Module_HelpVersion      SETS    "2.49 (17 May 2009)"
@


1.15
log
@     	Added RockRidge name extension to CDFS and removed
	the 'force uppercase' constraint to render it
	more user friendly.
Detail:
Admin:  castle added IP .. tested at castle.


Version 2.48. Tagged as 'CDFS-2_48'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.2.
d14 2
a15 2
Module_MajorVersion     SETS    "2.48"
Module_Version          SETA    248
d17 2
a18 2
Module_Date             SETS    "22 Apr 2005"
Module_ApplicationDate  SETS    "22-Apr-05"
d20 3
a22 3
Module_ComponentPath    SETS    "RiscOS/Sources/FileSys/CDFS/CDFS"
Module_FullVersion      SETS    "2.48"
Module_HelpVersion      SETS    "2.48 (22 Apr 2005)"
@


1.14
log
@Fixed top-bit-set problem that stopped *Configure from working outside the
desktop. Added GPA capability.

Version 2.47. Tagged as 'CDFS-2_47'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.68.
d14 2
a15 2
Module_MajorVersion     SETS    "2.47"
Module_Version          SETA    247
d17 2
a18 2
Module_Date             SETS    "08 Jan 2003"
Module_ApplicationDate  SETS    "08-Jan-03"
d21 2
a22 2
Module_FullVersion      SETS    "2.47"
Module_HelpVersion      SETS    "2.47 (08 Jan 2003)"
@


1.13
log
@  Grubbing around with * commands.
Detail:
  * Added *Free.
  * Gave *Mount and *Dismount some help, based on the PRMs.
Admin:
  Tested on Tungsten.

Version 2.46. Tagged as 'CDFS-2_46'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.46"
Module_Version          SETA    246
d17 2
a18 2
Module_Date             SETS    "26 Nov 2002"
Module_ApplicationDate  SETS    "26-Nov-02"
d21 2
a22 2
Module_FullVersion      SETS    "2.46"
Module_HelpVersion      SETS    "2.46 (26 Nov 2002)"
@


1.12
log
@  Nice new features.
Detail:
  * Reenabled BootFromCD option, and finished it off (so FSFunc_ReadBoot
    returns 2 (Run) to match the enforced action on booting); booting
    command line changed to "Run $.!BOOT"
  * Added 32-bit and 64-bit ReadFreeSpace FSFunc entries
  * Added support for interfacing with the Free module (so *ShowFree -FS CDFS
    now works)
  * Added missing * in syntax messags for *Lock and *Unlock
Admin:
  Tested on Tungsten.

Version 2.45. Tagged as 'CDFS-2_45'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.45"
Module_Version          SETA    245
d21 2
a22 2
Module_FullVersion      SETS    "2.45"
Module_HelpVersion      SETS    "2.45 (26 Nov 2002)"
@


1.11
log
@  Some more bugfixes.
Detail:
  * Return registers for FSEntry_Func 14, 15 and 19 were getting corrupted
    due to stack manipulations, resulting in aborts inside FileSwitch
    whe enumerating some directories
  * Fixed an assumption of flag preservation across the PromptForDisc
    routine (the one that does UpCalls) that led initially to aborts (fixed
    by some top-bit-set safety measures), then later to bogus "CD-ROM drive
    not known" errors when accessig an object on a CD not currently in a
    drive
Admin:
  Tested on Tungsten.

Version 2.44. Tagged as 'CDFS-2_44'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.44"
Module_Version          SETA    244
d17 2
a18 2
Module_Date             SETS    "25 Nov 2002"
Module_ApplicationDate  SETS    "25-Nov-02"
d21 2
a22 2
Module_FullVersion      SETS    "2.44"
Module_HelpVersion      SETS    "2.44 (25 Nov 2002)"
@


1.10
log
@  Minor bugfixes.
Detail:
  * Fixed a flags-preserving problem with the atoi function called by lots
    of * command handlers
  * Fixed trashing of error messages returned from OS_ReadUnsigned
  * Removed erroneous * from syntax messages for Lock and Unlock
  * Standardised spelling of CD-ROM in messages files (not CDROM or CD ROM)
Admin:
  Tested on Tungsten.

Version 2.43. Tagged as 'CDFS-2_43'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.43"
Module_Version          SETA    243
d17 2
a18 2
Module_Date             SETS    "22 Nov 2002"
Module_ApplicationDate  SETS    "22-Nov-02"
d21 2
a22 2
Module_FullVersion      SETS    "2.43"
Module_HelpVersion      SETS    "2.43 (22 Nov 2002)"
@


1.9
log
@Fixed long-running problems (ie totally non-functionality) of filename
extension mapping. Built-in mappings and file-based mappings now work (and
the module will go on to look at MimeMap if those fail, with ROL's changes).

Version 2.42. Tagged as 'CDFS-2_42'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.42"
Module_Version          SETA    242
d21 2
a22 2
Module_FullVersion      SETS    "2.42"
Module_HelpVersion      SETS    "2.42 (22 Nov 2002)"
@


1.8
log
@  A few fixes.
Detail:
  * Fixed a couple of top-bit-set pointer problems
  * Fixed a couple of places where it was assumed that SWIs preserved flags
  * Uses kernel internationalisation for command help, so full tokenisation
    now works properly
  * Added NdrDebug support
Admin:
  Tested on Tungsten.

Version 2.41. Tagged as 'CDFS-2_41'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.41"
Module_Version          SETA    241
d21 2
a22 2
Module_FullVersion      SETS    "2.41"
Module_HelpVersion      SETS    "2.41 (22 Nov 2002)"
@


1.7
log
@Fixed error returns - the old code in s.Error poked the error pointer into
the stack without taking account of the fact that the GRABALL macro flattens
the stack before pulling the return environment. This typically led to
"Invalid error block" errors.

Version 2.40. Tagged as 'CDFS-2_40'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.40"
Module_Version          SETA    240
d17 2
a18 2
Module_Date             SETS    "08 Nov 2002"
Module_ApplicationDate  SETS    "08-Nov-02"
d21 2
a22 2
Module_FullVersion      SETS    "2.40"
Module_HelpVersion      SETS    "2.40 (08 Nov 2002)"
@


1.6
log
@Fixed a bit of errant non-32-bitness.

Version 2.39. Tagged as 'CDFS-2_39'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.39"
Module_Version          SETA    239
d17 2
a18 2
Module_Date             SETS    "07 Nov 2002"
Module_ApplicationDate  SETS    "07-Nov-02"
d21 2
a22 2
Module_FullVersion      SETS    "2.39"
Module_HelpVersion      SETS    "2.39 (07 Nov 2002)"
@


1.5
log
@  Lots of changes for RISC OS 5.
Detail:
  * Updated to use objasm, shared makefiles and global headers
  * Ripped out lots of RISC OS 2 support code so we can see the wood for the
    trees now
  * 32-bit compatible (a bit of a slog)
  * Now has its own resources phase, replacing the use of the CDFSResources
    module. Also means that messages can now be tokenised properly. For
    good measure, split out CmdHelp tokens into separate file
  * Hopefully fixed more bugs along the way than I introduced. I've seen
    lots of nasty stack imbalances in error cases, but not fixed all of
    them, I'm afraid
Admin:
  Tested briefly on a Risc PC; not enough support modules to run on Tungsten
  yet.

Version 2.38. Tagged as 'CDFS-2_38'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.38"
Module_Version          SETA    238
d17 2
a18 2
Module_Date             SETS    "04 Nov 2002"
Module_ApplicationDate  SETS    "04-Nov-02"
d21 2
a22 2
Module_FullVersion      SETS    "2.38"
Module_HelpVersion      SETS    "2.38 (04 Nov 2002)"
@


1.4
log
@Manual merge of the RISC OS 4.02 version of CDFS (2.37, based upon Acorn's
RiscOS/UnU/OS_Core/FileSys/CDFS/CDFS234 version 2.35).

Tagged as 'CDFS-2_37'
@
text
@d3 1
d10 1
a10 2
                        GBLS    Module_ApplicationDate2
                        GBLS    Module_ApplicationDate4
d14 2
a15 2
Module_MajorVersion     SETS    "2.37"
Module_Version          SETA    237
d17 2
a18 3
Module_Date             SETS    "02 Jun 1999"
Module_ApplicationDate2 SETS    "02-Jun-99"
Module_ApplicationDate4 SETS    "02-Jun-1999"
d21 2
a22 2
Module_FullVersion      SETS    "2.37"
Module_HelpVersion      SETS    "2.37 (02 Jun 1999)"
@


1.3
log
@This is a manual merge of CDFS 2.35 from RiscOS/UnU/OS_Core/CDFS/CDFS234
treating nturton_CDFS-2_29 as the branch point.
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.35"
Module_Version          SETA    235
d17 3
a19 3
Module_Date             SETS    "05 Oct 1995"
Module_ApplicationDate2 SETS    "05-Oct-95"
Module_ApplicationDate4 SETS    "05-Oct-1995"
d22 2
a23 2
Module_FullVersion      SETS    "2.35"
Module_HelpVersion      SETS    "2.35 (05 Oct 1995)"
@


1.2
log
@  Ursula branch merge, plus srccommit usage.
Detail:
  Merged Ursula branch, it just removed dynamic dependencies from
   Makefile.

  Moved to srccommit, changed lots of occurrences of "Version" to module
   version, as defined in "VersionASM".  Removed old "Version" file.
Admin:
  Added stripdepend call into clean rule.


Version 2.30. Tagged as 'CDFS-2_30'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.30"
Module_Version          SETA    230
d17 3
a19 3
Module_Date             SETS    "30 Nov 2000"
Module_ApplicationDate2 SETS    "30-Nov-00"
Module_ApplicationDate4 SETS    "30-Nov-2000"
d22 2
a23 2
Module_FullVersion      SETS    "2.30"
Module_HelpVersion      SETS    "2.30 (30 Nov 2000)"
@


1.1
log
@created by srccommit.
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "2.29"
Module_Version          SETA    229
d22 2
a23 2
Module_FullVersion      SETS    "2.29"
Module_HelpVersion      SETS    "2.29 (30 Nov 2000)"
@

