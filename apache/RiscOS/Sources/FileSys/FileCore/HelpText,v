head	4.4;
access;
symbols
	FileCore-3_75:4.4
	FileCore-3_74:4.4
	FileCore-3_73:4.4
	FileCore-3_72:4.4
	FileCore-3_71:4.4
	FileCore-3_70:4.4
	FileCore-3_69:4.4
	FileCore-3_68:4.4
	FileCore-3_67:4.4
	FileCore-3_66:4.4
	FileCore-3_65:4.4
	FileCore-3_64:4.4
	FileCore-3_63:4.4
	FileCore-3_62:4.4
	FileCore-3_61:4.4
	FileCore-3_60:4.4
	FileCore-3_59:4.4
	FileCore-3_58:4.4
	FileCore-3_57:4.4
	FileCore-3_56:4.4
	FileCore-3_55:4.3
	FileCore-3_54:4.3
	FileCore-3_53:4.3
	FileCore-3_52:4.3
	FileCore-3_51:4.3
	FileCore-3_50:4.3
	FileCore-3_49:4.3
	FileCore-3_48:4.3
	FileCore-3_47:4.3
	FileCore-3_46:4.3
	FileCore-3_45:4.3
	FileCore-3_44:4.3
	FileCore-3_43:4.3
	FileCore-3_42:4.3
	FileCore-3_41:4.3
	FileCore-3_40:4.2
	FileCore-3_39:4.2
	FileCore-3_38:4.2
	FileCore-3_37:4.2
	FileCore-3_36:4.2
	FileCore-3_35:4.2
	FileCore-3_34:4.2
	FileCore-3_33:4.2
	RO_5_07:4.2
	FileCore-3_32:4.2
	FileCore-3_31:4.2
	FileCore-3_30:4.2
	FileCore-3_29:4.2
	FileCore-3_28:4.2
	FileCore-3_25-4_9_2_2:4.2
	FileCore-3_27:4.2
	FileCore-3_26:4.2
	FileCore-3_22-4_6_2_1:4.2
	bavison_FileCore-3_22_dev_bp:4.2
	bavison_FileCore-3_22:4.2.0.4
	FileCore-3_25-4_9_2_1:4.2
	HAL:4.2.0.2
	FileCore-3_25:4.2
	FileCore-3_24:4.2
	FileCore-3_23:4.2
	dellis_autobuild_BaseSW:4.2
	FileCore-3_22:4.2
	Ursula_merge:4.1
	ROL_merge:4.1
	FileCore-3_21:4.2
	ROL_Ursula_merge:4.1
	Ursula_RiscPC_merge:4.1
	sbrodie_sedwards_16Mar2000:4.2
	dcotton_autobuild_BaseSW:4.2
	ROL_FileCore-3_21:4.1
	ROL_FileCore-3_20:4.1
	ROL:4.1.0.10
	ROL_bp:4.1
	Ursula_RiscPC_bp:4.1
	FileCore-3_18:4.1
	FileCore-3_01:4.2
	mstphens_UrsulaRiscPCBuild_20Nov98:4.1
	Ursula_RiscPC:4.1.0.8
	FileCore-3_00:4.2
	FileCore-2_99:4.2
	aglover_FileCore-3_17:4.1
	sproven_FileCore-3_16:4.1
	rthornb_UrsulaBuild-19Aug1998:4.1
	UrsulaBuild_FinalSoftload:4.1
	rthornb_UrsulaBuild-12Aug1998:4.1
	aglover_UrsulaBuild-05Aug1998:4.1
	rthornb_UrsulaBuild-29Jul1998:4.1
	rthornb_UrsulaBuild-22Jul1998:4.1
	rthornb_UrsulaBuild-15Jul1998:4.1
	rthornb_UrsulaBuild-07Jul1998:4.1
	rthornb_UrsulaBuild-17Jun1998:4.1
	rthornb_UrsulaBuild-03Jun1998:4.1
	rthornb_UrsulaBuild-27May1998:4.1
	rthornb_UrsulaBuild-21May1998:4.1
	sproven_FileCore-3_15:4.1
	sproven_314:4.1
	rthornb_UrsulaBuild_01May1998:4.1
	afrost_Funai01-33:4.1.7.1
	afrost_NC2_Generic:4.1.7.1
	sproven_313:4.1
	sproven_3_11:4.1
	sproven_3_10:4.1
	sproven_Ursula_3_09:4.1
	sproven_3_07:4.1
	sproven_3_06:4.1
	sproven_3_05:4.1
	sproven_3_04:4.1
	Spinner_RCA116:4.1.7.1
	sproven_3_03:4.1
	sproven_3_02:4.1
	sproven_3_01:4.1
	sproven_2_99:4.1
	sproven_2_98:4.1
	Spinner_B20_2:4.1.7.1
	Spinner_19_3:4.1.7.1
	Spinner_B18:4.1.7.1
	Spinner_B17:4.1.7.1
	Spinner_B15:4.1.7.1
	Spinner_B14:4.1.7.1
	Spinner_B13:4.1.7.1
	Spinner_B12:4.1.7.1
	Spinner_B10:4.1.7.1
	Daytona:4.1.0.6
	Daytona_bp:4.1
	Ursula:4.1.0.4
	Ursula_bp:4.1
	Spinner_B7:4.1.7.1
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	RCA_bp:4.1
	ARTtmp:4.1.7.1.0.2
	RCA:4.1.0.2
	Spin_merge:4.1.7.1
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.4
date	2013.02.24.21.08.48;	author rsprowson;	state Exp;
branches;
next	4.3;
commitid	rgJG8ZFRF8o9ruFw;

4.3
date	2011.09.13.19.13.08;	author rsprowson;	state Exp;
branches;
next	4.2;
commitid	PKTDORFkNFRVOmzv;

4.2
date	98.09.21.12.06.52;	author kbracey;	state Exp;
branches;
next	4.1;

4.1
date	96.11.05.09.32.02;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.1.1.1
date	96.11.05.09.32.02;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.05.23.58.02;	author nturton;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.12.32.37;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.20.29.32;	author nturton;	state Exp;
branches;
next	;


desc
@@


4.4
log
@Extend upper permissable file size to 4GB-1
Tested for ~200,000 cycles in various configurations with FSBash, with no integrity problems, nor bad maps. However, background transfers (currently only used by ADFS) is still being endurance tested, hence is currently disabled.
Users should note that they can create big files without needing to reformat their drives, however if reverting to an older copy of FileCore the files must not be opened, loaded, or deleted (it's fine to view the directory, just don't expect old FileCore to know how to parse such long fragment runs).
Current versions of DiscKnight (1.49) do not understand long fragment runs.

FSBash
------
* Reviewed and expunged various signed comparisons of file pointers in the existing tests
* Added new tests for big files which attempt to aggrevate all the usual problems passing over and up to important boundaries
* Makefile recreated from fragments
* Some compiler warning squashed

Docs
----
* Some notes added for big file support

Misc
----
Commands: swapped to using Command macro
HelpText: labels renamed to help Command macro
GenSWIs: text table name for SectorDiscOp ammended to match exported header and corresponding secondary module names (ADFS_SectorDiscOp et al). The usefulness of calling the base instantiation of FileCore_SectorDiscOp is minimal, especially from BASIC.
Messages: message for attempting to check an old map disc made less terse
hdr/FileCore: typo

Version 3.56. Tagged as 'FileCore-3_56'
@
text
@;>HelpText

 [ International_Help=0
Backup_Help
 = "*"
 = TokenEscapeChar,Token0
 = " copies one whole floppy disc, (except free space) to another.",13
Backup_Syntax
 = "Syntax: " 
 = "*"
 = TokenEscapeChar,Token0
 = " <source drive> <dest. drive> [Q]"
 = 0

Bye_Help
 = "*"
 = TokenEscapeChar,Token0
 = " closes all files, unsets all directories, and parks hard discs.",13
Bye_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = 0

CheckMap_Help
 = "*"
 = TokenEscapeChar,Token0
 = " checks that the map of a new map disc has the correct checksums, and is consistent with the directory tree. If only one copy is good it allows you to rewrite the other.",13
CheckMap_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " [<disc spec.>]"
 = 0

Compact_Help
 = "*"
 = TokenEscapeChar,Token0
 = " tries to collect free spaces together by moving files.",13
Compact_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " [<disc spec.>]"
 = 0

Defect_Help
 = "*"
 = TokenEscapeChar,Token0
 = " maps out a defect from a new map disc if it lies in an unallocated part of the disc. Otherwise it searches for the object containing the defect.",13
Defect_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " <disc spec.> <disc add.>"
 = 0

Dismount_Help
 = "*"
 = TokenEscapeChar,Token0
 = " closes files, unsets directories and parks the given disc.",13
Dismount_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " [<disc spec.>]"
 = 0

Drive_Help
 = "*"
 = TokenEscapeChar,Token0
 = " sets the default drive to use if the directory is unset.",13
Drive_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " <drive>"
 = 0

Free_Help
 = "*"
 = TokenEscapeChar,Token0
 = " displays the total free space on a disc.",13
Free_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " [<disc spec.>]"
 = 0

Map_Help
 = "*"
 = TokenEscapeChar,Token0
 = " displays a disc's free space map.",13
Map_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " [<disc spec.>]"
 = 0

Mount_Help
 = "*"
 = TokenEscapeChar,Token0
 = " sets the directory to the root directory of the disc, sets the library if unset to $.Library if it exists, and unsets the URD.",13
 = "The default is the default drive.",13
Mount_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " [<disc spec.>]"
 = 0

NameDisc_Help
NameDisk_Help
 = "*"
 = TokenEscapeChar,Token0
 = " alters a disc's name.",13
NameDisc_Syntax
NameDisk_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " <disc spec.> <disc name>"
 = 0

Verify_Help
 = "*"
 = TokenEscapeChar,Token0
 = " checks the whole disc is readable.",13
 = "The default is the current disc.",13
Verify_Syntax
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " [<disc spec.>]"
 = 0
 |
Backup_Help     DCB     "HFLCBKU", 0
Backup_Syntax   DCB     "SFLCBKU", 0

Bye_Help        DCB     "HFLCBYE", 0
Bye_Syntax      DCB     "SFLCBYE", 0

CheckMap_Help   DCB     "HFLCCKM", 0
CheckMap_Syntax DCB     "SFLCCKM", 0

Compact_Help    DCB     "HFLCCOM", 0
Compact_Syntax  DCB     "SFLCCOM", 0

Defect_Help     DCB     "HFLCDEF", 0
Defect_Syntax   DCB     "SFLCDEF", 0

Dismount_Help   DCB     "HFLCDIS", 0
Dismount_Syntax DCB     "SFLCDIS", 0

Drive_Help      DCB     "HFLCDRV", 0
Drive_Syntax    DCB     "SFLCDRV", 0

Free_Help       DCB     "HFLCFRE", 0
Free_Syntax     DCB     "SFLCFRE", 0

Map_Help        DCB     "HFLCMAP", 0
Map_Syntax      DCB     "SFLCMAP", 0

Mount_Help      DCB     "HFLCMNT", 0
Mount_Syntax    DCB     "SFLCMNT", 0

NameDisc_Help
NameDisk_Help   DCB     "HFLCNDS", 0
NameDisc_Syntax
NameDisk_Syntax DCB     "SFLCNDS", 0

Verify_Help     DCB     "HFLCVER", 0
Verify_Syntax   DCB     "SFLCVER", 0
 ]

        ALIGN
        
        END
@


4.3
log
@Delete s.AsmHdr, s.DevVersion, Version, s.ModHand
Delete Doc.!ReadMe, update Doc.!Implement
Collapse dead switches.
s.MyMacros:
 Remove 'nop' macro, use NOP.
s.Defns:
 Some definitions taken from global headers.
s.Commands:
 Indentation and function calling parameter comments reviewed.

Still produces the same binary as 3.40.
@
text
@d4 1
a4 1
HelpBackup
d8 1
a8 1
SynBackup
d15 1
a15 1
HelpBye
d19 1
a19 1
SynBye
d25 1
a25 1
HelpCheckMap
d29 1
a29 1
SynCheckMap
d36 1
a36 1
HelpCompact
d40 1
a40 1
SynCompact
d47 1
a47 1
HelpDefect
d51 1
a51 1
SynDefect
d58 1
a58 1
HelpDismount
d62 1
a62 1
SynDismount
d69 1
a69 1
HelpDrive
d73 1
a73 1
SynDrive
d80 1
a80 1
HelpFree
d84 1
a84 1
SynFree
d91 1
a91 1
HelpMap
d95 1
a95 1
SynMap
d102 1
a102 1
HelpMount
d107 1
a107 1
SynMount
d114 2
a115 2
HelpNameDisc
HelpNameDisk
d119 2
a120 2
SynNameDisc
SynNameDisk
d127 1
a127 1
HelpVerify
d132 1
a132 1
SynVerify
d139 2
a140 2
HelpBackup      DCB     "HFLCBKU", 0
SynBackup       DCB     "SFLCBKU", 0
d142 2
a143 2
HelpBye         DCB     "HFLCBYE", 0
SynBye          DCB     "SFLCBYE", 0
d145 2
a146 2
HelpCheckMap    DCB     "HFLCCKM", 0
SynCheckMap     DCB     "SFLCCKM", 0
d148 2
a149 2
HelpCompact     DCB     "HFLCCOM", 0
SynCompact      DCB     "SFLCCOM", 0
d151 2
a152 2
HelpDefect      DCB     "HFLCDEF", 0
SynDefect       DCB     "SFLCDEF", 0
d154 2
a155 2
HelpDismount    DCB     "HFLCDIS", 0
SynDismount     DCB     "SFLCDIS", 0
d157 2
a158 2
HelpDrive       DCB     "HFLCDRV", 0
SynDrive        DCB     "SFLCDRV", 0
d160 2
a161 2
HelpFree        DCB     "HFLCFRE", 0
SynFree         DCB     "SFLCFRE", 0
d163 2
a164 2
HelpMap         DCB     "HFLCMAP", 0
SynMap          DCB     "SFLCMAP", 0
d166 2
a167 2
HelpMount       DCB     "HFLCMNT", 0
SynMount        DCB     "SFLCMNT", 0
d169 4
a172 4
HelpNameDisc
HelpNameDisk    DCB     "HFLCNDS", 0
SynNameDisc
SynNameDisk     DCB     "SFLCNDS", 0
d174 2
a175 2
HelpVerify      DCB     "HFLCVER", 0
SynVerify       DCB     "SFLCVER", 0
@


4.2
log
@Spinner branch merged.
Makefile changed to use LocalRes$Path.
Changed to use srccommit.
StrongARM flag now set to :LNOT:STB

Version 2.99. Tagged as 'FileCore-2_99'
@
text
@a2 12
 [ Module_Version < 209
HelpBack
 = "*"
 = TokenEscapeChar,Token0
 = " swaps current and previous directories.",13
SynBack
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = 0
 ]

d178 2
a179 55
 [ Module_Version < 209
HelpNoDir
 = "*"
 = TokenEscapeChar,Token0
 = " unsets the current directory.",13
SynNoDir
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = 0

HelpNoLib
 = "*"
 = TokenEscapeChar,Token0
 = " unsets the library.",13
SynNoLib
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = 0

HelpNoURD
 = "*"
 = TokenEscapeChar,Token0
 = " unsets the URD.",13
SynNoURD
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = 0

HelpTitle
 = "*"
 = TokenEscapeChar,Token0
 = " sets the title of the current directory.",13
SynTitle
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " [<text>]"
 = 0

HelpURD
 = "*"
 = TokenEscapeChar,Token0
 = " sets the user root directory.",13
SynURD
 = "Syntax: "
 = "*"
 = TokenEscapeChar,Token0
 = " [<directory>]"
 = 0
 ]

 ALIGN
@


4.1
log
@Initial revision
@
text
@d3 1
a3 1
 [ Version < 209
d190 1
a190 1
 [ Version < 209
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.5.1
log
@Import from SrcFiler
@
text
@@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
