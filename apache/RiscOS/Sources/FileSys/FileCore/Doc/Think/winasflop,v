head	4.1;
access;
symbols
	FileCore-3_75:4.1
	FileCore-3_74:4.1
	FileCore-3_73:4.1
	FileCore-3_72:4.1
	FileCore-3_71:4.1
	FileCore-3_70:4.1
	FileCore-3_69:4.1
	FileCore-3_68:4.1
	FileCore-3_67:4.1
	FileCore-3_66:4.1
	FileCore-3_65:4.1
	FileCore-3_64:4.1
	FileCore-3_63:4.1
	FileCore-3_62:4.1
	FileCore-3_61:4.1
	FileCore-3_60:4.1
	FileCore-3_59:4.1
	FileCore-3_58:4.1
	FileCore-3_57:4.1
	FileCore-3_56:4.1
	FileCore-3_55:4.1
	FileCore-3_54:4.1
	FileCore-3_53:4.1
	FileCore-3_52:4.1
	FileCore-3_51:4.1
	FileCore-3_50:4.1
	FileCore-3_49:4.1
	FileCore-3_48:4.1
	FileCore-3_47:4.1
	FileCore-3_46:4.1
	FileCore-3_45:4.1
	FileCore-3_44:4.1
	FileCore-3_43:4.1
	FileCore-3_42:4.1
	FileCore-3_41:4.1
	FileCore-3_40:4.1
	FileCore-3_39:4.1
	FileCore-3_38:4.1
	FileCore-3_37:4.1
	FileCore-3_36:4.1
	FileCore-3_35:4.1
	FileCore-3_34:4.1
	FileCore-3_33:4.1
	RO_5_07:4.1
	FileCore-3_32:4.1
	FileCore-3_31:4.1
	FileCore-3_30:4.1
	FileCore-3_29:4.1
	FileCore-3_28:4.1
	FileCore-3_25-4_9_2_2:4.1
	FileCore-3_27:4.1
	FileCore-3_26:4.1
	FileCore-3_22-4_6_2_1:4.1
	bavison_FileCore-3_22_dev_bp:4.1
	bavison_FileCore-3_22:4.1.0.14
	FileCore-3_25-4_9_2_1:4.1
	HAL:4.1.0.12
	FileCore-3_25:4.1
	FileCore-3_24:4.1
	FileCore-3_23:4.1
	dellis_autobuild_BaseSW:4.1
	FileCore-3_22:4.1
	Ursula_merge:4.1
	ROL_merge:4.1
	FileCore-3_21:4.1
	ROL_Ursula_merge:4.1
	Ursula_RiscPC_merge:4.1
	sbrodie_sedwards_16Mar2000:4.1
	dcotton_autobuild_BaseSW:4.1
	ROL_FileCore-3_21:4.1
	ROL_FileCore-3_20:4.1
	ROL:4.1.0.10
	ROL_bp:4.1
	Ursula_RiscPC_bp:4.1
	FileCore-3_18:4.1
	FileCore-3_01:4.1
	mstphens_UrsulaRiscPCBuild_20Nov98:4.1
	Ursula_RiscPC:4.1.0.8
	FileCore-3_00:4.1
	FileCore-2_99:4.1
	aglover_FileCore-3_17:4.1
	sproven_FileCore-3_16:4.1
	rthornb_UrsulaBuild-19Aug1998:4.1
	UrsulaBuild_FinalSoftload:4.1
	rthornb_UrsulaBuild-12Aug1998:4.1
	aglover_UrsulaBuild-05Aug1998:4.1
	rthornb_UrsulaBuild-29Jul1998:4.1
	rthornb_UrsulaBuild-22Jul1998:4.1
	rthornb_UrsulaBuild-15Jul1998:4.1
	rthornb_UrsulaBuild-07Jul1998:4.1
	rthornb_UrsulaBuild-17Jun1998:4.1
	rthornb_UrsulaBuild-03Jun1998:4.1
	rthornb_UrsulaBuild-27May1998:4.1
	rthornb_UrsulaBuild-21May1998:4.1
	sproven_FileCore-3_15:4.1
	sproven_314:4.1
	rthornb_UrsulaBuild_01May1998:4.1
	afrost_Funai01-33:4.1.7.1
	afrost_NC2_Generic:4.1.7.1
	sproven_313:4.1
	sproven_3_11:4.1
	sproven_3_10:4.1
	sproven_Ursula_3_09:4.1
	sproven_3_07:4.1
	sproven_3_06:4.1
	sproven_3_05:4.1
	sproven_3_04:4.1
	Spinner_RCA116:4.1.7.1
	sproven_3_03:4.1
	sproven_3_02:4.1
	sproven_3_01:4.1
	sproven_2_99:4.1
	sproven_2_98:4.1
	Spinner_B20_2:4.1.7.1
	Spinner_19_3:4.1.7.1
	Spinner_B18:4.1.7.1
	Spinner_B17:4.1.7.1
	Spinner_B15:4.1.7.1
	Spinner_B14:4.1.7.1
	Spinner_B13:4.1.7.1
	Spinner_B12:4.1.7.1
	Spinner_B10:4.1.7.1
	Daytona:4.1.0.6
	Daytona_bp:4.1
	Ursula:4.1.0.4
	Ursula_bp:4.1
	Spinner_B7:4.1.7.1
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	RCA_bp:4.1
	ARTtmp:4.1.7.1.0.2
	RCA:4.1.0.2
	Spin_merge:4.1.7.1
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.1
date	96.11.05.09.32.13;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.1.1.1
date	96.11.05.09.32.13;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.06.00.02.51;	author nturton;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.12.33.42;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.20.30.31;	author nturton;	state Exp;
branches;
next	;


desc
@@



4.1
log
@Initial revision
@
text
@WriteBehindLeft done

"FileCore00", line 709:FloppyWriteBehindLeft   a4 4
"FileCore70", line 494:        LDR     LR, FloppyWriteBehindLeft - DebugJ: check writebehindleft=0 after release of TickerV
"FileCore80", line 1130:        LDRNE   LR, FloppyWriteBehindLeft - increase write behind left
"FileCore80", line 1132:        STRNE   LR, FloppyWriteBehindLeft - increase write behind left
"FileCore80", line 1305:        LDRNE   LR, FloppyWriteBehindLeft - increase write behind left
"FileCore80", line 1312:        STRNE   LR, FloppyWriteBehindLeft - increase write behind left
"FileCore80", line 2905:        LDR     LR, FloppyWriteBehindLeft - ReduceFloppyWriteBehind
"FileCore80", line 2923:        STR     LR, FloppyWriteBehindLeft - ReduceFloppyWriteBehind
"FileCore80", line 3979:        LDR     LR, FloppyWriteBehindLeft - DiscWriteBehindWait waiting for it to go to 0
"FileCore80", line 4489:        LDR     R2, FloppyWriteBehindLeft - DebugJ: check writebehindleft=write behind left in buffers

writebehinddisc done

"FileCore80", line 1032:        LDRNEB  LR, FloppyWriteBehindDisc - locking disc for write behind
"FileCore80", line 1051:        ASSERT  FloppyWriteBehindDisc-FloppyWriteBehindDrive=1 - setting write behind drive
"FileCore80", line 1180:        LDRB    R1, FloppyWriteBehindDisc - check write behind disc before reducing write behind
"FileCore80", line 1405:        LDRB    R1, FloppyWriteBehindDisc - check write behind disc before reducing write behind
"FileCore80", line 2255:        LDRB    R5, FloppyWriteBehindDisc - RestartFloppyCheck
"FileCore80", line 2928:        LDRB    R0, FloppyWriteBehindDisc - ReduceFloppyWriteBehind
"FileCore80", line 2935:        ASSERT  FloppyWriteBehindDisc-FloppyWriteBehindDrive = 1 - ReduceFloppyWriteBehind
"FileCore80", line 3966:        LDRB    LR, FloppyWriteBehindDisc - DiscWriteBehindWait checking if it's the same as the disc in question
"FileCore80", line 4394:        LDRB    R4, FloppyWriteBehindDisc - DebugJ: check write behind disc matches write behind buffer

writebehinddrive done

"FileCore00", line 702:FloppyWriteBehindDrive  # 1     ;Must be in same word for atomic write
"FileCore35", line 98:        LDRB    LR, FloppyWriteBehindDrive - beforealter/readfsmap
"FileCore35", line 239:        LDRB    LR, FloppyWriteBehindDrive - UnlockMap
"FileCore80", line 1050:        ASSERT  (:INDEX:FloppyWriteBehindDrive) :MOD: 4 =0      ;word write so atomic - setting write behind disc and drive
"FileCore80", line 1051:        ASSERT  FloppyWriteBehindDisc-FloppyWriteBehindDrive=1 - setting write behind disc and drive
"FileCore80", line 1053:        STR     LR, FloppyWriteBehindDrive - set new write behind discs and drives
"FileCore80", line 2932:        LDRNEB  R1, FloppyWriteBehindDrive - ReduceFloppyWriteBehind
"FileCore80", line 2934:        ASSERT  (:INDEX:FloppyWriteBehindDrive) :MOD: 4 = 0 - ReduceFloppyWriteBehind
"FileCore80", line 2935:        ASSERT  FloppyWriteBehindDisc-FloppyWriteBehindDrive = 1 - ReduceFloppyWriteBehind
"FileCore80", line 2936:        STRNE   LR, FloppyWriteBehindDrive - ReduceFloppyWriteBehind
"FileCore80", line 4012:        LDRNEB  LR, FloppyWriteBehindDrive - DriveWriteBehindWait (reject as write behind not going off or on same drive)
"FileCore80", line 4028:        LDRNEB  LR, FloppyWriteBehindDrive - DriveWriteBehindWait (wait for writebehinddrive to go to &ff)

reducefloppywritebehind Done

"FileCore80", line 1184:        BLEQ    ReduceFloppyWriteBehind ;(R1) - PutBytesEntry; R0 = controller
"FileCore80", line 1409:        BLEQ    ReduceFloppyWriteBehind ;(R1) - PutBytesEntry; R0=controller
"FileCore80", line 2809:        BLNE    ReduceFloppyWriteBehind ;(R1->R1) - UpdateProcess; Z=FloppyFlag for Fcb; R0=controller
"FileCore80", line 2875:        BLEQ    ReduceFloppyWriteBehind ;(R1->R1) - BackgroundTidyUp; R0=controller
"FileCore80", line 2881:; ReduceFloppyWriteBehind
"FileCore80", line 2888:ReduceFloppyWriteBehind ROUT
"FileCore80", line 3758:        BLNE    ReduceFloppyWriteBehind ;(R1->R1) - EmptyBuffers; Z=FloppyFlag for Fcb; (by happenstance R0=controller)

EmptyBuffers Done

"FileCore70", line 1252:        BL      EmptyBuffers    - DoOsArgsWriteZeroes R0=controller
"FileCore80", line 1076:        BL      EmptyBuffers    - PutBytesEntry R0=controller
"FileCore80", line 3745:; EmptyBuffers
"FileCore80", line 3760:EmptyBuffers ROUT
"FileCore80", line 3766:        mess    ,"EmptyBuffers",NL

RestartFloppyCheck Done

"FileCore80", line 1907:        BL      RestartFloppyCheck      ;R2,R3->LS/HI - Restart write behind - params only useful values
"FileCore80", line 2020:        BL      RestartFloppyCheck      ;R2,R3->LS/HI - Restart read ahead - params only useful values
"FileCore80", line 2253:; RestartFloppyCheck
"FileCore80", line 2262:RestartFloppyCheck

DiscWriteBehindWait done

"FileCore35", line 136:        BL      FloppyDiscWriteBehindWait       ;(R3) - before alter/readfsmap
"FileCore50", line 2064:        BL      FloppyDiscWriteBehindWait       ;(R3) - before docompact does a compact
"FileCore70", line 1244:        BLNE    FloppyDiscWriteBehindWait       ;(R3) - writezeroes
"FileCore80", line 205:        BL      FloppyDiscWriteBehindWait            ;(R3) - wait before doing a read
"FileCore80", line 1028:        BLNE    FloppyDiscWriteBehindWait       ;(R3) - putbytes
"FileCore80", line 4148:; FloppyDiscWriteBehindWait     - the business
"FileCore80", line 4212:FloppyDiscWriteBehindWait ROUT  - the business
"FileCore80", line 4215:        mess    ,">FloppyDiscWriteBehindWait",NL - the business
"FileCore80", line 4262:        mess    ,"<FloppyDiscWriteBehindWait",NL - the business
"FileCore80", line 4394:        BL      FloppyDiscWriteBehindWait       ;(R3) - lockdisc

drivewritebehindwait

"FileCore15", line 724:        BLNE    FloppyDriveWriteBehindWait - retrydriveop
"FileCore20", line 1536:        BL      FloppyDriveWriteBehindWait      ;(R1) - mount
"FileCore20", line 1869:        BL      FloppyDriveWriteBehindWait      ;(R1) - pollchange
"FileCore80", line 4273:; FloppyDriveWriteBehindWait - the business
"FileCore80", line 4330:FloppyDriveWriteBehindWait ROUT - the business
"FileCore80", line 4334:        mess    ,">FloppyDriveWriteBehindWait",NL - the business
"FileCore80", line 4364:        mess    ,"<FloppyDriveWriteBehindWait",NL - the business

Misc_UnlockDrive done

"FileCore20", line 2226:        MOV     R0, #Misc_UnlockDrive - the business
"FileCore35", line 242:        MOVEQ   R0, #Misc_UnlockDrive - unlockmap
"FileCore35", line 260:        MOV     R0, #Misc_UnlockDrive - unlockmap non-filecache
"FileCore80", line 3140:        MOVNE   R0, #Misc_UnlockDrive - reducefloppywritebehind
"FileCore80", line 4417:        MOVEQ   R0, #Misc_UnlockDrive - lockdisc

Misc_LockDrive done

"FileCore20", line 2204:        MOV     R0, #Misc_LockDrive - the business
"FileCore35", line 131:        MOV     R0, #Misc_LockDrive - beforealter/readmap non-filecache version
"FileCore80", line 4407:        MOV     R0, #Misc_LockDrive - lockdisc

misc_pollchange

"FileCore20", line 1903:        MOV     R0, #Misc_PollChanged - pollchange
"FileCore80", line 2293:        MOV     R0, #Misc_PollChanged - readaheadcommon
"FileCore80", line 4439:        MOV     R0, #Misc_PollChanged - lockdisc

EnsureNewFloppyId done

"FileCore35", line 345:; EnsureNewFloppyId - the business
"FileCore35", line 355:EnsureNewFloppyId ROUT - the business
"FileCore35", line 358:        mess    ,"EnsureNewFloppyId",NL - the business
"FileCore45", line 267:        BL      EnsureNewFloppyId       ;(R3->R0,V)
"FileCore45", line 490:;        BL      EnsureNewFloppyId       ;(R3->R0,V)
"FileCore60", line 1332:        BL      EnsureNewFloppyId    ;(R3->R0,V)
"FileCore60", line 1582:        BL      EnsureNewFloppyId       ;(R3->R0,V)
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.5.1
log
@Import from SrcFiler
@
text
@@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
