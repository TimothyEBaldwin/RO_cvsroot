head	4.2;
access;
symbols
	FileCore-3_75:4.2
	FileCore-3_74:4.2
	FileCore-3_73:4.2
	FileCore-3_72:4.2
	FileCore-3_71:4.2
	FileCore-3_70:4.2
	FileCore-3_69:4.2
	FileCore-3_68:4.2
	FileCore-3_67:4.2
	FileCore-3_66:4.2
	FileCore-3_65:4.2
	FileCore-3_64:4.2
	FileCore-3_63:4.2
	FileCore-3_62:4.2
	FileCore-3_61:4.2
	FileCore-3_60:4.2
	FileCore-3_59:4.2
	FileCore-3_58:4.2
	FileCore-3_57:4.2
	FileCore-3_56:4.2
	FileCore-3_55:4.2
	FileCore-3_54:4.2
	FileCore-3_53:4.2
	FileCore-3_52:4.2
	FileCore-3_51:4.2
	FileCore-3_50:4.2
	FileCore-3_49:4.2;
locks; strict;
comment	@# @;


4.2
date	2012.03.19.12.02.29;	author bavison;	state Exp;
branches;
next	4.1;
commitid	JkSC2bGQDoTjpuXv;

4.1
date	2012.03.19.01.02.15;	author bavison;	state Exp;
branches;
next	;
commitid	kiHA1sAUGttNKqXv;


desc
@@


4.2
log
@  Build fix
Detail:
  Previous change broke builds from clean - sorry! The basic problem is that
  there's no way to enforce a dependency, or at least ordering, between the
  exported asm and C versions of Hdr:FileCoreErr in the AAsmModule shared
  makefile. Worked around this by builing the C header using the local copy
  of the asm header, rather than the exported one.
Admin:
  Tested from clean this time. Retagged as 'FileCore-3_49'

Version 3.49. Not tagged
@
text
@
        GBLS    fcerror
fcerror SETS    "FileCoreErr"

        MACRO
$num    FileCoreErr $name, $str
        LCLS    line
line    SETS    "#define $name.Err "
        WHILE   :LEN: line < 32
line    SETS    line :CC: " "
        WEND
        =       line, "(0x$num)", 10
        MEND


        GET     ListOpts
        GET     FSNumbers

        AREA    Text, DATA

        ; File header
        =       "/* This is an autogenerated file, do not edit */", 10, 10
        =       "#ifndef INTERFACE_FILECOREERR_H_", 10
        =       "#define INTERFACE_FILECOREERR_H_", 10, 10

        ; Define all the errors that FileCore generates for the FS
        GET     hdr/FileCoreErr

        ; File footer
        =       10, "#endif", 10

        ; Pad to word alignment with newline characters
        ALIGN   4, 0, 10


        END
@


4.1
log
@  Reworked error code
Detail:
  Created a new exported header file, Hdr:FileCoreErr, which will serve as
  the single centralised location that defines the error numbers used in the
  low-level FileCore interfaces. s.Errors is now only used for allocating
  error blocks, not for defining error numbers. Also now exports C versions
  of both the pre-existing Hdr:FileCore and the new header.
Admin:
  No changes to the binary.

Version 3.49. Tagged as 'FileCore-3_49'
@
text
@d27 1
a27 1
        GET     FileCoreErr
@

