head	4.1;
access;
symbols
	RAMFS-2_32:4.1
	RAMFS-2_31:4.1
	RAMFS-2_30:4.1
	RAMFS-2_29:4.1
	RAMFS-2_28:4.1
	RAMFS-2_27:4.1;
locks; strict;
comment	@# @;


4.1
date	2012.03.19.01.03.52;	author bavison;	state Exp;
branches;
next	;
commitid	1Az1q9lTYiVmLqXv;


desc
@@


4.1
log
@  Reworked error code
Detail:
  Now uses Hdr:FileCoreErr rather than containing its own definitions of the
  low-level FileCore error numbers. Autogenerates and exports a new header,
  Hdr:RAMFSErr, and a C version of the same, containing error definitions
  within the RAMFS error block, derived from the error offsets from
  Hdr:FileCoreErr.
Admin:
  No changes to the binary.

Version 2.27. Tagged as 'RAMFS-2_27'
@
text
@
        GBLS    FSName
FSName  SETS    "ramfs"

        GBLS    fcerror
fcerror SETS    "FSErr"

        MACRO
$num    FSErr   $name, $str
        =       "        AddError $FSName.$name, ""$str"", &"
        =       :STR: (&10000 + fsnumber_$FSName:SHL:8 + &$num), 10
        MEND


        GET     ListOpts
        GET     FSNumbers

        AREA    Text, DATA

        ; File header
        =       "; This is an autogenerated file, do not edit", 10, 10

        ; Define all the errors that FileCore generates for the FS
        GET     FileCoreErr

        ; File footer
        =       10, "        END", 10

        ; Pad to word alignment with newline characters
        ALIGN   4, 0, 10


        END
@
