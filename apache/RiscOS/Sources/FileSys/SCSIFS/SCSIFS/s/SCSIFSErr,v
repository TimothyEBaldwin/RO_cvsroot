head	1.2;
access;
symbols
	SCSIFS-1_35:1.2
	SCSIFS-1_34:1.2
	SCSIFS-1_33:1.2
	SCSIFS-1_32:1.2
	SCSIFS-1_31:1.2
	SCSIFS-1_30:1.2
	SCSIFS-1_29:1.2
	SCSIFS-1_28:1.2
	SCSIFS-1_27:1.1
	SCSIFS-1_26:1.1
	SCSIFS-1_25:1.1
	SCSIFS-1_24:1.1;
locks; strict;
comment	@# @;


1.2
date	2013.10.06.13.49.20;	author rsprowson;	state Exp;
branches;
next	1.1;
commitid	8D9mMcKPmGAXNe8x;

1.1
date	2012.03.19.01.05.04;	author bavison;	state Exp;
branches;
next	;
commitid	mwW9rsP3K3bLLqXv;


desc
@@


1.2
log
@Internationalised
In addition
 - simplify WrDec to just use OS_ConvertCardinal1 hence not need a division routine
 - change the Hide check to at least use Choices: correctly, if you must
 - macros Text and baddr eliminated

Tested in an OMAP3 ROM build.

Version 1.28. Tagged as 'SCSIFS-1_28'
@
text
@
        GBLS    FSName
FSName  SETS    "SCSIFS"

        GBLS    fcerror
fcerror SETS    "FSErr"

        MACRO
$num    FSErr   $name, $str
        =       "        AddError $FSName.$name, ""$str"", &"
        =       :STR: (&10000 + fsnumber_$FSName:SHL:8 + &$num), 10
        MEND


        GET     ListOpts
        GET     FSNumbers

        AREA    Text, DATA

        ; File header
        =       "; This is an autogenerated file, do not edit", 10, 10

        ; Define all the errors that FileCore generates for the FS
        GET     FileCoreErr

        ; Define additional FS errors
72      FSErr   SectorSizeNotSupported, Sector size not supported
76      FSErr   BadSCSIType, Bad SCSI device type

        ; File footer
        =       10, "        END", 10

        ; Pad to word alignment with newline characters
        ALIGN   4, 0, 10


        END
@


1.1
log
@  Reworked error code
Detail:
  Now uses Hdr:FileCoreErr rather than containing its own definitions of the
  low-level FileCore error numbers. Autogenerates and exports a new header,
  Hdr:SCSIFSErr, and a C version of the same, containing error definitions
  within the SCSIFS error block, derived from the error offsets from
  Hdr:FileCoreErr. hdr.MyErrors is now only used to list the errors for
  which an error block needs to be allocated for SCSIFS's own use.
Admin:
  Only functional change is that *Configure SCSIFSdrive now returns the
  correct error number if an invalid drive is specified (previously the
  error number was miscalculated).

Version 1.24. Tagged as 'SCSIFS-1_24'
@
text
@d26 4
@

