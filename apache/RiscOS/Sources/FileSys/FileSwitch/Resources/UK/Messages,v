head	4.5;
access;
symbols
	FileSwitch-2_87:4.5
	FileSwitch-2_86:4.5
	FileSwitch-2_85:4.5
	FileSwitch-2_84:4.5
	FileSwitch-2_83:4.5
	FileSwitch-2_82:4.5
	FileSwitch-2_81:4.5
	FileSwitch-2_80:4.5
	FileSwitch-2_79:4.5
	FileSwitch-2_78:4.5
	FileSwitch-2_77:4.5
	FileSwitch-2_76:4.5
	FileSwitch-2_75:4.5
	FileSwitch-2_74:4.4
	FileSwitch-2_73:4.4
	FileSwitch-2_72:4.4
	FileSwitch-2_71:4.3
	FileSwitch-2_70:4.3
	FileSwitch-2_69:4.3
	FileSwitch-2_68:4.3
	FileSwitch-2_67:4.3
	RO_5_07:4.3
	FileSwitch-2_66:4.3
	FileSwitch-2_65:4.3
	FileSwitch-2_64:4.3
	FileSwitch-2_63:4.3
	FileSwitch-2_62:4.3
	FileSwitch-2_61:4.3
	FileSwitch-2_60:4.3
	FileSwitch-2_59:4.3
	FileSwitch-2_58:4.3
	FileSwitch-2_57:4.3
	FileSwitch-2_56:4.3
	FileSwitch-2_55:4.3
	FileSwitch-2_54:4.3
	FileSwitch-2_53:4.3
	dellis_autobuild_BaseSW:4.3
	FileSwitch-2_52:4.3
	FileSwitch-2_51:4.3
	ROLtd-4_02:4.1.4.1
	FileSwitch-2_45:4.1.4.1
	Ursula_merge:4.1.4.1
	FileSwitch-2_50:4.3
	sbrodie_sedwards_16Mar2000:4.2
	FileSwitch-2_41:4.2
	dcotton_Spin_merge:4.1.7.2
	FileSwitch-2_40:4.2
	dcotton_autobuild_BaseSW:4.3
	FileSwitch-2_39:4.1
	FileSwitch-2_43:4.1.4.1
	Ursula_FileSwitch-2_42:4.1.4.1
	mstphens_UrsulaRiscPCBuild_20Nov98:4.1.4.1
	Ursula_RiscPC:4.1.4.1.0.2
	nicke_FileSwitch-2_29:4.1.7.2
	FileSwitch-2_38:4.1
	rthornb_UrsulaBuild-19Aug1998:4.1.4.1
	UrsulaBuild_FinalSoftload:4.1.4.1
	rthornb_UrsulaBuild-12Aug1998:4.1.4.1
	aglover_UrsulaBuild-05Aug1998:4.1.4.1
	rthornb_UrsulaBuild-29Jul1998:4.1.4.1
	rthornb_UrsulaBuild-22Jul1998:4.1.4.1
	rthornb_UrsulaBuild-15Jul1998:4.1.4.1
	rthornb_UrsulaBuild-07Jul1998:4.1.4.1
	rthornb_UrsulaBuild-17Jun1998:4.1.4.1
	rthornb_UrsulaBuild-03Jun1998:4.1.4.1
	rthornb_UrsulaBuild-27May1998:4.1.4.1
	rthornb_UrsulaBuild-21May1998:4.1.4.1
	rthornb_UrsulaBuild_01May1998:4.1.4.1
	afrost_Funai01-33:4.1.7.2
	afrost_NC2_Generic:4.1.7.2
	sproven_241:4.1.4.1
	sproven_2_40:4.1
	sproven_2_38:4.1
	Spinner_RCA116:4.1.7.2
	Spinner_B20_2:4.1.7.2
	Spinner_19_3:4.1.7.2
	Spinner_B18:4.1.7.2
	Spinner_B17:4.1.7.2
	Spinner_B15:4.1.7.2
	Spinner_B14:4.1.7.2
	Spinner_B13:4.1.7.2
	Spinner_B12:4.1.7.2
	Spinner_B10:4.1.7.2
	Daytona:4.1.0.6
	Daytona_bp:4.1
	Ursula:4.1.0.4
	Ursula_bp:4.1
	Spinner_B7:4.1.7.2
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.2
	Spin_3Apr97:4.1.7.2
	RCA_bp:4.1
	ARTtmp:4.1.7.2.0.2
	RCA:4.1.0.2
	Spin_merge:4.1.7.1
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.5
date	2012.03.18.08.10.11;	author rsprowson;	state Exp;
branches;
next	4.4;
commitid	0UTb8eSgTt7a9lXv;

4.4
date	2011.11.27.11.59.24;	author rsprowson;	state Exp;
branches;
next	4.3;
commitid	SMknibmDFieq1YIv;

4.3
date	2000.03.20.14.30.45;	author kbracey;	state Exp;
branches;
next	4.2;

4.2
date	99.11.15.09.52.04;	author dcotton;	state Exp;
branches;
next	4.1;

4.1
date	96.11.05.09.32.45;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.4.1
	4.1.5.1
	4.1.7.1;
next	;

4.1.1.1
date	96.11.05.09.32.45;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.06.00.50.04;	author nturton;	state Exp;
branches;
next	;

4.1.4.1
date	98.04.16.14.49.03;	author sproven;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.12.36.28;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.20.33.05;	author nturton;	state Exp;
branches;
next	4.1.7.2;

4.1.7.2
date	97.03.11.19.14.09;	author nturton;	state Exp;
branches;
next	;


desc
@@


4.5
log
@Made configure command capitalisation consistent.
Retagged as FileSwitch-2_75.
@
text
@Cat:01
Ex:0123
FileInfo:0145
FileInDt:%24:%MI:%SE.%CS %DY-%M3-%CE%YR
FileInLdEx:      %0 %1
C0/C2/C3:%0 bytes
C1:%0 byte
C4: (Y/N/Quiet/Abandon) ? 
C5:Y
C6:N
C7:Q
C8:A
C9:Abandoned|M|J
C10: (Y/N) ? 
UFS:%0
UntFS:<Untitled FS>

#{DictTokens}
CFS0:FileSystem |<fs name>|||<fs number>|M|J
CT0:Truncate   On|M|J
CT1:Truncate   Off|M|J
CT2:Truncate   On||Off|M|J
CC0:Ensure %0::%1 present then press SPACE bar|M|J
CC1:Ensure :%1 present then press SPACE bar|M|J
# (CC2 CC22 CC24 CC26): (0 1 2 many) files copied
CC2/CC24/CC26:%0 files copied, total %1
CC3/CC25/CC27:%0 files moved, total %1
CC5:File %0 has the same datestamp as %1
CC6:File %0 has an earlier datestamp than %1
CC7:File %1 already exists.
CC8:File %1 already exists. Overwrite
CC9:File %1 already exists and is locked.
CC10:File %1 already exists and is locked. Overwrite
CC11:Copy file %0 as %1
CC12:Move file %0 as %1
CC13:Copy directory %0 as %1
CC14:Move directory %0 as %1
CC15:File %0 copied as %1, %2
CC16:File %0 moved as %1, %2
CC17:Directory %0 copied as %1, %2
CC18:Directory %0 moved as %1, %2
CC19:Created directory %1
CC20:Ensure source media present then press SPACE bar |M|J
CC21:Ensure destination media present then press SPACE bar|M|J
CC22:%0 file copied, total %1
CC23:%0 file moved, total %1
CC28:*Copy buffer
CW0:File %0 deleted
CW1:Delete file %0
CW2:Delete directory %0
CW3:Delete contents of directory %0
CW4/CW9/CW10:%0 files deleted
CW5:%0 is locked
CW6:Directory %0 deleted
CW8:%0 file deleted
Cc0:Count file %0
Cc1:Count directory %0
Cc2:File %0 counted, %2
Cc3:Directory %0 counted, %2
Cc4/Cc6/Cc7:%0 files counted, total %1
Cc5:%0 file counted, total %1

BadDisc:Disc not understood - has it been formatted?
Wild:'%0' contains wild cards
BadFileName:File name '%0' not recognised
NulName:Filing system %0: must be given a filename
CantOpen:Can't open '%0'
UkFS:Filing system %0: not present
UkFSP:Filing system or path %0: not present
UkRun:An application that loads a file of this type has not been found by the Filer. Open a directory display containing the required application and try again.
UkLoad:No load action specified for this file type
PathPath:Path variable '%0' refers to itself
FOnDir:'%0' cannot be created - a directory with that name already exists
DirOnF:'%0' cannot be created - a file with that name already exists
DestThere:Item cannot be renamed - '%0' already exists
CantLib:User root directory (URD) cannot be set on %0:
CpFOnDir:File cannot be copied - a directory with that destination name already exists
CpDirOnF:Directory cannot be copied - a file with that destination name already exists
NoSelFS:No selected filing system
NoRead:Not open for reading
NoUpdate:Not open for update
UsFSE:Filing system does not support this operation
UaFSE:Unaligned filing system entry point
NoStack:Not enough stack to call filing system
OffFile:Outside file
BadComm:Command not recognised
BadOSFile:Bad OSFile call
BadOSArgs:Bad OSArgs call
BadOSGBPB:Bad OSGBPB call
BadFindMode:Bad mode for OSFind
BadControl:Bad FSControl call
BadBuf:Bad buffer size
BadFSName:Filing system name not recognised
UkMultiFS:Unknown filing system
CantNumberFS:Can't remove filing system by number
EOF:End of file
FSNotSpecial:Filing system %0: does not support special fields
TransNoMem:No room to run transient
ExTooLow:Code runs too low
ExNotInCode:Execution address not within code
HeSayNo:Unable to start application
BadCopy:Inappropriate use of wildcard characters in destination name
CopyNowt:Nothing to copy
WipeNowt:Nothing to delete
TooBig:File too big
BadType:File type is unrecognised
BadName1:Disc was specified, but absolute wasn't $
NoMem1:Not enough memory for wildcard resolution
NoStack1:Not enough stack for wildcard resolution
PPPath:Path variable had multiple entries and was used for a write operation
FSGAEr:%0: FileSwitch GetArea
FSFAEr:%0: FileSwitch FreeArea
FSGREr:%0: FileSwitch GetRMA
Busy:FileSwitch can't be killed while it is threaded
BadComOpt:Command option not known
BadErr:Invalid error block
BadAtts:Access attributes '%0' not recognised
BadDscNm:Disc name '%0' not recognised
BadSetDr:Attempt to set bad directory
PNotEmpty:Partition '%0' is not empty
PBusy:Partition not ready
@


4.4
log
@assert -> ASSERT.
Collapse old switches.
Remove 'Version' GBLA.
*COUNT summary now says "total 1234 bytes" not "1234 bytes" to match *COPY
Empty *COUNT syntax message corrected.
Binary identical to last version (messages different clearly).

Version 2.72. Tagged as 'FileSwitch-2_72'
@
text
@d20 3
a22 3
CT0:Truncate   on|M|J
CT1:Truncate   off|M|J
CT2:Truncate   on||off|M|J
@


4.3
log
@  Ursula branch merged.
Detail:
  Full merge of Ursula branch. Path length limited to 256 if a compile-time
  check says SVCSTK is still &01C02000.

  Fix to bug introduced in RISC OS 3.70 - any errors returned by FSEntry_File
  255 were ignored.
  Some changes from RISC OS Ltd still to come.
Admin:
  Untested.

Version 2.50. Tagged as 'FileSwitch-2_50'
@
text
@d60 2
a61 2
Cc4/Cc6/Cc7:%0 files counted, %1
Cc5:%0 file counted, %1
@


4.2
log
@	Merged the latest changes on Spinner branch.

Detail:
	Needed the localres alterations off the Spinner branch that had been
added since the branch was last merged.
	Added strdepend to the clean phase.

Admin:
	Built locally and on a Funai4 build machine.

Version 2.40. Tagged as 'FileSwitch-2_40'
@
text
@d47 1
@


4.1
log
@Initial revision
@
text
@a120 85

#{Token0=Access}
HFLSACC:*Access changes the attributes of all objects matching the wildcarded specification.Attributes:L(ock)		Lock object against deletionR(ead)		Read permissionW(rite)		Write permission/R,/W,/RW	Public read and write permission 
SFLSACC:Syntax: *Access <object> [<attributes>] 
#{Token0=Cat}
HFLSCAT:*Cat lists all the objects in a directory (default is current directory). 
SFLSCAT:Syntax: *Cat [<directory>] 
#{Token0=CDir}
HFLSCDR:*CDir creates a directory of given name (and size on Net only). 
SFLSCDR:Syntax: *CDir <directory> [<size in entries>] 
#{Token0=Copy}
HFLSCPY:*Copy copies one or more objects that match the given wildcarded specification between directories. Options are taken from the system variable Copy$Options and those given to the command.Options: (use ~ to force off,eg. ~C)A(ccess)	Force destination access to same as source {on}C(onfirm)	Prompt for confirmation of each copy {on}D(elete)	Delete the source object after copy {off}F(orce)		Force overwriting of existing objects {off}L(ook)		Look at destination before loading source file {off}N(ewer)		Copy only if source is more recent than destination {off}P(rompt)	Prompt for the disc to be changed as needed in copy {off}Q(uick)		Use application workspace to speed file transfer {off}R(ecurse)	Copy subdirectories and contents {off}S(tamp)		Restamp datestamped files after copying {off}sT(ructure)	Copy only the directory structure {off}V(erbose)	Print information on each object copied {on} 
SFLSCPY:Syntax: *Copy <source spec> <destination spec> [<options>] 
#{Token0=Count}
HFLSCNT:*Count adds up the size of one or more files that match the given wildcarded specification. Options are taken from the system variable Count$Options and those given to the command.Options: (use ~ to force off,eg. ~R)C(onfirm)	Prompt for confirmation of each count {off}R(ecurse)	Count subdirectories and contents {on}V(erbose)	Print information on each file counted {off} 
SFLSCNT:Syntax: *Count 
#{Token0=Dir}
HFLSDIR:*Dir selects a directory as the current directory (default is user root directory). 
SFLSDIR:Syntax: *Dir [<directory>] 
#{Token0=EnumDir}
HFLSEDR:*EnumDir creates a file of filenames from a directory that match the supplied wildcarded specification (default is *). 
SFLSEDR:Syntax: *EnumDir <directory> <output file> [<pattern>] 
#{Token0=Ex}
HFLSEX:*Ex lists all the objects in a directory together with their file information (default is current directory). 
SFLSEX:Syntax: *Ex [<directory>] 
#{Token0=FileInfo}
HFLSFIN:*FileInfo yields the full file information of an object. 
SFLSFIN:Syntax: *FileInfo <object> 
#{Token0=Info}
HFLSINF:*Info lists the file information of all objects matching the given wildcarded specification. 
SFLSINF:Syntax: *Info <object> 
#{Token0=LCat}
HFLSLCT:*LCat lists all the objects in a subdirectory relative to the library (default is current library). 
SFLSLCT:Syntax: *LCat [<directory>] 
#{Token0=LEx}
HFLSLEX:*LEx lists all the objects in a subdirectory of the library together with their file information (default is current library). 
SFLSLEX:Syntax: *LEx [<directory>] 
#{Token0=Lib}
HFLSLIB:*Lib selects a directory as the current library (default is filing system dependent). 
SFLSLIB:Syntax: *Lib [<directory>] 
#{Token0=Rename}
HFLSREN:*Rename changes the name of an object. It cannot be used to move objects between filing systems or between discs on the same filing system; *Copy with the D(elete) option must be used instead. 
SFLSREN:Syntax: *Rename <object> <new name> 
#{Token0=Run}
HFLSRUN:*Run loads and executes the named file, passing optional parameters to it. 
SFLSRUN:Syntax: *Run <filename> [<parameters>] 
#{Token0=SetType}
HFLSSTY:*SetType sets the file type of the named file to the given textual file type or hexadecimal number. If the file is not already datestamped then it is also stamped with the current time and date."*Show File$Type*" displays currently known file types. 
SFLSSTY:Syntax: *SetType <filename> <file type> 
#{Token0=Shut}
HFLSSHT:*Shut closes all open files on all filing systems. 
SFLSSHT:Syntax: *Shut 
#{Token0=ShutDown}
HFLSSHD:*ShutDown closes all open files on all filing systems, logs off file servers and causes hard discs to be parked. 
SFLSSHD:Syntax: *ShutDown 
#{Token0=Stamp}
HFLSSTM:*Stamp sets the datestamp on a file to the current time and date. If the file is not already datestamped then it is given file type Data (&FFD). 
SFLSSTM:Syntax: *Stamp <filename> 
#{Token0=Up}
HFLSUP:*Up moves the current directory up the directory structure by the specified number of levels. 
SFLSUP:Syntax: *Up [<levels>] 
#{Token0=Wipe}
HFLSWIP:*Wipe deletes one or more objects that match the given wildcard specification. Options are taken from the system variable Wipe$Options and those given to the command.Options: (use ~ to force off,eg. ~V)C(onfirm)	Prompt for confirmation of each deletion {on}F(orce)		Force deletion of locked objects {off}R(ecurse)	Delete subdirectories and contents {off}V(erbose)	Print information on each object deleted {on}See also *Delete. 
SFLSWIP:Syntax: *Wipe <file spec> [<options>] 
#{Token0=Back}
HFLSBCK:*Back swaps the current and previous directories. 
SFLSBCK:Syntax: *Back 
#{Token0=URD}
HFLSURD:*URD selects a directory as the user root directory (default restores the URD to & or $ as appropriate). 
SFLSURD:Syntax: *URD [<directory>] 
#{Token0=NoDir}
HFLSNDR:*NoDir unsets the currently selected directory on the temporary filing system. 
SFLSNDR:Syntax: *NoDir 
#{Token0=NoURD}
HFLSNUR:*NoURD unsets the user root directory on the temporary filing system. 
SFLSNUR:Syntax: *NoURD 
#{Token0=NoLib}
HFLSNLB:*NoLib unsets the library directory on the temporary filing system. 
SFLSNLB:Syntax: *NoLib 
#{Token0=FileSystem}
HFLSCFS:*Configure FileSystem sets the default filing system. 
SFLSCFS:Syntax: *Configure FileSystem <fs name>|<fs number> 
#{Token0=Truncate}
HFLSCTR:*Configure Truncate sets whether filenames should be truncated when too long. 
SFLSCTR:Syntax: *Configure Truncate on|off 
@


4.1.4.1
log
@Updated the FSControl code to make the copy operation use a dynamic area,
instead of the free pool.  The maximum size of this dynamic area is set as
the size of the 'next' slot.  This prevents the problems associated with
*copy where it will claim all the free memory, thus stoppping for example
filecore from growing its directory buffer, or zap from growing its dynamic
area.  This makes multiple *copies in task windows usable.
@
text
@d8 1
a8 1
C4: (Y/N/Quiet/Abandon) ?
d14 1
a14 1
C10: (Y/N) ?
a46 1
CC28:*copy buffer
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.7.2
log
@Command line messages removed
@
text
@d121 85
@


4.1.5.1
log
@Import from SrcFiler
@
text
@@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
