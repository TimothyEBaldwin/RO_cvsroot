head	1.22;
access;
symbols
	URL-0_58:1.22
	URL-0_57:1.21
	URL-0_56:1.20
	URL-0_55:1.19
	URL-0_54:1.18
	URL-0_53:1.17
	URL-0_52:1.15
	URL-0_51:1.14
	URL-0_50:1.13
	dellis_autobuild_BaseSW:1.12
	URL-0_49:1.12
	URL-0_48:1.11
	URL-0_47:1.10
	URL-0_46:1.9
	sbrodie_sedwards_16Mar2000:1.8
	dcotton_autobuild_BaseSW:1.13
	URL-0_45:1.8
	URL-0_44:1.7
	URL-0_43:1.6
	URL-0_42:1.5
	URL-0_41:1.4
	URL-0_40:1.3
	URL-0_39:1.2
	sbrodie_URL_0_38:1.1;
locks; strict;
comment	@# @;


1.22
date	2018.05.12.08.55.26;	author rool;	state Exp;
branches;
next	1.21;
commitid	Z9VvVF7l3Nu5dZBA;

1.21
date	2012.01.14.22.57.02;	author srevill;	state Exp;
branches;
next	1.20;
commitid	IzSkjgLK9LPp7cPv;

1.20
date	2008.10.07.01.17.00;	author srevill;	state Exp;
branches;
next	1.19;

1.19
date	2005.06.02.08.56.27;	author ahodgkin;	state Exp;
branches;
next	1.18;

1.18
date	2005.03.30.16.04.15;	author srevill;	state Exp;
branches;
next	1.17;

1.17
date	2004.07.02.10.49.45;	author bavison;	state Exp;
branches;
next	1.16;

1.16
date	2003.11.12.19.02.09;	author bavison;	state Exp;
branches;
next	1.15;

1.15
date	2002.05.09.13.20.14;	author srevill;	state Exp;
branches;
next	1.14;

1.14
date	2002.04.12.13.45.10;	author srevill;	state Exp;
branches;
next	1.13;

1.13
date	2000.10.05.08.35.03;	author sbrodie;	state Exp;
branches;
next	1.12;

1.12
date	2000.09.14.11.11.59;	author sbrodie;	state Exp;
branches;
next	1.11;

1.11
date	2000.05.04.15.07.15;	author sbrodie;	state Exp;
branches;
next	1.10;

1.10
date	2000.05.02.16.23.02;	author sbrodie;	state Exp;
branches;
next	1.9;

1.9
date	2000.05.02.13.24.56;	author sbrodie;	state Exp;
branches;
next	1.8;

1.8
date	99.04.12.13.50.02;	author sbrodie;	state Exp;
branches;
next	1.7;

1.7
date	99.02.15.15.27.38;	author sbrodie;	state Exp;
branches;
next	1.6;

1.6
date	98.12.17.15.42.09;	author sbrodie;	state Exp;
branches;
next	1.5;

1.5
date	98.11.13.14.13.48;	author sbrodie;	state Exp;
branches;
next	1.4;

1.4
date	98.10.06.12.48.02;	author sbrodie;	state Exp;
branches;
next	1.3;

1.3
date	98.09.16.10.38.05;	author sbrodie;	state Exp;
branches;
next	1.2;

1.2
date	98.06.29.13.57.11;	author sbrodie;	state Exp;
branches;
next	1.1;

1.1
date	98.05.07.11.53.18;	author sbrodie;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Makefile recreated from fragments
Detail:
  Now exports its SWIs & service calls to Interface/URL.h
Admin:
  Submission for TCP/IP bounty.

Version 0.58. Tagged as 'URL-0_58'
@
text
@/* (0.58)
 *
 * This file is automatically maintained by srccommit, do not edit manually.
 * Last processed by srccommit version: 1.1.
 *
 */
#define Module_MajorVersion_CMHG        0.58
#define Module_MinorVersion_CMHG        
#define Module_Date_CMHG                12 May 2018

#define Module_MajorVersion             "0.58"
#define Module_Version                  58
#define Module_MinorVersion             ""
#define Module_Date                     "12 May 2018"

#define Module_ApplicationDate          "12-May-18"

#define Module_ComponentName            "URL"
#define Module_ComponentPath            "castle/RiscOS/Sources/Networking/Fetchers/URL"

#define Module_FullVersion              "0.58"
#define Module_HelpVersion              "0.58 (12 May 2018)"
#define Module_LibraryVersionInfo       "0:58"
@


1.21
log
@Replace "-wipe" with "x wipe" in makefiles to remove annoying errors.

Version 0.57. Tagged as 'URL-0_57'
@
text
@d1 1
a1 1
/* (0.57)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.57
d9 1
a9 1
#define Module_Date_CMHG                14 Jan 2012
d11 2
a12 2
#define Module_MajorVersion             "0.57"
#define Module_Version                  57
d14 1
a14 1
#define Module_Date                     "14 Jan 2012"
d16 1
a16 1
#define Module_ApplicationDate          "14-Jan-12"
d21 3
a23 3
#define Module_FullVersion              "0.57"
#define Module_HelpVersion              "0.57 (14 Jan 2012)"
#define Module_LibraryVersionInfo       "0:57"
@


1.20
log
@  Fixed clean rule of Makefile to avoid annoying error messages.
Detail:
  Use the XWIPE macro rather than WIPE so that when the component
  is cleaned, we don't get loads of irritating errors from AMU if
  the object to be wiped doesn't exist.
Admin:
  No code change.


Version 0.56. Tagged as 'URL-0_56'
@
text
@d1 1
a1 1
/* (0.56)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.56
d9 1
a9 1
#define Module_Date_CMHG                07 Oct 2008
d11 2
a12 2
#define Module_MajorVersion             "0.56"
#define Module_Version                  56
d14 1
a14 1
#define Module_Date                     "07 Oct 2008"
d16 1
a16 1
#define Module_ApplicationDate          "07-Oct-08"
d21 3
a23 3
#define Module_FullVersion              "0.56"
#define Module_HelpVersion              "0.56 (07 Oct 2008)"
#define Module_LibraryVersionInfo       "0:56"
@


1.19
log
@  Fix for CC complaint.
Detail:
  CC was not happy with "const register", but likes "register const".
Admin:
  Rolls in a change to c/proxy similar to that made by srevill a while
  ago, just with #include <name> semantics to match other standard
  headers included in that file (proxy.c).

Version 0.55. Tagged as 'URL-0_55'
@
text
@d1 1
a1 1
/* (0.55)
d4 1
a4 1
 * Last processed by srccommit version: 1.2.
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.55
d9 1
a9 1
#define Module_Date_CMHG                02 Jun 2005
d11 2
a12 2
#define Module_MajorVersion             "0.55"
#define Module_Version                  55
d14 1
a14 1
#define Module_Date                     "02 Jun 2005"
d16 1
a16 1
#define Module_ApplicationDate          "02-Jun-05"
d19 1
a19 1
#define Module_ComponentPath            "RiscOS/Sources/Networking/Fetchers/URL"
d21 3
a23 3
#define Module_FullVersion              "0.55"
#define Module_HelpVersion              "0.55 (02 Jun 2005)"
#define Module_LibraryVersionInfo       "0:55"
@


1.18
log
@  Fix for new compiler
Detail:
  Obsolete #include of strings.h changed to string.h as this is
  now faulted by the latest cc.
Admin:
  To be tested in STB ROM build

Version 0.54. Tagged as 'URL-0_54'
@
text
@d1 1
a1 1
/* (0.54)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.54
d9 1
a9 1
#define Module_Date_CMHG                30 Mar 2005
d11 2
a12 2
#define Module_MajorVersion             "0.54"
#define Module_Version                  54
d14 1
a14 1
#define Module_Date                     "30 Mar 2005"
d16 1
a16 1
#define Module_ApplicationDate          "30-Mar-05"
d21 3
a23 3
#define Module_FullVersion              "0.54"
#define Module_HelpVersion              "0.54 (30 Mar 2005)"
#define Module_LibraryVersionInfo       "0:54"
@


1.17
log
@Merged in Kevin's change (32-bit compatibility)

Version 0.53. Tagged as 'URL-0_53'
@
text
@d1 1
a1 1
/* (0.53)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.53
d9 1
a9 1
#define Module_Date_CMHG                02 Jul 2004
d11 2
a12 2
#define Module_MajorVersion             "0.53"
#define Module_Version                  53
d14 1
a14 1
#define Module_Date                     "02 Jul 2004"
d16 1
a16 1
#define Module_ApplicationDate          "02-Jul-04"
d21 3
a23 3
#define Module_FullVersion              "0.53"
#define Module_HelpVersion              "0.53 (02 Jul 2004)"
#define Module_LibraryVersionInfo       "0:53"
@


1.16
log
@Changed to use gawk instead of awk.

Version 0.52. Not tagged
@
text
@d1 1
a1 1
/* (0.52)
d4 1
a4 1
 * Last processed by srccommit version: 1.68.
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.52
d9 1
a9 1
#define Module_Date_CMHG                12 Nov 2003
d11 2
a12 2
#define Module_MajorVersion             "0.52"
#define Module_Version                  52
d14 1
a14 1
#define Module_Date                     "12 Nov 2003"
d16 1
a16 1
#define Module_ApplicationDate          "12-Nov-03"
d21 3
a23 3
#define Module_FullVersion              "0.52"
#define Module_HelpVersion              "0.52 (12 Nov 2003)"
#define Module_LibraryVersionInfo       "0:52"
@


1.15
log
@Added ${CPFLAGS} to the copy in the (ram) install phase.

Version 0.52. Tagged as 'URL-0_52'
@
text
@d4 1
a4 1
 * Last processed by srccommit version: 1.63.
d9 1
a9 1
#define Module_Date_CMHG                09 May 2002
d14 1
a14 1
#define Module_Date                     "09 May 2002"
d16 1
a16 2
#define Module_ApplicationDate2         "09-May-02"
#define Module_ApplicationDate4         "09-May-2002"
d22 1
a22 1
#define Module_HelpVersion              "0.52 (09 May 2002)"
@


1.14
log
@  Makefile improvements.
Detail:
  Added/fixed the install rule for disc builds as required for the Baseline
  builds.
Admin:
  Builds and installs.

Version 0.51. Tagged as 'URL-0_51'
@
text
@d1 1
a1 1
/* (0.51)
d4 1
a4 1
 * Last processed by srccommit version: 1.62.
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.51
d9 1
a9 1
#define Module_Date_CMHG                12 Apr 2002
d11 2
a12 2
#define Module_MajorVersion             "0.51"
#define Module_Version                  51
d14 1
a14 1
#define Module_Date                     "12 Apr 2002"
d16 2
a17 2
#define Module_ApplicationDate2         "12-Apr-02"
#define Module_ApplicationDate4         "12-Apr-2002"
d22 3
a24 3
#define Module_FullVersion              "0.51"
#define Module_HelpVersion              "0.51 (12 Apr 2002)"
#define Module_LibraryVersionInfo       "0:51"
@


1.13
log
@  export_libs phase added to stop build error.

Version 0.50. Tagged as 'URL-0_50'
@
text
@d1 1
a1 1
/* (0.50)
d4 1
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.50
d9 1
a9 1
#define Module_Date_CMHG                05 Oct 2000
d11 2
a12 2
#define Module_MajorVersion             "0.50"
#define Module_Version                  50
d14 1
a14 1
#define Module_Date                     "05 Oct 2000"
d16 2
a17 2
#define Module_ApplicationDate2         "05-Oct-00"
#define Module_ApplicationDate4         "05-Oct-2000"
d19 6
a24 2
#define Module_FullVersion              "0.50"
#define Module_HelpVersion              "0.50 (05 Oct 2000)"
@


1.12
log
@  New export phase for exporting SWI number symbols.
Detail:
  Exports a header file for C code to use to define SWI numbers for
    the URL module.  Include "Interface/URL.h" to get the header.
  Updated to use DebugLib instead of its own private debugging system.
Admin:
  Requires RiscOS/BuildSys 2.51 or later.
  Requires RiscOS/Library 0.53 or later

Version 0.49. Tagged as 'URL-0_49'
@
text
@d1 1
a1 1
/* (0.49)
d6 1
a6 1
#define Module_MajorVersion_CMHG        0.49
d8 1
a8 1
#define Module_Date_CMHG                14 Sep 2000
d10 2
a11 2
#define Module_MajorVersion             "0.49"
#define Module_Version                  49
d13 1
a13 1
#define Module_Date                     "14 Sep 2000"
d15 2
a16 2
#define Module_ApplicationDate2         "14-Sep-00"
#define Module_ApplicationDate4         "14-Sep-2000"
d18 2
a19 1
#define Module_FullVersion              "0.49"
@


1.11
log
@Made 32-bit safe by ensuring that the assembler fragment can not be used
Added clean rule to test directory makefile

Version 0.48. Tagged as 'URL-0_48'
@
text
@d1 1
a1 1
/* (0.48)
d6 1
a6 1
#define Module_MajorVersion_CMHG        0.48
d8 1
a8 1
#define Module_Date_CMHG                04 May 2000
d10 2
a11 2
#define Module_MajorVersion             "0.48"
#define Module_Version                  48
d13 1
a13 1
#define Module_Date                     "04 May 2000"
d15 4
a18 1
#define Module_FullVersion              "0.48"
@


1.10
log
@Makefile names all the dependent PNG images explicitly instead
of trying to add a dependency on a directory (which doesn't work).

Version 0.47. Tagged as 'URL-0_47'
@
text
@d1 1
a1 1
/* (0.47)
d6 1
a6 1
#define Module_MajorVersion_CMHG        0.47
d8 1
a8 1
#define Module_Date_CMHG                02 May 2000
d10 2
a11 2
#define Module_MajorVersion             "0.47"
#define Module_Version                  47
d13 1
a13 1
#define Module_Date                     "02 May 2000"
d15 1
a15 1
#define Module_FullVersion              "0.47"
@


1.9
log
@  Moved AOF and linked directory creation into the right places.

Version 0.46. Tagged as 'URL-0_46'
@
text
@d1 1
a1 1
/* (0.46)
d6 1
a6 1
#define Module_MajorVersion_CMHG        0.46
d10 2
a11 2
#define Module_MajorVersion             "0.46"
#define Module_Version                  46
d15 1
a15 1
#define Module_FullVersion              "0.46"
@


1.8
log
@  Fixed crashes on URL_ParseURL 2 calls.
Detail:
  When rebuilding a URL object, the URL module would attempt to free()
    the pointers in the caller's URL block.  Since it didn't actually
    own these, this either caused somebody else's RMA to get freed or
    caused a "free failed" message to be output.  URL now takes a copy
    of the user data into its own buffers in order to rebuild the full
    URL.
  Increased the memory pool for URL_ParseURL 2 to 1024 bytes.
Admin:
  New test program (TestParse2) added to test this reason code.
  New script (RunAllTest) to run all the test programs.

Version 0.45. Tagged as 'URL-0_45'
@
text
@d1 1
a1 1
/* (0.45)
d6 3
a8 3
#define Module_MajorVersion_CMHG     	0.45
#define Module_MinorVersion_CMHG	
#define Module_Date_CMHG      		12 Apr 1999
d10 4
a13 4
#define Module_MajorVersion     	"0.45"
#define Module_Version                  45
#define Module_MinorVersion		""
#define Module_Date      		"12 Apr 1999"
d15 1
a15 1
#define Module_FullVersion              "0.45"
@


1.7
log
@  Via file for resource generation updated to use LocalRes:
Detail:
  Also, log tags removed from geturl.c to stop CVS inserting the
    changelogs in that file.
Admim:
  No functional change.

Version 0.44. Tagged as 'URL-0_44'
@
text
@d1 1
a1 1
/* (0.44)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.44
d8 1
a8 1
#define Module_Date_CMHG      		15 Feb 1999
d10 2
a11 2
#define Module_MajorVersion     	"0.44"
#define Module_Version                  44
d13 1
a13 1
#define Module_Date      		"15 Feb 1999"
d15 1
@


1.6
log
@  Resolver fix.  Illegal URLs weren't being resolved as expected.
Detail:
  Broken URLs as generated by the faults database software on NC-NT
    weren't being resolved to the same level of brokenness in other
    software.
  Test case added for checking this resolve "works".
Admin:
  Can at least browse the faults database now.

Version 0.43. Tagged as 'URL-0_43'
@
text
@d1 1
a1 1
/* (0.43)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.43
d8 1
a8 1
#define Module_Date_CMHG      		17 Dec 1998
d10 2
a11 2
#define Module_MajorVersion     	"0.43"
#define Module_Version                  43
d13 1
a13 1
#define Module_Date      		"17 Dec 1998"
@


1.5
log
@  New flag to control hex encoding of URLs.
  Now takes notice of R0:0 on URL_ParseURL (field count in R5)
Admin:
  Supporting documentation:
    Acorn URL fetcher API specification (1215,220/FS; ECO4131)

Version 0.42. Tagged as 'URL-0_42'
@
text
@d1 1
a1 1
/* (0.42)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.42
d8 1
a8 1
#define Module_Date_CMHG      		13 Nov 1998
d10 2
a11 2
#define Module_MajorVersion     	"0.42"
#define Module_Version                  42
d13 1
a13 1
#define Module_Date      		"13 Nov 1998"
@


1.4
log
@  Minor fault in URL resolver fixed (test cases added to test plan)
  Updated to use LocalRes
  Memory allocation for URL resolver increased to accomodate extra
  requirements for resolver fix.
Detail:
  Relative URLs using a // to replace everything but the scheme specifier
  didn't work.  They now do, plus a test in OddURLs checks that this is
  working.
  Memory pool size calculation altered to account for misaligned segments
  of URL to solve observed pool exhaustions on approximately 50% of
  resolves.  This was not fatal, as the memory allocator fell back to
  getting more chunks of RMA, but this can cause a severe performance
  penalty.
Admin:
  Built from clean; verified RAM build; verified resources exported OK.

Version 0.41. Tagged as 'URL-0_41'
@
text
@d1 1
a1 1
/* (0.41)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.41
d8 1
a8 1
#define Module_Date_CMHG      		06 Oct 1998
d10 2
a11 2
#define Module_MajorVersion     	"0.41"
#define Module_Version                  41
d13 1
a13 1
#define Module_Date      		"06 Oct 1998"
@


1.3
log
@  No longer uses TinyStubs (due to __ctype)
  Extra ResourceFS files added for shared fetcher use.
Detail:
  TinyStubs usage for ROM builds removed due to library static data
    reference problems.
  Added code for direct SWI calling to protocol modules.  This code
    is switched out on the DIRECTSWI macro which is set in Makefile.
  RCS log tags removed from source files.
  New tests added to OddURLs test file.
Admin:
  Built from clean; tested in RAM build.

Version 0.40. Tagged as 'URL-0_40'
@
text
@d1 1
a1 1
/* (0.40)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.40
d8 1
a8 1
#define Module_Date_CMHG      		16 Sep 1998
d10 2
a11 2
#define Module_MajorVersion     	"0.40"
#define Module_Version                  40
d13 1
a13 1
#define Module_Date      		"16 Sep 1998"
@


1.2
log
@New SWI added to enumerate proxies, plus new test program for the SWI.
New *-command for dumping proxy information - only in debug builds.

Version 0.39. Tagged as 'URL-0_39'
@
text
@d1 1
a1 1
/* (0.39)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.39
d8 1
a8 1
#define Module_Date_CMHG      		29 Jun 1998
d10 2
a11 2
#define Module_MajorVersion     	"0.39"
#define Module_Version                  39
d13 1
a13 1
#define Module_Date      		"29 Jun 1998"
@


1.1
log
@created by srccommit.
@
text
@d1 1
a1 1
/* (0.38)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.38
d8 1
a8 1
#define Module_Date_CMHG      		07 May 1998
d10 2
a11 2
#define Module_MajorVersion     	"0.38"
#define Module_Version                  38
d13 1
a13 1
#define Module_Date      		"07 May 1998"
@
