head	4.10;
access;
symbols
	Manager-3_80:4.10
	Manager-3_79:4.10
	Manager-3_78:4.10
	Manager-3_77:4.10
	Manager-3_76:4.10
	Manager-3_75:4.10
	Manager-3_74:4.10
	Manager-3_73:4.10
	Manager-3_72:4.10
	Manager-3_71:4.10
	Manager-3_70:4.9
	Manager-3_69:4.9
	Manager-3_68:4.9
	Manager-3_67:4.9
	Manager-3_66:4.9
	Manager-3_65:4.8
	Manager-3_64:4.8
	Manager-3_63:4.8
	Manager-3_62:4.7
	Manager-3_61:4.6
	Manager-3_60:4.6
	RO_5_07:4.6
	Manager-3_59:4.6
	Manager-3_58:4.6
	Manager-3_57:4.6
	Manager-3_56:4.6
	Manager-3_55:4.6
	Manager-3_54:4.6
	Manager-3_53:4.6
	Manager-3_52:4.6
	Manager-3_51:4.6
	Manager-3_50:4.6
	Manager-3_49:4.5
	dellis_autobuild_BaseSW:4.5
	Manager-3_48:4.5
	sbrodie_sedwards_16Mar2000:4.5
	dcotton_autobuild_BaseSW:4.6
	Manager-3_47:4.5
	Manager-3_46:4.5
	Manager-3_45:4.5
	Manager-3_44:4.5
	Manager-3_43:4.5
	Manager-3_42:4.5
	mstphens_UrsulaRiscPCBuild_20Nov98:4.3
	Manager-3_41-4_2_2_13:4.3.4.1
	Ursula_RiscPC:4.3.0.6
	Manager-3_41-4_2_2_12:4.3.4.1
	Manager-3_41-4_2_2_11:4.3.4.1
	Manager-3_41-4_2_2_10:4.3.4.1
	Manager-3_41-4_2_2_9:4.3.4.1
	Manager-3_41-4_2_2_8:4.3.4.1
	Manager-3_41-4_2_2_7:4.3.4.1
	Manager-3_41-4_2_2_6:4.3.4.1
	Manager-3_41-4_2_2_5:4.3
	Manager-3_41-4_2_2_4:4.3
	Manager-3_41-4_2_2_3:4.3
	Manager-3_41-4_2_2_2:4.3
	Manager-3_41-4_2_2_1:4.3
	NRaine:4.3.0.4
	Manager-3_41:4.3
	Ursula_merge:4.3
	rthornb_UrsulaBuild-19Aug1998:4.3
	UrsulaBuild_FinalSoftload:4.3
	bavison_FontManager-3_40:4.3
	rthornb_UrsulaBuild-12Aug1998:4.3
	aglover_UrsulaBuild-05Aug1998:4.3
	rthornb_UrsulaBuild-29Jul1998:4.3
	rthornb_UrsulaBuild-22Jul1998:4.3
	rthornb_UrsulaBuild-15Jul1998:4.3
	rthornb_UrsulaBuild-07Jul1998:4.3
	rthornb_UrsulaBuild-17Jun1998:4.3
	rthornb_UrsulaBuild-03Jun1998:4.3
	rthornb_UrsulaBuild-27May1998:4.3
	rthornb_UrsulaBuild-21May1998:4.3
	rthornb_UrsulaBuild_01May1998:4.3
	afrost_NC2_Generic:4.1.7.2
	Manager-3_40-1_1_2_2:4.1.7.1.4.1
	smiddle_2Mar1998_Fonts16:4.1.7.1.0.4
	Spinner_B20_2:4.1.7.2
	Spinner_19_3:4.1.7.2
	Spinner_B18:4.1.7.2
	Spinner_B17:4.1.7.2
	Spinner_B15:4.1.7.2
	Spinner_B14:4.1.7.2
	Spinner_B13:4.1.7.2
	Spinner_B12:4.1.7.2
	Spinner_B10:4.1.7.2
	Spin_merge_16May97:4.1.7.1
	Daytona:4.2.0.6
	Daytona_bp:4.2
	Ursula:4.3.0.2
	Ursula_bp:4.3
	Spinner_B7:4.1.7.2
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	ARTtmp:4.1.7.1.0.2
	Spin_merge:4.1.7.2
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.10
date	2012.01.27.21.08.30;	author rsprowson;	state Exp;
branches;
next	4.9;
commitid	cFxHM94cGf7g6RQv;

4.9
date	2010.01.02.19.35.14;	author rsprowson;	state Exp;
branches;
next	4.8;

4.8
date	2009.06.16.00.37.41;	author bavison;	state Exp;
branches;
next	4.7;

4.7
date	2009.05.14.17.24.45;	author jbell;	state Exp;
branches;
next	4.6;

4.6
date	2001.03.23.17.09.23;	author sbrodie;	state Exp;
branches;
next	4.5;

4.5
date	99.02.18.16.49.45;	author kbracey;	state Exp;
branches;
next	4.4;

4.4
date	98.10.28.18.17.40;	author nturton;	state Exp;
branches;
next	4.3;

4.3
date	97.05.16.14.22.25;	author kbracey;	state Exp;
branches
	4.3.4.1;
next	4.2;

4.2
date	97.01.21.17.49.31;	author nturton;	state Exp;
branches;
next	4.1;

4.1
date	96.11.05.09.43.12;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.3.4.1
date	98.10.19.15.57.15;	author kbracey;	state Exp;
branches;
next	;

4.1.1.1
date	96.11.05.09.43.12;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.06.02.15.45;	author nturton;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.12.51.22;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.21.14.24;	author nturton;	state Exp;
branches
	4.1.7.1.4.1;
next	4.1.7.2;

4.1.7.2
date	97.04.30.18.40.50;	author scormie;	state Exp;
branches;
next	;

4.1.7.1.4.1
date	98.03.03.13.22.43;	author smiddle;	state Exp;
branches;
next	;


desc
@@


4.10
log
@Get extra header file for Service_International.
Allow the font prefix to contain path variables (ending in colon) as well as paths (ending in dot).

Version 3.71. Tagged as 'Manager-3_71'
@
text
@; Copyright 1996 Acorn Computers Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;
; > Sources.Fonts
;
;;----------------------------------------------------------------------------
;; Title:    Font Manager Module
;; Authors:  Neil Raine
;;----------------------------------------------------------------------------

;
; Load header files from Hdr:
;
        AREA    |Fonts$$Code|, CODE, READONLY, PIC
origin

        GET     hdr:ListOpts
        GET     hdr:Macros
        GET     hdr:System
        GET     hdr:Machine.<Machine>
        GET     hdr:CPU.Arch
        GET     hdr:CMOS
        GET     hdr:ModHand
        GET     hdr:Proc
        GET     hdr:Services
        GET     hdr:FSNumbers
        GET     Hdr:HighFSI
        GET     hdr:NewErrors
        GET     hdr:Variables
        GET     hdr:VduExt
        GET     hdr:PDriver
        GET     hdr:Font
        GET     hdr:Super
        GET     hdr:MsgTrans
        GET     hdr:Sprite
        GET     hdr:Draw
        GET     hdr:ColourTran
        GET     hdr:Wimp
        GET     hdr:WimpSpace
        GET     hdr:Hourglass
        GET     hdr:FileTypes
        GET     hdr:Territory
        GET     hdr:Internatio
        GET     hdr:NDRDebug
        GET     hdr:PublicWS
        GET     hdr:hostfs

        GET     VersionASM

        GET     Errors.s
        GET     Fonts01.s
        GET     Fonts02.s
        GET     Fonts03.s
        GET     Fonts04.s
        GET     Encoding.s

        GET     Blending.s

        END
@


4.9
log
@Validate paths supplied to *FontInstall/Remove
Detail:
Paths supplied to *FontInstall/*FontRemove didn't actually have to be paths, and the directory scanner would attempt to recurse into the object supplied leading to lots of bogus error messages when using anything font related that attempted to recache the font list (eg. opening a font menu).
Added check that for every element supplied must end in a dot.
Trimmed unnecessary 'Version' file, using VersionASM directly.
Updated messages file with new error message.

Version 3.66. Tagged as 'Manager-3_66'
@
text
@d54 1
@


4.8
log
@  Architecture-specific speedups
Detail:
  Various new architecture features used to read signed and unsigned
  halfwords and 3-byte values from arbitrary alignments - used for parsing
  UTF-16 strings and embedded control sequences.
  * when targetting only ARMv4 or later, uses LDRSB, LDRH, LDRSH
  * when targetting only ARMv6 or later, uses unaligned LDR (unless the
    NoUaligned switch is set in Hdr:Machine.Machine)
  * when targetting only ARMv6T2 or later, uses SBFX (not currently
    supported by objasm, so uses DCI instead)
  Added ENTRY directive to permit building of GPA debug listing.
Admin:
  Builds, but not tested.

Version 3.63. Tagged as 'Manager-3_63'
@
text
@d58 2
d67 1
a67 1
        GET   Blending.s
@


4.7
log
@ Seriously reduce the amount of build options, purging those that have
 been enabled by default for years.
Detail:
 Remaining options are: usesetpalette, newunderline, checkhandles,
 lessercheckhandles, and blendingOn.
Admin:
 Resulting binary is identical to 3.61.


Version 3.62. Tagged as 'Manager-3_62'
@
text
@d32 1
@


4.6
log
@  Updated build structure to use the shared AAsmModule makefile.
  Updated to build using objasm instead of aasm.
  Sources changed to be objasm-compatible.
Admin:
  Requires Library 0.72 or later.
  Requires BuildSys 3.09 or later.
  Requires Env 0.65 or later.

Version 3.50. Tagged as 'Manager-3_50'
@
text
@d64 1
a64 2
        GetIf   Blending.s, blending
        $GetConditionally
@


4.5
log
@Unicode Font Manager moved onto trunk.

Version 3.42. Tagged as 'Manager-3_42'
@
text
@d25 1
a25 1

d57 6
a62 6
        GET     s.Errors
        GET     s.Fonts01
        GET     s.Fonts02
        GET     s.Fonts03
        GET     s.Fonts04
        GET     s.Encoding
d64 2
a65 2
	GetIf	s.Blending, blending
	$GetConditionally
@


4.4
log
@Fixed to build with the new Hdr:CMOS
@
text
@d31 1
a31 1
        GET	hdr:Machine.<Machine>
@


4.3
log
@Spinner branch merged
@
text
@d31 1
@


4.3.4.1
log
@Modified to cope with new Hdr:CMOS

Version 3.41, 4.2.2.6. Tagged as 'Manager-3_41-4_2_2_6'
@
text
@a30 1
        GET     hdr:Machine.<Machine>
@


4.2
log
@Version Spin_merge taken
@
text
@a39 1
        GET     hdr:Debug
@


4.1
log
@Initial revision
@
text
@d64 3
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@a63 3
	GetIf	s.Blending, blending
	$GetConditionally

@


4.1.7.1.4.1
log
@Checked in RBrowning sources to own branch for 16bit development. This module has been checked
to build the same as it did in his hard disc.

Version 3.40, 1.1.2.2. Tagged as 'Manager-3_40-1_1_2_2'
@
text
@a19 1
;;	     Richard Browning
a24 7
;	GBLL	PeerFontModule
	GBLS	NameTail
  [  :DEF: PeerFontModule
NameTail SETS	"16"
  |
NameTail SETS	""
  ]
a62 1
	GET	s.FontsWide
@


4.1.7.2
log
@   Don't call PaintChars if a Wimp error box is open.
@
text
@d40 1
@


4.1.5.1
log
@Import from SrcFiler
@
text
@a63 3
	GetIf	s.Blending, blending
	$GetConditionally

@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@a63 3
	GetIf	s.Blending, blending
	$GetConditionally

@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
