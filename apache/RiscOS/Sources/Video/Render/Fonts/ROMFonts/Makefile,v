head	4.16;
access;
symbols
	ROMFonts-0_77:4.16
	ROMFonts-0_76:4.16
	ROMFonts-0_75:4.15
	ROMFonts-0_74:4.15
	ROMFonts-0_73:4.15
	ROMFonts-0_72:4.15
	RO_5_07:4.15
	ROMFonts-0_71:4.15
	ROMFonts-0_70:4.15
	ROMFonts-0_69:4.15
	ROMFonts-0_68:4.14
	ROMFonts-0_67:4.13
	ROMFonts-0_66:4.13
	ROMFonts-0_65:4.13
	ROMFonts-0_64:4.13
	ROMFonts-0_63:4.13
	ROMFonts-0_62:4.12
	ROMFonts-0_61:4.12
	ROMFonts-0_60:4.12
	ROMFonts-0_59:4.11
	ROMFonts-0_58:4.11
	ROMFonts-0_57:4.11
	dellis_autobuild_BaseSW:4.10
	ROMFonts-0_56:4.10
	ROMFonts-0_55:4.10
	ROMFonts-0_54:4.10
	ROMFonts-0_53:4.10
	sbrodie_sedwards_16Mar2000:4.10
	ROMFonts-0_52:4.10
	ROMFonts-0_51:4.10
	ROMFonts-0_50:4.10
	ROMFonts-0_49:4.10
	ROMFonts-0_48:4.10
	ROMFonts-0_47:4.10
	ROMFonts-0_46:4.10
	ROMFonts-0_45:4.10
	ROMFonts-0_44:4.10
	ROMFonts-0_43:4.10
	ROMFonts-0_42:4.9
	ROMFonts-0_41:4.8
	ROMFonts-0_40:4.7
	dcotton_autobuild_BaseSW:4.11
	ROMFonts-0_39:4.7
	ROMFonts-0_38:4.7
	ROMFonts-0_37:4.7
	ROMFonts-0_36:4.7
	ROMFonts-0_35:4.6
	ROMFonts-0_34:4.6
	ROMFonts-0_33:4.5
	ROMFonts-0_32:4.4
	ROMFonts-0_31:4.4
	ROMFonts-0_30:4.4
	mstphens_UrsulaRiscPCBuild_20Nov98:4.1.4.3
	Ursula_RiscPC:4.1.4.3.0.2
	ROMFonts-0_29:4.4
	ROMFonts-0_28:4.3
	ROMFonts-0_27:4.3
	ROMFonts-0_26:4.3
	ROMFonts-0_25:4.3
	ROMFonts-0_24:4.2
	Ursula_merge:4.1.4.3
	rthornb_UrsulaBuild-19Aug1998:4.1.4.3
	UrsulaBuild_FinalSoftload:4.1.4.3
	bavison_ROMFonts-0_23:4.1.4.3
	rthornb_UrsulaBuild-12Aug1998:4.1.4.3
	bavison_ROMFonts-0_22:4.1.4.3
	aglover_UrsulaBuild-05Aug1998:4.1.4.2
	rthornb_UrsulaBuild-29Jul1998:4.1.4.2
	rthornb_UrsulaBuild-22Jul1998:4.1.4.2
	rthornb_UrsulaBuild-15Jul1998:4.1.4.2
	rthornb_UrsulaBuild-07Jul1998:4.1.4.2
	rthornb_UrsulaBuild-17Jun1998:4.1.4.2
	rthornb_UrsulaBuild-03Jun1998:4.1.4.2
	rthornb_UrsulaBuild-27May1998:4.1.4.2
	rthornb_UrsulaBuild-21May1998:4.1.4.2
	rthornb_UrsulaBuild_01May1998:4.1.4.2
	afrost_NC2_Generic:4.1.7.2
	afrost_Funai01-33:4.1.7.2
	Spinner_RCA116:4.1.7.2
	Spinner_B20_2:4.1.7.2
	Spinner_19_3:4.1.7.2
	Spinner_B18:4.1.7.2
	Spinner_B17:4.1.7.2
	Spinner_B15:4.1.7.2
	Spinner_B14:4.1.7.2
	Spinner_B13:4.1.7.2
	Spinner_B12:4.1.7.2
	Spinner_B10:4.1.7.2
	Daytona:4.1.0.6
	Daytona_bp:4.1
	Ursula:4.1.0.4
	Ursula_bp:4.1
	Spinner_B7:4.1.7.2
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	RCA_bp:4.1
	ARTtmp:4.1.7.1.0.2
	RCA:4.1.0.2
	Spin_merge:4.1.7.1
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.16
date	2012.01.14.23.04.11;	author srevill;	state Exp;
branches;
next	4.15;
commitid	1tt6UBe7K5ZR9cPv;

4.15
date	2004.07.02.17.40.00;	author bavison;	state Exp;
branches;
next	4.14;

4.14
date	2004.07.01.16.41.58;	author srevill;	state Exp;
branches;
next	4.13;

4.13
date	2002.02.20.16.13.32;	author srevill;	state Exp;
branches;
next	4.12;

4.12
date	2001.10.06.13.43.14;	author srevill;	state Exp;
branches;
next	4.11;

4.11
date	2000.12.13.11.44.26;	author nbingham;	state Exp;
branches;
next	4.10;

4.10
date	99.11.23.11.53.54;	author dcotton;	state Exp;
branches;
next	4.9;

4.9
date	99.11.19.16.25.37;	author nbingham;	state Exp;
branches;
next	4.8;

4.8
date	99.10.07.10.46.18;	author nbingham;	state Exp;
branches;
next	4.7;

4.7
date	99.08.18.13.22.46;	author kbracey;	state Exp;
branches;
next	4.6;

4.6
date	99.04.30.08.33.06;	author kbracey;	state Exp;
branches;
next	4.5;

4.5
date	99.04.29.15.52.53;	author kbracey;	state Exp;
branches;
next	4.4;

4.4
date	98.10.29.16.17.08;	author kbracey;	state Exp;
branches;
next	4.3;

4.3
date	98.10.07.18.18.37;	author kbracey;	state Exp;
branches;
next	4.2;

4.2
date	98.10.07.17.33.03;	author kbracey;	state Exp;
branches;
next	4.1;

4.1
date	96.11.05.09.44.16;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.4.1
	4.1.5.1
	4.1.7.1;
next	;

4.1.1.1
date	96.11.05.09.44.16;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.06.02.36.12;	author nturton;	state Exp;
branches;
next	;

4.1.4.1
date	98.03.26.14.45.56;	author rthornb;	state Exp;
branches;
next	4.1.4.2;

4.1.4.2
date	98.04.14.15.45.29;	author mstphens;	state Exp;
branches;
next	4.1.4.3;

4.1.4.3
date	98.08.11.15.18.09;	author bavison;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.12.55.10;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.21.17.49;	author nturton;	state Exp;
branches;
next	4.1.7.2;

4.1.7.2
date	97.04.17.09.16.43;	author nturton;	state Exp;
branches;
next	;


desc
@@


4.16
log
@Replace "-wipe" with "x wipe" in makefiles to remove annoying errors.

Version 0.76. Tagged as 'ROMFonts-0_76'
@
text
@# Copyright 1996 Acorn Computers Ltd
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Makefile for ROMFonts
#
# ***********************************
# ***    C h a n g e   L i s t    ***
# ***********************************
# Date       Name         Description
# ----       ----         -----------
# 25-May-94  AMcC         Created.
# 05-Oct-99  SNB          Added ability to build STB Baseline !Fonts application.
#                         Can build UK-only, UK & Japanese, or UK, Japanese & Chinese
#                         by passing in OPTIONS=J, OPTIONS=C or OPTIONS=CJ to the makefile.
#                         UK will build without any OPTIONS flag.
#

#
# Generic options:
#
MKDIR   = do mkdir -p
AS      = objasm
CP      = copy
RM      = remove
LD      = link
WIPE    = x wipe
CHMOD   = Unix.chmod ${CHMODFLAGS}
CCFLAGS = -c -depend !Depend -IC:
ASFLAGS = -depend !Depend -Stamp -o $@@
LDFLAGS = -bin -o $@@
CPFLAGS = ~cfr~v
WFLAGS  = ~cfr~v
CHMODFLAGS = -R 0755

#
# Program specific options:
#
SOURCE    = s.ROMFonts
TARGET    = rm.${USERIF}.${COMPONENT}


#
# Generic rules:
#
rom: ${TARGET}
        @@echo ${COMPONENT}: rom module built

export: 
        @@echo ${COMPONENT}: export complete

install_rom: ${TARGET}
        ${CP} ${TARGET} ${INSTDIR}.${COMPONENT} ${CPFLAGS}
        @@echo ${COMPONENT}: rom module installed

clean:
        ${WIPE} o ${WFLAGS}
        ${WIPE} rm.${USERIF} ${WFLAGS}
        @@echo ${COMPONENT}: cleaned

resources:
        @@echo ${COMPONENT}: no resources

# Binary Build Environment augmenting rules
BBETYPE   = local
bbe-local: bbe-generic
	${MKDIR} ${BBEDIR}.Config.DiscBuild
	BBE_Export_File Config.${USERIF}
	BBE_Export_File Config.DiscBuild.${USERIF}
	${MKDIR} ${BBEDIR}.Fonts
        @@Set Alias$MFD ${MKDIR} ${BBEDIR}.Fonts.%0
	@@Set Alias$CFF ${CP} Fonts.%0 ${BBEDIR}.Fonts.%0 ${CPFLAGS}
	Obey Config.${USERIF}
        @@echo ${COMPONENT}: resource files copied

install_:
	Obey Config.DiscBuild.$(USERIF) UK

install_J:
	Obey Config.DiscBuild.$(USERIF) Japan
        @@echo Japanese installed.

install_C:
	Obey Config.DiscBuild.$(USERIF) China
        @@echo Chinese installed.

install_CJ: install_C install_J
        @@echo Unicode installed.

install_JC: install_C install_J
        @@echo Unicode installed.

install: install_$(OPTIONS) dirs aliases
        $(CP) LocalUserIFRes:!Boot $(INSTDIR).!Boot $(CPFLAGS)
        $(CP) LocalUserIFRes:CopyLocal $(INSTDIR).CopyLocal $(CPFLAGS)
        $(CHMOD) $(INSTDIR)
        @@echo $(COMPONENT): installed to $(INSTDIR)

aliases: 
        @@Set Alias$MFD $(MKDIR) $(INSTDIR).%0
	@@Set Alias$CFF $(CP) Fonts.%0 $(INSTDIR).%0 $(CPFLAGS)

dirs:
	$(MKDIR) $(INSTDIR)
        
o.${USERIF}: ${SOURCE}
        ${MKDIR} o
        ${AS} ${ASFLAGS} ${SOURCE}

rm.${USERIF}.ROMFonts: o.${USERIF}
        ${MKDIR} rm.${USERIF}
        ${LD} ${LDFLAGS} o.${USERIF}
        SetType ${TARGET} &FFA

o.MaruGothic:
	ResGen Data o.MaruGothic -via via.MaruGothic
rm.MaruGothic: o.MaruGothic
	${LD} ${LDFLAGS} o.MaruGothic

# Dynamic dependencies:
@


4.15
log
@Updates from Kevin:
* Now selects resources according to UserIF rather than System
* STB400 config file now does something again - required by DB220
* Always now builds stand-alone rather than as a resources component -
  reduces processing required during resources phase
* Fixed Messages1 file (only used in desktop builds) to include
  BEncoding_Default; also removed Sidney, since it's not present in the
  Iyonix ROM. Changed Ursula config file to exclude Sidney to match the
  Messages1 file.

Version 0.69. Tagged as 'ROMFonts-0_69'
@
text
@d37 1
a37 1
WIPE    = -wipe
@


4.14
log
@  Build updates
Detail:
  Updated to build correctly on Iyonix.
Summary:
  Tested in DB220 Baseline build

Version 0.68. Tagged as 'ROMFonts-0_68'
@
text
@d50 1
a50 1
TARGET    = rm.${COMPONENT}
d68 1
a68 1
        ${RM} ${TARGET}
d72 1
a72 5
	${MKDIR} <Resource$Dir>.Fonts
        @@Set Alias$MFD ${MKDIR} <Resource$Dir>.Fonts.%0
	@@Set Alias$CFF ${CP} Fonts.%0 <Resource$Dir>.Fonts.%0 ${CPFLAGS}
	Obey Config.${USERIF}
        @@echo ${COMPONENT}: resource files copied
d116 1
a116 1
o.ROMFonts: ${SOURCE}
d120 3
a122 2
rm.ROMFonts: o.ROMFonts
        ${LD} ${LDFLAGS} o.ROMFonts
@


4.13
log
@  STB400 resource changes.
Detail:
  * Moved the stripdepnd call from the Makefile into the MkClean file.
  * Updated the resources for STB400 to match those in the Baseline.
Admin:
  Builds and installs.

Version 0.63. Tagged as 'ROMFonts-0_63'
@
text
@d32 1
a32 1
MKDIR   = mkdir -p
d38 1
a38 2
MKDIR   = mkdir -p
CHMOD   = attr ${CHMODFLAGS}
d44 1
a44 1
CHMODFLAGS = +ow +or +wr -ww
@


4.12
log
@  Updated to bring into line with current STB Baseline builds.
Detail:
  * Updated STB400 resources and disc build config file to build the
    correct set of fonts and encodings for a current STB Baseline.
  * Added a MkInstSTB task obey file.
Admin:
  Builds correctly.

Version 0.60. Tagged as 'ROMFonts-0_60'
@
text
@a39 1
STRIP   = stripdepnd
a69 1
        ${STRIP}
@


4.11
log
@  BBE support added to makefile
Detail:
  * 'MKDIR = cdir' replaced with 'MKDIR = mkdir -p'
  * BBE rule added to export Config/{USERIF} and Config/DiscBuild/{USERIF}
    and *only* the necessary fonts for the particular build.
Admin:
  Tested on 'bbe_dev' branched Fun8JP.

Version 0.57. Tagged as 'ROMFonts-0_57'
@
text
@d112 1
@


4.10
log
@	Allowed Funai-style Japanese builds to include the correct fonts.
Detail:
	The config/NC2 file now includes Selwyn and UTF8 files, and if the
locale is set to Japan then it also includes Encodings./Base32. This allows
fonts to appear properly on Funai boxes with the latest ROMFonts.
	Added a stripdepnd section to the clean phase.
Summary:
	Tested in a Funai 5 build.

Version 0.43. Tagged as 'ROMFonts-0_43'
@
text
@d32 1
a32 1
MKDIR   = cdir
d54 1
d78 12
@


4.9
log
@  STB400 Baseline updates.
Detail:
  * Changes to get ROMFonts to export what is required by Baseline400.
    Previous checkin of Resources/STB400/UK/!Help removed.
  * Updated Config/DiscBuild/STB400.  Added Officina and removed
    Latin 1 - 9.
Admin:
  Tested on new baseline structure (checkin to follow).

Version 0.42. Tagged as 'ROMFonts-0_42'
@
text
@d40 1
d70 1
@


4.8
log
@Modifications for STB400 project.  After discussiosn wtih KBracey it was
decided to build the STB Baseline !Fonts directory from ROMFonts rather
than Sources/SystemRes/Fonts.
* Added install: target to allow disc builds.
* Expects the config file to be Config/DiscBuilds/<UserIF>
* Existing behaviour unaffected.

Version 0.40. Tagged as 'ROMFonts-0_40'
@
text
@a96 1
        $(CP) LocalUserIFRes:!Help $(INSTDIR).!Help $(CPFLAGS)
@


4.7
log
@Officina.Sans added.
Makefile changed to look at USERIF instead of SYSTEM; builds updating will
probably need to create a new Config file.
Lazarus config file created.

Version 0.36. Tagged as 'ROMFonts-0_36'
@
text
@d23 4
d38 2
a39 1
MKDIR   = cdir
d45 1
d78 30
@


4.6
log
@Removed reference to DoJapanese flag from Makefile

Version 0.34. Tagged as 'ROMFonts-0_34'
@
text
@d69 1
a69 1
	Obey Config.${SYSTEM}
@


4.5
log
@Modified to export font resources in the usual way, rather than including
them in the module itself.

Version 0.33. Tagged as 'ROMFonts-0_33'
@
text
@d36 1
a36 1
ASFLAGS = -depend !Depend -Stamp -PD "DoJapanese SETL ${JAPANESE}" -o $@@
@


4.4
log
@MaruGothic.Medium font imported.
Can build a separate MaruGothic "module" designed to be placed at a
magic address in the Funai 3 maintenance OS.

Version 0.29. Tagged as 'ROMFonts-0_29'
@
text
@d65 7
@


4.3
log
@Added optional Japanese encoding files to RCA build. Need to set JAPANESE
flag in components file.
Removed Lucida.Sans from builds.

Version 0.25. Tagged as 'ROMFonts-0_25'
@
text
@a43 1
COMPONENT = ROMFonts
d45 1
a45 1
TARGET    = rm.ROMFonts
d69 1
a69 1
${TARGET}: o.ROMFonts
d72 5
@


4.2
log
@Ursula branch merged
@
text
@d29 1
a29 1
AS      = aasm
d32 3
d36 2
a37 1
ASFLAGS = -depend !Depend -Stamp -quit -module -To $@@ -From
d39 1
d62 1
d66 2
a67 1
${TARGET}: ${SOURCE}
d69 4
@


4.1
log
@Initial revision
@
text
@a63 16
rm.ROMFonts: Hdr:ListOpts
rm.ROMFonts: Hdr:Macros
rm.ROMFonts: Hdr:System
rm.ROMFonts: Hdr:SWIs
rm.ROMFonts: Hdr:CPU.Generic26
rm.ROMFonts: Hdr:IO.GenericIO
rm.ROMFonts: Hdr:RISCOS
rm.ROMFonts: Hdr:ModHand
rm.ROMFonts: Hdr:Services
rm.ROMFonts: Hdr:Proc
rm.ROMFonts: Hdr:FSNumbers
rm.ROMFonts: Hdr:NewErrors
rm.ROMFonts: Hdr:Variables
rm.ROMFonts: Hdr:ResourceFS
rm.ROMFonts: Version
rm.ROMFonts: Hdr:NDRDebug
@


4.1.4.1
log
@Removed dynamic dependancies from Makefiles and removed all reference to Prefix
@
text
@d64 16
@


4.1.4.2
log
@update to Ursula service format
@
text
@a63 1

@


4.1.4.3
log
@Renamed Latin0 encoding to Latin9.
Added Messages1 file.
@
text
@d64 1
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.7.2
log
@System variable used instead of Machine for software switch
@
text
@a79 1
rm.ROMFonts: s.<System>.Fonts
@


4.1.5.1
log
@Import from SrcFiler
@
text
@@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
