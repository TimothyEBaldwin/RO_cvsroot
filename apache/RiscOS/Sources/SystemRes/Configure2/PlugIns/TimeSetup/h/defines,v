head	1.4;
access;
symbols
	TimeSetup-0_10:1.4
	TimeSetup-0_09:1.4
	TimeSetup-0_08:1.4
	TimeSetup-0_07:1.4
	TimeSetup-0_06:1.4
	TimeSetup-0_05:1.3
	TimeSetup-0_04:1.3
	TimeSetup-0_03:1.2
	TimeSetup-0_02:1.1.1.1
	TimeSetup-0_01:1.1.1.1
	TimeSetup-0_00:1.1.1.1
	vendor:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2013.07.17.19.55.51;	author rsprowson;	state Exp;
branches;
next	1.3;
commitid	uWV82UXjVlB8rRXw;

1.3
date	2012.10.26.08.03.12;	author rsprowson;	state Exp;
branches;
next	1.2;
commitid	yoSit8W89DhMYRpw;

1.2
date	2012.09.10.22.05.21;	author rsprowson;	state Exp;
branches;
next	1.1;
commitid	TkFPUbOXTu7l72kw;

1.1
date	2012.06.17.10.19.44;	author rsprowson;	state Exp;
branches
	1.1.1.1;
next	;
commitid	rHsl5Eqf3QlCW29w;

1.1.1.1
date	2012.06.17.10.19.44;	author rsprowson;	state Exp;
branches;
next	;
commitid	rHsl5Eqf3QlCW29w;


desc
@@


1.4
log
@Highlight the right chevron when adjust clicking on the other
The 'fast' advance double chevron highlight would select the wrong arrow when adjust clicking on the other side.
No longer manually calculates the screen centre position - there's a toolbox flag that does the work for you.
Makefile updated for BuildSys-6_20.

Version 0.06. Tagged as 'TimeSetup-0_06'
@
text
@/* Copyright 2012 Castle Technology Ltd
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*---------------------------------------------------------------------------*/
/* File:    defines.h                                                        */
/*                                                                           */
/* *** MAKE SURE RELEVANT DEFINES MATCH THOSE IN THE TIME APPLICATION ***    */
/*---------------------------------------------------------------------------*/

/* Toolbox gadgets */
#define RadioManually        0x1B
#define RadioNet             0x1C
#define ButtonDefault        0x05
#define ButtonCancel         0x06
#define ButtonSet            0x07
#define ButtonTry            0x24
#define ButtonMonth          0x1  /* Calendar popup */
#define ButtonMonthLen       32   /* Per Res file */
#define ButtonYear           0x3  /* Calendar popup */
#define PopUpCalendar        0x30
#define WriteableServer      0x22
#define WriteableServerLen   64   /* Match NetTime */ 
#define LabelBetween         0x27
#define LabelColon           0x17
#define AdjusterHoursD       0x13
#define AdjusterHoursU       0x14
#define AdjusterMinutesD     0x15
#define AdjusterMinutesU     0x16
#define AdjusterLastMonth    0x2  /* Calendar popup */
#define AdjusterNextMonth    0x0  /* Calendar popup */
#define AdjusterLastYear     0x11 /* Calendar popup */
#define AdjusterNextYear     0x10 /* Calendar popup */
#define StringSetPeriod      0x26
#define StringSetLocality    0x1D
#define StringSetLocalityLen 50   /* Per Res file */
#define StringSetTZLen       10   /* Prefix 'UTC+12:30 ' */
#define StringSetTZSignIndex 3    /* Where the + or - is */
#define DisplayDate          0x31
#define DisplayDateLen       50   /* Per Res file */
#define DisplayHours         0x18
#define DisplayMinutes       0x19
#define DisplayNetTimeState  0x2C
#define CheckAutoPick        0x25
#define CheckDSTActive       0x2F
#define CheckDSTAuto         0x1F
#define SpriteMap            0xF  /* Calendar popup */

/* New WIMP messages */
#define Wimp_MOpenConfigWindow  0x50d83

/* Useful macros */
#define UNUSED(k)     (k)=(k)
#define MAX(a,b)      (((a)>(b))?(a):(b))
#define MIN(a,b)      (((a)>(b))?(b):(a))

/* Strings in the config file */
#define ChoicesDir    "<Choices$Write>.Boot.Tasks"
#define ConfigFile    ChoicesDir ".TimeSetup"
#define ConfigFileRO  "Choices:Boot.Tasks.TimeSetup"
#define HeaderTag     "| This file was automatically generated by !TimeSetup"
#define VersionTag    "| Format"
#define LocalityTag   "| Locality"
#define ServerTag     "| ServerSelector"
#define NetRMEns1Tag  "SetEval NetTime$Loaded 1\n"
#define NetRMEns2Tag  "RMEnsure NetTime 0.39 X RMLoad System:Modules.Network.NetTime\n"
#define NetRMEns3Tag  "RMEnsure NetTime 0.39 SetEval NetTime$Loaded 0\n"
#define NetPollTag    "If <NetTime$Loaded> Then NetTime_PollInterval"
#define NetSetTag     "Set NetTime$Server"
#define NetUnsetTag   "Unset NetTime$Server"
#define NewLine       10
@


1.3
log
@Use the live configure bit to determine the auto DST rule checkbox
Prior to the CMOS allocation being official this plugin kept a disc copy of the 'AutoDST' flag, but was still using it even now. Generally this is not a problem as the default is off, so on running the plugin and enabling it the two would always be in sync.
However, changing the setting with *CONFIGURE would lead the plugin to lie about its state - instead using the disc copy.
Changed to pick up the CMOS allocation and not bother saving it to disc any more.

Version 0.04. Tagged as 'TimeSetup-0_04'
@
text
@d16 1
a16 1
/* File:    h.defines                                                        */
@


1.2
log
@Clarify for anybody who can't find the interactive help
Despite the help detailing how to advance the manual calendar by years using the SHIFT key modifier, seems that wasn't obvious enough.
Here, a second 'chevron' icon has been added so it looks like 'fast forward' on a video cassette recorder.
Updated the interactive help to describe this behaviour, for what it's worth.

Version 0.03. Tagged as 'TimeSetup-0_03'
@
text
@a74 1
#define DaylightTag   "| DSTRules"
@


1.1
log
@Initial revision
@
text
@d42 2
@


1.1.1.1
log
@Import of time and date setup plugin.
@
text
@@
