head	1.2;
access;
symbols
	Boot-1_26:1.2
	Boot-1_25:1.2
	Boot-1_24:1.2
	Boot-1_23:1.2
	Boot-1_22:1.2
	Boot-1_21:1.2
	Boot-1_20:1.2
	Boot-1_19:1.2
	Boot-1_18:1.2
	Boot-1_17:1.2
	Boot-1_16:1.2
	Boot-1_15:1.2
	Boot-1_14:1.2
	Boot-1_13:1.2
	Boot-1_12:1.2
	Boot-1_11:1.2
	Boot-1_10:1.2
	Boot-1_09:1.2
	Boot-1_08:1.2
	Boot-1_07:1.2
	Boot-1_06:1.2
	Boot-1_05:1.2
	Boot-1_04:1.2
	Boot-1_03:1.2
	Boot-1_02:1.2
	Boot-1_01:1.2
	Boot-1_00:1.2
	Boot-0_99:1.2
	Boot-0_98:1.2
	Boot-0_97:1.2
	Boot-0_96:1.2
	Boot-0_95:1.2
	Boot-0_94:1.2
	Boot-0_93:1.2
	Boot-0_92:1.2
	Boot-0_91:1.2
	Boot-0_90:1.2
	Boot-0_89:1.2
	Boot-0_88:1.2
	Boot-0_87:1.2
	Boot-0_86:1.2
	Boot-0_85:1.2
	Boot-0_84:1.2
	Boot-0_83:1.2
	Boot-0_82:1.2
	Boot-0_81:1.2
	Boot-0_80:1.2
	Boot-0_79:1.2
	Boot-0_78:1.2
	Boot-0_77:1.2
	Boot-0_76:1.2
	Boot-0_75:1.2
	Boot-0_74:1.2
	Boot-0_73:1.2
	Boot-0_72:1.2
	Boot-0_71:1.2
	Boot-0_70:1.2
	Boot-0_69:1.2
	Boot-0_68:1.2
	Boot-0_67:1.2
	nbingham_boot_991007:1.2
	mstphens_UrsulaRiscPCBuild_20Nov98:1.2
	Ursula_RiscPC:1.2.0.6
	rthornb_UrsulaBuild-19Aug1998:1.2
	UrsulaBuild_FinalSoftload:1.2
	rthornb_UrsulaBuild-12Aug1998:1.2
	aglover_UrsulaBuild-05Aug1998:1.2
	rthornb_UrsulaBuild-29Jul1998:1.2
	rthornb_UrsulaBuild-22Jul1998:1.2
	rthornb_UrsulaBuild-15Jul1998:1.2
	rthornb_UrsulaBuild-07Jul1998:1.2
	rthornb_UrsulaBuild-17Jun1998:1.2
	rthornb_UrsulaBuild-03Jun1998:1.2
	rthornb_UrsulaBuild-27May1998:1.2
	rthornb_UrsulaBuild-21May1998:1.2
	rthornb_UrsulaBuild_01May1998:1.2
	Daytona:1.2.0.4
	Daytona_bp:1.2
	Ursula:1.2.0.2
	Ursula_bp:1.2
	StrongARM:1.1.0.4
	RO_3_71:1.1.4.1;
locks; strict;
comment	@# @;


1.2
date	97.05.06.11.27.47;	author kbracey;	state Exp;
branches;
next	1.1;

1.1
date	97.04.30.18.19.44;	author kbracey;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	97.04.30.18.19.45;	author kbracey;	state Exp;
branches;
next	;

1.1.4.1
date	97.05.06.09.49.31;	author kbracey;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Version RO_3_71 merged
@
text
@From brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com  Tue Oct 15 12:26:29 1996
Return-Path: <brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com>
Received: from server21.digital.fr by art-1.acorn.co.uk (SMI-8.6/SMI-SVR4)
	id MAA14618; Tue, 15 Oct 1996 12:26:19 +0100
Received: from mail.vbo.dec.com (mail.vbo.dec.com [16.36.208.34]) by server21.digital.fr (8.7.5/8.7) with ESMTP id NAA11993 for <mstephens@@art.acorn.co.uk>; Tue, 15 Oct 1996 13:29:29 +0100 (MET)
Received: from valmts.vbe.dec.com (valmts.vbe.dec.com [16.36.176.78]) by mail.vbo.dec.com (8.7.3/8.7) with ESMTP id NAA13982 for <mstephens@@art.acorn.co.uk>; Tue, 15 Oct 1996 13:29:19 +0100 (MET)
Received: from mts.dec.com by valmts.vbe.dec.com (PMDF V5.0-7 #16475)
 id <01IAO8KV40B40000VO@@valmts.vbe.dec.com> for mstephens@@art.acorn.co.uk; Tue,
 15 Oct 1996 13:24:00 +0100 (CET)
Received: with PMDF-MR; Tue, 15 Oct 1996 12:18:35 +0000 (GMT)
MR-Received: by mta RDGENG.MUAS; Relayed; Tue, 15 Oct 1996 12:18:35 +0000
MR-Received: by mta REOVTX; Relayed; Tue, 15 Oct 1996 11:19:37 +0000
MR-Received: by mta RDGMTS; Relayed; Tue, 15 Oct 1996 11:19:41 +0000
MR-Received: by mta VALMTS; Relayed; Tue, 15 Oct 1996 11:20:19 +0000
Disclose-recipients: prohibited
Date: Tue, 15 Oct 1996 12:18:35 +0000 (GMT)
From: BRASH DTN 830-6163 <brash@@AM.RDGENG.REO.mts.dec.com>
Subject: FWD: Re: StrongARM bug (fwd) (fwd)
To: Mike Stephens <mstephens>
Message-id: <9935191215101996/A05479/REOVTX/11AA7B132200*@@MHS>
Autoforwarded: false
MIME-version: 1.0
Content-type: MESSAGE/RFC822
Importance: normal
Priority: normal
Sensitivity: Company-Confidential
UA-content-id: 11AA7B132200
X400-MTS-identifier: [;9935191215101996/A05479/REOVTX]
Hop-count: 3

Received: from mail.vbo.dec.com (mail.vbo.dec.com)
 by valmts.vbe.dec.com (PMDF V5.0-7 #16475)
 id <01IANHKFDFIO007VXB@@valmts.vbe.dec.com> for david.brash@@reo.mts.dec.com;
 Tue, 15 Oct 1996 00:14:55 +0100 (CET)
Received: from server21.digital.fr (server21.digital.fr [193.56.15.21])
 by mail.vbo.dec.com (8.7.3/8.7) with ESMTP id AAA09225 for
 <david.brash@@reo.mts.dec.com>; Tue, 15 Oct 1996 00:17:27 +0100 (MET)
Received: from relay-1.mail.demon.net (relay-1.mail.demon.net [158.152.1.140])
 by server21.digital.fr (8.7.5/8.7) with SMTP id AAA01866 for
 <david.brash@@reo.mts.dec.com>; Tue, 15 Oct 1996 00:17:01 +0100 (MET)
Received: from post.demon.co.uk ([(null)]) by relay-1.mail.demon.net  id
 ab02625; Mon, 14 Oct 1996 19:26 -0300 (BST)
Received: from eidos.demon.co.uk ([158.152.55.149]) by relay-3.mail.demon.net
 id aa21502; Mon, 14 Oct 1996 19:17 -0300 (BST)
From: Stephen Streater <sbs@@eidos.co.uk>
Subject: Re: StrongARM bug (fwd) (fwd)
To: "david.brash" <david.brash@@reo.mts.dec.com>
Cc: sbs <sbs@@eidos.co.uk>
Reply-to: sbs <sbs@@eidos.co.uk>
Message-id: <1641@@eidos.co.uk>
Autoforwarded: false
MIME-version: 1.0
X-Mailer: PCElm 1.10
Content-type: TEXT/PLAIN; CHARSET=US-ASCII
Delivery-date: Mon, 14 Oct 1996 23:16:45 GMT
Importance: normal
Lines: 77

Forwarded message follows:

I think this is what you need. We have verified that this does in
fact fix all the known problems which we have been having at Eidos.

> > > > This is related to other (fixed) bugs on earlier revisions of 
> > > > the silicon, and shows up in Rev J (Eidos prototypes) and Rev K 
> > > > (as distributed by ART). This program is a RISC PC+SA program 
> > > > which tests out the STM on line 220 until it breaks once or it 
> > > > succeeds 100,000 times.
> > > > 
> > > > Summary of the bug:
> > > > In SVC26 or SVC32 modes, STM with a ^ storing both USR and SVC 
> > > > mode registers (R10-R12 USR and R13-R14 SVC) can store R11 twice 
> > > > instead of R11 and R12.
> > > > 
> > > > This bug does not seem to occur if the STM is to memory in the
> > > > cache. 
> > > > 
> > > > On uncached memory, this code seems to go wrong only about 1/800 
> > > > of the time - could this be something to do with the D-CACHE 
> > > > size - it seems reasonably consistent where it goes wrong.
> > > > 
> > > > The alignment of the STM affects the bug - the code is assembled 
> > > > 8 times at 4 byte intervals, and half of them work consistently, 
> > > > half of them don't work.
> > > > 
> > > > Draining the write buffer after the STM does not affect the 
> > > > reliablity of the program.
> 
> 
> Stephen,
> 
> Rich Witek and I believe we have located and reproduced the bug.  It
> is, we believe, a fairly easy metal 1 fix.  Temporarily, the following
> software workaround should fix the problem:
> 
>   Where you have: 
>      stmia r9, {r10-r14}^
> 
>   Replace with:
>      mcr MMUCP, 0, r9, MMUIDReg, c0 
>      stmia r9, {r10-r14}^
> 
>   along with the definitions:
>   MMUCP     CP    15
>   MMUIDReg  CN    0 
> 
> This will effectively insert a nop (a store TO the chip ID register)
> which will not fault and allow the stmia enough time to complete
> properly.  This has been verified on our behavioral model.
> 
> There are some internal workings associated with the mcr that make
> it necessary to insert this opcode instead of a simple nop.  We have
> also verified that non-hat stmia opcodes do not exhibit this behavior.
> 
> Please try this in your environment and let Rich and I know the results.
> Rich is at witek@@pa.dec.com.
> 
> Thanks for your help and we'll get back to you as soon as we finalize 
> the actual fix.
> 
> 
> ken
> +-----------------------------------------------------------------+
> |     Any comments or opinions are solely those of the author     |
> |             and not Digital Equipment Corporation.              |
> +-----------------------------------------------------------------+
> |  Ken Patton                                  patton@@pa.dec.com  |
> |  Digital Semiconductor                                          |
> |  Austin Research & Design Center                 Austin, Texas  |
> +-----------------------------------------------------------------+
> |      I have seen enough to know that I have seen too much.      |
> +-----------------------------------------------------------------+
> 
> 
Stephen Streater

@


1.1
log
@file SAbug1 was initially added on branch RO_3_70_to_3_71.
@
text
@d1 136
@


1.1.4.1
log
@Version RO_3_71 taken
@
text
@a0 136
From brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com  Tue Oct 15 12:26:29 1996
Return-Path: <brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com>
Received: from server21.digital.fr by art-1.acorn.co.uk (SMI-8.6/SMI-SVR4)
	id MAA14618; Tue, 15 Oct 1996 12:26:19 +0100
Received: from mail.vbo.dec.com (mail.vbo.dec.com [16.36.208.34]) by server21.digital.fr (8.7.5/8.7) with ESMTP id NAA11993 for <mstephens@@art.acorn.co.uk>; Tue, 15 Oct 1996 13:29:29 +0100 (MET)
Received: from valmts.vbe.dec.com (valmts.vbe.dec.com [16.36.176.78]) by mail.vbo.dec.com (8.7.3/8.7) with ESMTP id NAA13982 for <mstephens@@art.acorn.co.uk>; Tue, 15 Oct 1996 13:29:19 +0100 (MET)
Received: from mts.dec.com by valmts.vbe.dec.com (PMDF V5.0-7 #16475)
 id <01IAO8KV40B40000VO@@valmts.vbe.dec.com> for mstephens@@art.acorn.co.uk; Tue,
 15 Oct 1996 13:24:00 +0100 (CET)
Received: with PMDF-MR; Tue, 15 Oct 1996 12:18:35 +0000 (GMT)
MR-Received: by mta RDGENG.MUAS; Relayed; Tue, 15 Oct 1996 12:18:35 +0000
MR-Received: by mta REOVTX; Relayed; Tue, 15 Oct 1996 11:19:37 +0000
MR-Received: by mta RDGMTS; Relayed; Tue, 15 Oct 1996 11:19:41 +0000
MR-Received: by mta VALMTS; Relayed; Tue, 15 Oct 1996 11:20:19 +0000
Disclose-recipients: prohibited
Date: Tue, 15 Oct 1996 12:18:35 +0000 (GMT)
From: BRASH DTN 830-6163 <brash@@AM.RDGENG.REO.mts.dec.com>
Subject: FWD: Re: StrongARM bug (fwd) (fwd)
To: Mike Stephens <mstephens>
Message-id: <9935191215101996/A05479/REOVTX/11AA7B132200*@@MHS>
Autoforwarded: false
MIME-version: 1.0
Content-type: MESSAGE/RFC822
Importance: normal
Priority: normal
Sensitivity: Company-Confidential
UA-content-id: 11AA7B132200
X400-MTS-identifier: [;9935191215101996/A05479/REOVTX]
Hop-count: 3

Received: from mail.vbo.dec.com (mail.vbo.dec.com)
 by valmts.vbe.dec.com (PMDF V5.0-7 #16475)
 id <01IANHKFDFIO007VXB@@valmts.vbe.dec.com> for david.brash@@reo.mts.dec.com;
 Tue, 15 Oct 1996 00:14:55 +0100 (CET)
Received: from server21.digital.fr (server21.digital.fr [193.56.15.21])
 by mail.vbo.dec.com (8.7.3/8.7) with ESMTP id AAA09225 for
 <david.brash@@reo.mts.dec.com>; Tue, 15 Oct 1996 00:17:27 +0100 (MET)
Received: from relay-1.mail.demon.net (relay-1.mail.demon.net [158.152.1.140])
 by server21.digital.fr (8.7.5/8.7) with SMTP id AAA01866 for
 <david.brash@@reo.mts.dec.com>; Tue, 15 Oct 1996 00:17:01 +0100 (MET)
Received: from post.demon.co.uk ([(null)]) by relay-1.mail.demon.net  id
 ab02625; Mon, 14 Oct 1996 19:26 -0300 (BST)
Received: from eidos.demon.co.uk ([158.152.55.149]) by relay-3.mail.demon.net
 id aa21502; Mon, 14 Oct 1996 19:17 -0300 (BST)
From: Stephen Streater <sbs@@eidos.co.uk>
Subject: Re: StrongARM bug (fwd) (fwd)
To: "david.brash" <david.brash@@reo.mts.dec.com>
Cc: sbs <sbs@@eidos.co.uk>
Reply-to: sbs <sbs@@eidos.co.uk>
Message-id: <1641@@eidos.co.uk>
Autoforwarded: false
MIME-version: 1.0
X-Mailer: PCElm 1.10
Content-type: TEXT/PLAIN; CHARSET=US-ASCII
Delivery-date: Mon, 14 Oct 1996 23:16:45 GMT
Importance: normal
Lines: 77

Forwarded message follows:

I think this is what you need. We have verified that this does in
fact fix all the known problems which we have been having at Eidos.

> > > > This is related to other (fixed) bugs on earlier revisions of 
> > > > the silicon, and shows up in Rev J (Eidos prototypes) and Rev K 
> > > > (as distributed by ART). This program is a RISC PC+SA program 
> > > > which tests out the STM on line 220 until it breaks once or it 
> > > > succeeds 100,000 times.
> > > > 
> > > > Summary of the bug:
> > > > In SVC26 or SVC32 modes, STM with a ^ storing both USR and SVC 
> > > > mode registers (R10-R12 USR and R13-R14 SVC) can store R11 twice 
> > > > instead of R11 and R12.
> > > > 
> > > > This bug does not seem to occur if the STM is to memory in the
> > > > cache. 
> > > > 
> > > > On uncached memory, this code seems to go wrong only about 1/800 
> > > > of the time - could this be something to do with the D-CACHE 
> > > > size - it seems reasonably consistent where it goes wrong.
> > > > 
> > > > The alignment of the STM affects the bug - the code is assembled 
> > > > 8 times at 4 byte intervals, and half of them work consistently, 
> > > > half of them don't work.
> > > > 
> > > > Draining the write buffer after the STM does not affect the 
> > > > reliablity of the program.
> 
> 
> Stephen,
> 
> Rich Witek and I believe we have located and reproduced the bug.  It
> is, we believe, a fairly easy metal 1 fix.  Temporarily, the following
> software workaround should fix the problem:
> 
>   Where you have: 
>      stmia r9, {r10-r14}^
> 
>   Replace with:
>      mcr MMUCP, 0, r9, MMUIDReg, c0 
>      stmia r9, {r10-r14}^
> 
>   along with the definitions:
>   MMUCP     CP    15
>   MMUIDReg  CN    0 
> 
> This will effectively insert a nop (a store TO the chip ID register)
> which will not fault and allow the stmia enough time to complete
> properly.  This has been verified on our behavioral model.
> 
> There are some internal workings associated with the mcr that make
> it necessary to insert this opcode instead of a simple nop.  We have
> also verified that non-hat stmia opcodes do not exhibit this behavior.
> 
> Please try this in your environment and let Rich and I know the results.
> Rich is at witek@@pa.dec.com.
> 
> Thanks for your help and we'll get back to you as soon as we finalize 
> the actual fix.
> 
> 
> ken
> +-----------------------------------------------------------------+
> |     Any comments or opinions are solely those of the author     |
> |             and not Digital Equipment Corporation.              |
> +-----------------------------------------------------------------+
> |  Ken Patton                                  patton@@pa.dec.com  |
> |  Digital Semiconductor                                          |
> |  Austin Research & Design Center                 Austin, Texas  |
> +-----------------------------------------------------------------+
> |      I have seen enough to know that I have seen too much.      |
> +-----------------------------------------------------------------+
> 
> 
Stephen Streater

@


1.1.2.1
log
@Merged from 3.71 CD
@
text
@a0 136
From brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com  Tue Oct 15 12:26:29 1996
Return-Path: <brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com>
Received: from server21.digital.fr by art-1.acorn.co.uk (SMI-8.6/SMI-SVR4)
	id MAA14618; Tue, 15 Oct 1996 12:26:19 +0100
Received: from mail.vbo.dec.com (mail.vbo.dec.com [16.36.208.34]) by server21.digital.fr (8.7.5/8.7) with ESMTP id NAA11993 for <mstephens@@art.acorn.co.uk>; Tue, 15 Oct 1996 13:29:29 +0100 (MET)
Received: from valmts.vbe.dec.com (valmts.vbe.dec.com [16.36.176.78]) by mail.vbo.dec.com (8.7.3/8.7) with ESMTP id NAA13982 for <mstephens@@art.acorn.co.uk>; Tue, 15 Oct 1996 13:29:19 +0100 (MET)
Received: from mts.dec.com by valmts.vbe.dec.com (PMDF V5.0-7 #16475)
 id <01IAO8KV40B40000VO@@valmts.vbe.dec.com> for mstephens@@art.acorn.co.uk; Tue,
 15 Oct 1996 13:24:00 +0100 (CET)
Received: with PMDF-MR; Tue, 15 Oct 1996 12:18:35 +0000 (GMT)
MR-Received: by mta RDGENG.MUAS; Relayed; Tue, 15 Oct 1996 12:18:35 +0000
MR-Received: by mta REOVTX; Relayed; Tue, 15 Oct 1996 11:19:37 +0000
MR-Received: by mta RDGMTS; Relayed; Tue, 15 Oct 1996 11:19:41 +0000
MR-Received: by mta VALMTS; Relayed; Tue, 15 Oct 1996 11:20:19 +0000
Disclose-recipients: prohibited
Date: Tue, 15 Oct 1996 12:18:35 +0000 (GMT)
From: BRASH DTN 830-6163 <brash@@AM.RDGENG.REO.mts.dec.com>
Subject: FWD: Re: StrongARM bug (fwd) (fwd)
To: Mike Stephens <mstephens>
Message-id: <9935191215101996/A05479/REOVTX/11AA7B132200*@@MHS>
Autoforwarded: false
MIME-version: 1.0
Content-type: MESSAGE/RFC822
Importance: normal
Priority: normal
Sensitivity: Company-Confidential
UA-content-id: 11AA7B132200
X400-MTS-identifier: [;9935191215101996/A05479/REOVTX]
Hop-count: 3

Received: from mail.vbo.dec.com (mail.vbo.dec.com)
 by valmts.vbe.dec.com (PMDF V5.0-7 #16475)
 id <01IANHKFDFIO007VXB@@valmts.vbe.dec.com> for david.brash@@reo.mts.dec.com;
 Tue, 15 Oct 1996 00:14:55 +0100 (CET)
Received: from server21.digital.fr (server21.digital.fr [193.56.15.21])
 by mail.vbo.dec.com (8.7.3/8.7) with ESMTP id AAA09225 for
 <david.brash@@reo.mts.dec.com>; Tue, 15 Oct 1996 00:17:27 +0100 (MET)
Received: from relay-1.mail.demon.net (relay-1.mail.demon.net [158.152.1.140])
 by server21.digital.fr (8.7.5/8.7) with SMTP id AAA01866 for
 <david.brash@@reo.mts.dec.com>; Tue, 15 Oct 1996 00:17:01 +0100 (MET)
Received: from post.demon.co.uk ([(null)]) by relay-1.mail.demon.net  id
 ab02625; Mon, 14 Oct 1996 19:26 -0300 (BST)
Received: from eidos.demon.co.uk ([158.152.55.149]) by relay-3.mail.demon.net
 id aa21502; Mon, 14 Oct 1996 19:17 -0300 (BST)
From: Stephen Streater <sbs@@eidos.co.uk>
Subject: Re: StrongARM bug (fwd) (fwd)
To: "david.brash" <david.brash@@reo.mts.dec.com>
Cc: sbs <sbs@@eidos.co.uk>
Reply-to: sbs <sbs@@eidos.co.uk>
Message-id: <1641@@eidos.co.uk>
Autoforwarded: false
MIME-version: 1.0
X-Mailer: PCElm 1.10
Content-type: TEXT/PLAIN; CHARSET=US-ASCII
Delivery-date: Mon, 14 Oct 1996 23:16:45 GMT
Importance: normal
Lines: 77

Forwarded message follows:

I think this is what you need. We have verified that this does in
fact fix all the known problems which we have been having at Eidos.

> > > > This is related to other (fixed) bugs on earlier revisions of 
> > > > the silicon, and shows up in Rev J (Eidos prototypes) and Rev K 
> > > > (as distributed by ART). This program is a RISC PC+SA program 
> > > > which tests out the STM on line 220 until it breaks once or it 
> > > > succeeds 100,000 times.
> > > > 
> > > > Summary of the bug:
> > > > In SVC26 or SVC32 modes, STM with a ^ storing both USR and SVC 
> > > > mode registers (R10-R12 USR and R13-R14 SVC) can store R11 twice 
> > > > instead of R11 and R12.
> > > > 
> > > > This bug does not seem to occur if the STM is to memory in the
> > > > cache. 
> > > > 
> > > > On uncached memory, this code seems to go wrong only about 1/800 
> > > > of the time - could this be something to do with the D-CACHE 
> > > > size - it seems reasonably consistent where it goes wrong.
> > > > 
> > > > The alignment of the STM affects the bug - the code is assembled 
> > > > 8 times at 4 byte intervals, and half of them work consistently, 
> > > > half of them don't work.
> > > > 
> > > > Draining the write buffer after the STM does not affect the 
> > > > reliablity of the program.
> 
> 
> Stephen,
> 
> Rich Witek and I believe we have located and reproduced the bug.  It
> is, we believe, a fairly easy metal 1 fix.  Temporarily, the following
> software workaround should fix the problem:
> 
>   Where you have: 
>      stmia r9, {r10-r14}^
> 
>   Replace with:
>      mcr MMUCP, 0, r9, MMUIDReg, c0 
>      stmia r9, {r10-r14}^
> 
>   along with the definitions:
>   MMUCP     CP    15
>   MMUIDReg  CN    0 
> 
> This will effectively insert a nop (a store TO the chip ID register)
> which will not fault and allow the stmia enough time to complete
> properly.  This has been verified on our behavioral model.
> 
> There are some internal workings associated with the mcr that make
> it necessary to insert this opcode instead of a simple nop.  We have
> also verified that non-hat stmia opcodes do not exhibit this behavior.
> 
> Please try this in your environment and let Rich and I know the results.
> Rich is at witek@@pa.dec.com.
> 
> Thanks for your help and we'll get back to you as soon as we finalize 
> the actual fix.
> 
> 
> ken
> +-----------------------------------------------------------------+
> |     Any comments or opinions are solely those of the author     |
> |             and not Digital Equipment Corporation.              |
> +-----------------------------------------------------------------+
> |  Ken Patton                                  patton@@pa.dec.com  |
> |  Digital Semiconductor                                          |
> |  Austin Research & Design Center                 Austin, Texas  |
> +-----------------------------------------------------------------+
> |      I have seen enough to know that I have seen too much.      |
> +-----------------------------------------------------------------+
> 
> 
Stephen Streater

@
