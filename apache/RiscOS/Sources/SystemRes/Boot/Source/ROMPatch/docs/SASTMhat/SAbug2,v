head	1.2;
access;
symbols
	Boot-1_26:1.2
	Boot-1_25:1.2
	Boot-1_24:1.2
	Boot-1_23:1.2
	Boot-1_22:1.2
	Boot-1_21:1.2
	Boot-1_20:1.2
	Boot-1_19:1.2
	Boot-1_18:1.2
	Boot-1_17:1.2
	Boot-1_16:1.2
	Boot-1_15:1.2
	Boot-1_14:1.2
	Boot-1_13:1.2
	Boot-1_12:1.2
	Boot-1_11:1.2
	Boot-1_10:1.2
	Boot-1_09:1.2
	Boot-1_08:1.2
	Boot-1_07:1.2
	Boot-1_06:1.2
	Boot-1_05:1.2
	Boot-1_04:1.2
	Boot-1_03:1.2
	Boot-1_02:1.2
	Boot-1_01:1.2
	Boot-1_00:1.2
	Boot-0_99:1.2
	Boot-0_98:1.2
	Boot-0_97:1.2
	Boot-0_96:1.2
	Boot-0_95:1.2
	Boot-0_94:1.2
	Boot-0_93:1.2
	Boot-0_92:1.2
	Boot-0_91:1.2
	Boot-0_90:1.2
	Boot-0_89:1.2
	Boot-0_88:1.2
	Boot-0_87:1.2
	Boot-0_86:1.2
	Boot-0_85:1.2
	Boot-0_84:1.2
	Boot-0_83:1.2
	Boot-0_82:1.2
	Boot-0_81:1.2
	Boot-0_80:1.2
	Boot-0_79:1.2
	Boot-0_78:1.2
	Boot-0_77:1.2
	Boot-0_76:1.2
	Boot-0_75:1.2
	Boot-0_74:1.2
	Boot-0_73:1.2
	Boot-0_72:1.2
	Boot-0_71:1.2
	Boot-0_70:1.2
	Boot-0_69:1.2
	Boot-0_68:1.2
	Boot-0_67:1.2
	nbingham_boot_991007:1.2
	mstphens_UrsulaRiscPCBuild_20Nov98:1.2
	Ursula_RiscPC:1.2.0.6
	rthornb_UrsulaBuild-19Aug1998:1.2
	UrsulaBuild_FinalSoftload:1.2
	rthornb_UrsulaBuild-12Aug1998:1.2
	aglover_UrsulaBuild-05Aug1998:1.2
	rthornb_UrsulaBuild-29Jul1998:1.2
	rthornb_UrsulaBuild-22Jul1998:1.2
	rthornb_UrsulaBuild-15Jul1998:1.2
	rthornb_UrsulaBuild-07Jul1998:1.2
	rthornb_UrsulaBuild-17Jun1998:1.2
	rthornb_UrsulaBuild-03Jun1998:1.2
	rthornb_UrsulaBuild-27May1998:1.2
	rthornb_UrsulaBuild-21May1998:1.2
	rthornb_UrsulaBuild_01May1998:1.2
	Daytona:1.2.0.4
	Daytona_bp:1.2
	Ursula:1.2.0.2
	Ursula_bp:1.2
	StrongARM:1.1.0.4
	RO_3_71:1.1.4.1;
locks; strict;
comment	@# @;


1.2
date	97.05.06.11.27.49;	author kbracey;	state Exp;
branches;
next	1.1;

1.1
date	97.04.30.18.19.46;	author kbracey;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	97.04.30.18.19.47;	author kbracey;	state Exp;
branches;
next	;

1.1.4.1
date	97.05.06.09.49.33;	author kbracey;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Version RO_3_71 merged
@
text
@From brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com  Tue Oct 15 13:32:36 1996
Return-Path: <brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com>
Received: from server21.digital.fr by art-1.acorn.co.uk (SMI-8.6/SMI-SVR4)
	id NAA14899; Tue, 15 Oct 1996 13:32:33 +0100
Received: from mail.vbo.dec.com (mail.vbo.dec.com [16.36.208.34]) by server21.digital.fr (8.7.5/8.7) with ESMTP id OAA28877; Tue, 15 Oct 1996 14:35:30 +0100 (MET)
Received: from valmts.vbe.dec.com (valmts.vbe.dec.com [16.36.176.78]) by mail.vbo.dec.com (8.7.3/8.7) with ESMTP id OAA16552; Tue, 15 Oct 1996 14:35:20 +0100 (MET)
Received: from mts.dec.com by valmts.vbe.dec.com (PMDF V5.0-7 #16475)
 id <01IAO8KV6F400000VR@@valmts.vbe.dec.com>; Tue,
 15 Oct 1996 13:37:23 +0100 (CET)
Received: with PMDF-MR; Tue, 15 Oct 1996 12:33:40 +0000 (GMT)
MR-Received: by mta RDGENG.MUAS; Relayed; Tue, 15 Oct 1996 12:33:40 +0000
MR-Received: by mta REOVTX; Relayed; Tue, 15 Oct 1996 11:34:40 +0000
MR-Received: by mta RDGMTS; Relayed; Tue, 15 Oct 1996 11:34:45 +0000
MR-Received: by mta VALMTS; Relayed; Tue, 15 Oct 1996 11:35:22 +0000
Disclose-recipients: prohibited
Date: Tue, 15 Oct 1996 12:33:40 +0000 (GMT)
From: BRASH DTN 830-6163 <brash@@AM.RDGENG.REO.mts.dec.com>
Subject: Re: STM^ Problem....generic problem description and fix
In-reply-to: <G202028C414OCT199616231719@@valmts.vbe.dec.com>
To: Mike Stephens <mstephens>, Joe Barrett <joe.barrett@@armltd.co.uk>,
        David Jaggar <dave.jaggar@@armltd.co.uk>, Sophie Wilson <swilson>
Cc: Anthony Berent <"anthony berent"@@REO.mts.dec.com>,
        David Rusling <"david rusling"@@REO.mts.dec.com>,
        Michael Quinn <"michael quinn"@@REO.mts.dec.com>,
        Neal Crook <"neal crook"@@REO.mts.dec.com>,
        Sean Reynolds <"sean reynolds"@@REO.mts.dec.com>
Message-id: <3440341215101996/A05519/REOVTX/11AA7B222700*@@MHS>
Autoforwarded: false
MIME-version: 1.0
Content-type: TEXT/PLAIN; CHARSET=US-ASCII
Content-transfer-encoding: 7BIT
Importance: normal
Priority: normal
Sensitivity: Company-Confidential
UA-content-id: 11AA7B222700
X400-MTS-identifier: [;3440341215101996/A05519/REOVTX]
Hop-count: 3


11-Oct-1996

The SA110 with ID register (CP15 Register 1)
revision less than 3 have a bug in User Register Store Multiple
instruction (STM^). This is the PRIVILEGED MODE STM that is used to store 
user mode registers while in a privileged mode. If the STM^ is executed
while a data cache fill is completing the store address for all but the 
first register may be wrong. 

This is fix in the SA110 revision 3 and the following software work around
can be used on revision 2 parts. Precede the STM^ with 
any of the following, a store that is not a STM^, a MCR, or an MRC. 
Note a "MCR P15, 0, r0, c0, c0, 0", which is a write to the ID register
and on the SA110 is a NOP will fix the problem and uses no registers, 
nor does any writes to memory. 


@


1.1
log
@file SAbug2 was initially added on branch RO_3_70_to_3_71.
@
text
@d1 56
@


1.1.4.1
log
@Version RO_3_71 taken
@
text
@a0 56
From brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com  Tue Oct 15 13:32:36 1996
Return-Path: <brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com>
Received: from server21.digital.fr by art-1.acorn.co.uk (SMI-8.6/SMI-SVR4)
	id NAA14899; Tue, 15 Oct 1996 13:32:33 +0100
Received: from mail.vbo.dec.com (mail.vbo.dec.com [16.36.208.34]) by server21.digital.fr (8.7.5/8.7) with ESMTP id OAA28877; Tue, 15 Oct 1996 14:35:30 +0100 (MET)
Received: from valmts.vbe.dec.com (valmts.vbe.dec.com [16.36.176.78]) by mail.vbo.dec.com (8.7.3/8.7) with ESMTP id OAA16552; Tue, 15 Oct 1996 14:35:20 +0100 (MET)
Received: from mts.dec.com by valmts.vbe.dec.com (PMDF V5.0-7 #16475)
 id <01IAO8KV6F400000VR@@valmts.vbe.dec.com>; Tue,
 15 Oct 1996 13:37:23 +0100 (CET)
Received: with PMDF-MR; Tue, 15 Oct 1996 12:33:40 +0000 (GMT)
MR-Received: by mta RDGENG.MUAS; Relayed; Tue, 15 Oct 1996 12:33:40 +0000
MR-Received: by mta REOVTX; Relayed; Tue, 15 Oct 1996 11:34:40 +0000
MR-Received: by mta RDGMTS; Relayed; Tue, 15 Oct 1996 11:34:45 +0000
MR-Received: by mta VALMTS; Relayed; Tue, 15 Oct 1996 11:35:22 +0000
Disclose-recipients: prohibited
Date: Tue, 15 Oct 1996 12:33:40 +0000 (GMT)
From: BRASH DTN 830-6163 <brash@@AM.RDGENG.REO.mts.dec.com>
Subject: Re: STM^ Problem....generic problem description and fix
In-reply-to: <G202028C414OCT199616231719@@valmts.vbe.dec.com>
To: Mike Stephens <mstephens>, Joe Barrett <joe.barrett@@armltd.co.uk>,
        David Jaggar <dave.jaggar@@armltd.co.uk>, Sophie Wilson <swilson>
Cc: Anthony Berent <"anthony berent"@@REO.mts.dec.com>,
        David Rusling <"david rusling"@@REO.mts.dec.com>,
        Michael Quinn <"michael quinn"@@REO.mts.dec.com>,
        Neal Crook <"neal crook"@@REO.mts.dec.com>,
        Sean Reynolds <"sean reynolds"@@REO.mts.dec.com>
Message-id: <3440341215101996/A05519/REOVTX/11AA7B222700*@@MHS>
Autoforwarded: false
MIME-version: 1.0
Content-type: TEXT/PLAIN; CHARSET=US-ASCII
Content-transfer-encoding: 7BIT
Importance: normal
Priority: normal
Sensitivity: Company-Confidential
UA-content-id: 11AA7B222700
X400-MTS-identifier: [;3440341215101996/A05519/REOVTX]
Hop-count: 3


11-Oct-1996

The SA110 with ID register (CP15 Register 1)
revision less than 3 have a bug in User Register Store Multiple
instruction (STM^). This is the PRIVILEGED MODE STM that is used to store 
user mode registers while in a privileged mode. If the STM^ is executed
while a data cache fill is completing the store address for all but the 
first register may be wrong. 

This is fix in the SA110 revision 3 and the following software work around
can be used on revision 2 parts. Precede the STM^ with 
any of the following, a store that is not a STM^, a MCR, or an MRC. 
Note a "MCR P15, 0, r0, c0, c0, 0", which is a write to the ID register
and on the SA110 is a NOP will fix the problem and uses no registers, 
nor does any writes to memory. 


@


1.1.2.1
log
@Merged from 3.71 CD
@
text
@a0 56
From brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com  Tue Oct 15 13:32:36 1996
Return-Path: <brash@@AM.RDGENG.REO.RDGENG.RDGMTS.mts.dec.com>
Received: from server21.digital.fr by art-1.acorn.co.uk (SMI-8.6/SMI-SVR4)
	id NAA14899; Tue, 15 Oct 1996 13:32:33 +0100
Received: from mail.vbo.dec.com (mail.vbo.dec.com [16.36.208.34]) by server21.digital.fr (8.7.5/8.7) with ESMTP id OAA28877; Tue, 15 Oct 1996 14:35:30 +0100 (MET)
Received: from valmts.vbe.dec.com (valmts.vbe.dec.com [16.36.176.78]) by mail.vbo.dec.com (8.7.3/8.7) with ESMTP id OAA16552; Tue, 15 Oct 1996 14:35:20 +0100 (MET)
Received: from mts.dec.com by valmts.vbe.dec.com (PMDF V5.0-7 #16475)
 id <01IAO8KV6F400000VR@@valmts.vbe.dec.com>; Tue,
 15 Oct 1996 13:37:23 +0100 (CET)
Received: with PMDF-MR; Tue, 15 Oct 1996 12:33:40 +0000 (GMT)
MR-Received: by mta RDGENG.MUAS; Relayed; Tue, 15 Oct 1996 12:33:40 +0000
MR-Received: by mta REOVTX; Relayed; Tue, 15 Oct 1996 11:34:40 +0000
MR-Received: by mta RDGMTS; Relayed; Tue, 15 Oct 1996 11:34:45 +0000
MR-Received: by mta VALMTS; Relayed; Tue, 15 Oct 1996 11:35:22 +0000
Disclose-recipients: prohibited
Date: Tue, 15 Oct 1996 12:33:40 +0000 (GMT)
From: BRASH DTN 830-6163 <brash@@AM.RDGENG.REO.mts.dec.com>
Subject: Re: STM^ Problem....generic problem description and fix
In-reply-to: <G202028C414OCT199616231719@@valmts.vbe.dec.com>
To: Mike Stephens <mstephens>, Joe Barrett <joe.barrett@@armltd.co.uk>,
        David Jaggar <dave.jaggar@@armltd.co.uk>, Sophie Wilson <swilson>
Cc: Anthony Berent <"anthony berent"@@REO.mts.dec.com>,
        David Rusling <"david rusling"@@REO.mts.dec.com>,
        Michael Quinn <"michael quinn"@@REO.mts.dec.com>,
        Neal Crook <"neal crook"@@REO.mts.dec.com>,
        Sean Reynolds <"sean reynolds"@@REO.mts.dec.com>
Message-id: <3440341215101996/A05519/REOVTX/11AA7B222700*@@MHS>
Autoforwarded: false
MIME-version: 1.0
Content-type: TEXT/PLAIN; CHARSET=US-ASCII
Content-transfer-encoding: 7BIT
Importance: normal
Priority: normal
Sensitivity: Company-Confidential
UA-content-id: 11AA7B222700
X400-MTS-identifier: [;3440341215101996/A05519/REOVTX]
Hop-count: 3


11-Oct-1996

The SA110 with ID register (CP15 Register 1)
revision less than 3 have a bug in User Register Store Multiple
instruction (STM^). This is the PRIVILEGED MODE STM that is used to store 
user mode registers while in a privileged mode. If the STM^ is executed
while a data cache fill is completing the store address for all but the 
first register may be wrong. 

This is fix in the SA110 revision 3 and the following software work around
can be used on revision 2 parts. Precede the STM^ with 
any of the following, a store that is not a STM^, a MCR, or an MRC. 
Note a "MCR P15, 0, r0, c0, c0, 0", which is a write to the ID register
and on the SA110 is a NOP will fix the problem and uses no registers, 
nor does any writes to memory. 


@
