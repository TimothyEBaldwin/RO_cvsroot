head	1.61;
access;
symbols
	Boot-1_26:1.61
	Boot-1_25:1.60
	Boot-1_24:1.59
	Boot-1_23:1.58
	Boot-1_22:1.57
	Boot-1_21:1.56
	Boot-1_20:1.55
	Boot-1_19:1.54
	Boot-1_18:1.53
	Boot-1_17:1.52
	Boot-1_16:1.51
	Boot-1_15:1.50
	Boot-1_14:1.49
	Boot-1_13:1.48
	Boot-1_12:1.47
	Boot-1_11:1.46
	Boot-1_10:1.45
	Boot-1_09:1.44
	Boot-1_08:1.43
	Boot-1_07:1.42
	Boot-1_06:1.41
	Boot-1_05:1.40
	Boot-1_04:1.39
	Boot-1_03:1.38
	Boot-1_02:1.37
	Boot-1_01:1.36
	Boot-1_00:1.35
	Boot-0_99:1.34
	Boot-0_98:1.33
	Boot-0_97:1.32
	Boot-0_96:1.31
	Boot-0_95:1.30
	Boot-0_94:1.29
	Boot-0_93:1.28
	Boot-0_92:1.27
	Boot-0_91:1.27
	Boot-0_90:1.25
	Boot-0_89:1.24
	Boot-0_88:1.23
	Boot-0_87:1.22
	Boot-0_86:1.21
	Boot-0_85:1.20
	Boot-0_84:1.19
	Boot-0_83:1.18
	Boot-0_82:1.17
	Boot-0_81:1.16
	Boot-0_80:1.15
	Boot-0_79:1.14
	Boot-0_78:1.13
	Boot-0_77:1.12
	Boot-0_76:1.11
	Boot-0_75:1.10
	Boot-0_74:1.9
	Boot-0_73:1.8
	Boot-0_72:1.7
	Boot-0_71:1.6
	Boot-0_70:1.5
	Boot-0_69:1.4
	Boot-0_68:1.3
	Boot-0_67:1.2;
locks; strict;
comment	@# @;


1.61
date	2018.02.02.21.35.35;	author jlee;	state Exp;
branches;
next	1.60;
commitid	jlvtBOT0SmsaBkpA;

1.60
date	2016.09.16.08.37.59;	author rsprowson;	state Exp;
branches;
next	1.59;
commitid	ke2k0xw5CSuPuumz;

1.59
date	2015.08.29.14.05.32;	author rsprowson;	state Exp;
branches;
next	1.58;
commitid	7f52k38MRRtsEazy;

1.58
date	2015.06.25.21.52.43;	author rsprowson;	state Exp;
branches;
next	1.57;
commitid	RGXIyhJzSrvhkRqy;

1.57
date	2014.11.22.12.17.53;	author rsprowson;	state Exp;
branches;
next	1.56;
commitid	XrJQHrR8tgZx3bZx;

1.56
date	2014.09.26.19.21.04;	author rsprowson;	state Exp;
branches;
next	1.55;
commitid	21IfZ6DR2gpkeTRx;

1.55
date	2014.04.18.13.48.44;	author jlee;	state Exp;
branches;
next	1.54;
commitid	9flEkF3sThBazaxx;

1.54
date	2013.11.21.22.04.07;	author rsprowson;	state Exp;
branches;
next	1.53;
commitid	Js39uamLEdZ34cex;

1.53
date	2013.05.27.20.37.37;	author rsprowson;	state Exp;
branches;
next	1.52;
commitid	vUwSuxHXx7U7jjRw;

1.52
date	2013.05.09.20.10.20;	author rsprowson;	state Exp;
branches;
next	1.51;
commitid	DuPaSmroZvNDJZOw;

1.51
date	2013.05.04.07.53.34;	author rsprowson;	state Exp;
branches;
next	1.50;
commitid	50kaUrx2gmHQOhOw;

1.50
date	2013.05.03.19.45.03;	author rsprowson;	state Exp;
branches;
next	1.49;
commitid	BWxRBJwlqJiVMdOw;

1.49
date	2013.03.29.11.43.37;	author rsprowson;	state Exp;
branches;
next	1.48;
commitid	jEmpqbH2KnKvfGJw;

1.48
date	2013.03.24.19.06.05;	author rsprowson;	state Exp;
branches;
next	1.47;
commitid	Ioma95nmsRFgR4Jw;

1.47
date	2013.03.23.22.33.18;	author rsprowson;	state Exp;
branches;
next	1.46;
commitid	aggR80xzVr5m2YIw;

1.46
date	2012.10.08.00.28.35;	author srevill;	state Exp;
branches;
next	1.45;
commitid	S5VuQmfbLiJI2wnw;

1.45
date	2012.10.05.23.55.26;	author jlee;	state Exp;
branches;
next	1.44;
commitid	QQJvnYfjgFMkVfnw;

1.44
date	2012.09.19.11.24.30;	author rsprowson;	state Exp;
branches;
next	1.43;
commitid	avaKXEYX1XhBh8lw;

1.43
date	2012.09.19.07.37.58;	author rsprowson;	state Exp;
branches;
next	1.42;
commitid	1wieIxlXTrSS17lw;

1.42
date	2012.09.16.11.11.42;	author rsprowson;	state Exp;
branches;
next	1.41;
commitid	AQjLq0HHcGIbjKkw;

1.41
date	2012.09.13.19.24.19;	author rsprowson;	state Exp;
branches;
next	1.40;
commitid	LNdDaaOHBWX98pkw;

1.40
date	2012.09.13.00.19.39;	author srevill;	state Exp;
branches;
next	1.39;
commitid	RQRnOoVJpwptNikw;

1.39
date	2012.09.08.07.25.27;	author rsprowson;	state Exp;
branches;
next	1.38;
commitid	BJTpJBV2hm8wjHjw;

1.38
date	2012.09.07.17.54.21;	author rsprowson;	state Exp;
branches;
next	1.37;
commitid	31IkOAFmM3sgPCjw;

1.37
date	2012.09.01.23.12.26;	author rsprowson;	state Exp;
branches;
next	1.36;
commitid	mVd4G1gchQYhMSiw;

1.36
date	2012.08.28.20.22.21;	author rsprowson;	state Exp;
branches;
next	1.35;
commitid	8EflEtE94RGXXliw;

1.35
date	2012.08.26.17.17.36;	author rsprowson;	state Exp;
branches;
next	1.34;
commitid	7LosJbi66iQy05iw;

1.34
date	2012.08.22.14.04.41;	author rsprowson;	state Exp;
branches;
next	1.33;
commitid	Hercw3dBKb3m4yhw;

1.33
date	2012.08.14.17.48.44;	author rsprowson;	state Exp;
branches;
next	1.32;
commitid	pkJlGt9IZ5kazxgw;

1.32
date	2012.08.12.16.41.26;	author rsprowson;	state Exp;
branches;
next	1.31;
commitid	OHKH6pQmli54ghgw;

1.31
date	2012.08.11.20.49.59;	author rsprowson;	state Exp;
branches;
next	1.30;
commitid	p34fDwYpxe6kFagw;

1.30
date	2012.07.26.07.30.48;	author rsprowson;	state Exp;
branches;
next	1.29;
commitid	OlF6qJCeal42L2ew;

1.29
date	2012.07.22.19.01.44;	author rsprowson;	state Exp;
branches;
next	1.28;
commitid	iqJeZKPz9sb2IAdw;

1.28
date	2012.07.21.09.48.04;	author rsprowson;	state Exp;
branches;
next	1.27;
commitid	lQfK10iay896Gpdw;

1.27
date	2012.07.19.18.45.31;	author rsprowson;	state Exp;
branches;
next	1.26;
commitid	GvaPeCASWarsIcdw;

1.26
date	2012.07.19.11.34.00;	author rsprowson;	state Exp;
branches;
next	1.25;
commitid	yvfUBHvL8y1pkadw;

1.25
date	2012.07.15.16.56.15;	author rsprowson;	state Exp;
branches;
next	1.24;
commitid	kBacYOBPRVrWeGcw;

1.24
date	2012.07.07.21.24.00;	author rsprowson;	state Exp;
branches;
next	1.23;
commitid	R9Q6n3JVDUCzYFbw;

1.23
date	2012.01.14.23.00.36;	author srevill;	state Exp;
branches;
next	1.22;
commitid	ySaw8XpElA1D8cPv;

1.22
date	2012.01.13.22.57.09;	author rsprowson;	state Exp;
branches;
next	1.21;
commitid	ZTbyQZ0DB1Sr94Pv;

1.21
date	2012.01.09.19.07.26;	author srevill;	state Exp;
branches;
next	1.20;
commitid	4h5bXfxSXhFB0xOv;

1.20
date	2011.12.12.18.06.19;	author srevill;	state Exp;
branches;
next	1.19;
commitid	C5vpWLbYleErzVKv;

1.19
date	2011.12.04.20.35.58;	author rsprowson;	state Exp;
branches;
next	1.18;
commitid	JI474jFhWkzJEUJv;

1.18
date	2011.03.17.16.12.23;	author srevill;	state Exp;
branches;
next	1.17;
commitid	evqh4NfTdnIrCdcv;

1.17
date	2011.03.09.19.03.19;	author srevill;	state Exp;
branches;
next	1.16;

1.16
date	2009.10.28.20.40.04;	author jlee;	state Exp;
branches;
next	1.15;

1.15
date	2009.10.25.16.34.27;	author jlee;	state Exp;
branches;
next	1.14;

1.14
date	2009.10.25.02.06.51;	author jlee;	state Exp;
branches;
next	1.13;

1.13
date	2009.10.24.22.49.21;	author jlee;	state Exp;
branches;
next	1.12;

1.12
date	2009.09.30.20.22.05;	author jlee;	state Exp;
branches;
next	1.11;

1.11
date	2007.01.22.17.03.46;	author srevill;	state Exp;
branches;
next	1.10;

1.10
date	2004.07.01.16.38.44;	author srevill;	state Exp;
branches;
next	1.9;

1.9
date	2003.06.10.16.41.53;	author rsprowson;	state Exp;
branches;
next	1.8;

1.8
date	2003.04.28.21.18.57;	author rsprowson;	state Exp;
branches;
next	1.7;

1.7
date	2003.02.13.17.22.15;	author rsprowson;	state Exp;
branches;
next	1.6;

1.6
date	2003.01.11.15.40.40;	author rsprowson;	state Exp;
branches;
next	1.5;

1.5
date	2002.12.14.12.18.49;	author rsprowson;	state Exp;
branches;
next	1.4;

1.4
date	2002.11.14.23.31.17;	author rsprowson;	state Exp;
branches;
next	1.3;

1.3
date	2002.11.14.20.45.04;	author srevill;	state Exp;
branches;
next	1.2;

1.2
date	2001.10.05.16.07.53;	author srevill;	state Exp;
branches;
next	1.1;

1.1
date	2001.10.05.15.47.46;	author srevill;	state Exp;
branches;
next	;


desc
@@


1.61
log
@Add ROM patches for the ADFS "disc error 20" fix
Detail:
  This set of changes adds a "disc error 20" fix to ADFS for RISC OS 3.50 thru 4.02, using similar code to that used for the fix that was applied to ADFS itself (in ADFS 3.54). This is to resolve issues with modern IDE devices which don't adhere to the DRQ timeout that old versions of the ATA spec mandated.
  File changes (all within Source/ROMPatch):
  - patches/s/ADFS354 - Generic assembler source for the disc error 20 fix
  - ihf2c/c/ihf2c - Source for a C utility that was used to help produce the ROM patch data
  - patches/adfs354,feb - Utility script for building the different versions of the ADFS patch and converting to ROMPatch form
  - patches/350/h/ADFSpatch, patches/360/h/ADFSpatch, patches/370/h/ADFSpatch, patches/371/h/ADFSpatch, patches/402/h/ADFSpatch - Added/updated ADFS patches
  - patches/350/h/patch, patches/371/h/patch, patches/402/h/patch - Include new ADFSpatch files where relevant
  - UK/h/messages - Update ROMPatch version numbers
  - c/rompatch, s/module - Add a word of writable workspace to the module which the ADFS patch can use
  - patches/402/h/CDSFTpatch - Remove duplicate patch (duplicate of RESLVpatch)
  - patches/402/h/MSGSpatch - Document the patches
  - ReadMe, Install/ROMPatch/!RunImage,ff8 - Remove redundant/outdated files (the main Boot makefile will build and install ROMPatch for us)
Admin:
  Tested on a RISC OS 3.70 StrongARM RiscPC with a CF-IDE adapter, disc error 20 is no more
  3.50/3.60/3.70/3.71/4.02 also tested under RPCEmu, manually provoking the different code paths to check hook points are correct


Version 1.26. Tagged as 'Boot-1_26'
@
text
@/* (1.26)
 *
 * This file is automatically maintained by srccommit, do not edit manually.
 * Last processed by srccommit version: 1.1.
 *
 */
#define Module_MajorVersion_CMHG        1.26
#define Module_MinorVersion_CMHG        
#define Module_Date_CMHG                02 Feb 2018

#define Module_MajorVersion             "1.26"
#define Module_Version                  126
#define Module_MinorVersion             ""
#define Module_Date                     "02 Feb 2018"

#define Module_ApplicationDate          "02-Feb-18"

#define Module_ComponentName            "Boot"
#define Module_ComponentPath            "castle/RiscOS/Sources/SystemRes/Boot"

#define Module_FullVersion              "1.26"
#define Module_HelpVersion              "1.26 (02 Feb 2018)"
#define Module_LibraryVersionInfo       "1:26"
@


1.60
log
@Remove workaround for pre-RISC OS 3.50
The extra AddToRMA in BootRun is no longer needed, the true cause was a bug fixed in Wimp-5_55 reading IRQsema's address, which caused the RMA to be clamped.
Tested on a real A5000.

Version 1.25. Tagged as 'Boot-1_25'
@
text
@d1 1
a1 1
/* (1.25)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.25
d9 1
a9 1
#define Module_Date_CMHG                16 Sep 2016
d11 2
a12 2
#define Module_MajorVersion             "1.25"
#define Module_Version                  125
d14 1
a14 1
#define Module_Date                     "16 Sep 2016"
d16 1
a16 1
#define Module_ApplicationDate          "16-Sep-16"
d21 3
a23 3
#define Module_FullVersion              "1.25"
#define Module_HelpVersion              "1.25 (16 Sep 2016)"
#define Module_LibraryVersionInfo       "1:25"
@


1.59
log
@EndMode to endmode
A handful of MDFs had opening 'startmode' but closing 'EndMode', which MakeModes complains about. Bulk edit these to 'endmode'.

Version 1.24. Tagged as 'Boot-1_24'
@
text
@d1 1
a1 1
/* (1.24)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.24
d9 1
a9 1
#define Module_Date_CMHG                29 Aug 2015
d11 2
a12 2
#define Module_MajorVersion             "1.24"
#define Module_Version                  124
d14 1
a14 1
#define Module_Date                     "29 Aug 2015"
d16 1
a16 1
#define Module_ApplicationDate          "29-Aug-15"
d21 3
a23 3
#define Module_FullVersion              "1.24"
#define Module_HelpVersion              "1.24 (29 Aug 2015)"
#define Module_LibraryVersionInfo       "1:24"
@


1.58
log
@Correction to default run path
!Boot was adding its private utilities (!Boot.Utils) to the global run path, which isn't the intent of that directory. Changed singular use of HOn to use a fully qualified path to !Boot.Utils.
User commands should go in !Boot.Library, as before.

Version 1.23. Tagged as 'Boot-1_23'
@
text
@d1 1
a1 1
/* (1.23)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.23
d9 1
a9 1
#define Module_Date_CMHG                25 Jun 2015
d11 2
a12 2
#define Module_MajorVersion             "1.23"
#define Module_Version                  123
d14 1
a14 1
#define Module_Date                     "25 Jun 2015"
d16 1
a16 1
#define Module_ApplicationDate          "25-Jun-15"
d21 3
a23 3
#define Module_FullVersion              "1.23"
#define Module_HelpVersion              "1.23 (25 Jun 2015)"
#define Module_LibraryVersionInfo       "1:23"
@


1.57
log
@Bulk MDF shuffle
45 of the provided MDFs used names that are ambiguous when copied onto a 10 letter long drive. Since the MDFs are already grouped in directories corresponding to the manufacturer name there's no need to prefix the filename with that same text. Removing the prefix gets them all under 10 characters.
Removed duplicate ViewSonic VA2012W and VA2012Wseries MDF.

Version 1.22. Tagged as 'Boot-1_22'
@
text
@d1 1
a1 1
/* (1.22)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.22
d9 1
a9 1
#define Module_Date_CMHG                22 Nov 2014
d11 2
a12 2
#define Module_MajorVersion             "1.22"
#define Module_Version                  122
d14 1
a14 1
#define Module_Date                     "22 Nov 2014"
d16 1
a16 1
#define Module_ApplicationDate          "22-Nov-14"
d21 3
a23 3
#define Module_FullVersion              "1.22"
#define Module_HelpVersion              "1.22 (22 Nov 2014)"
#define Module_LibraryVersionInfo       "1:22"
@


1.56
log
@Correction to Boot$ReadOnly evaluation logic
BootVars was not accounting for a locked drive (with FSLock) when working out whether to set Boot$ReadOnly.
This meant that a locked drive would unhelpfully create a small RAM disc with a default setup in it rather than running the normal boot sequence (albeit locked against changes to everything except $.Public and !Scrap).
Tested on RISC OS 4.02.

Version 1.21. Tagged as 'Boot-1_21'
@
text
@d1 1
a1 1
/* (1.21)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.21
d9 1
a9 1
#define Module_Date_CMHG                26 Sep 2014
d11 2
a12 2
#define Module_MajorVersion             "1.21"
#define Module_Version                  121
d14 1
a14 1
#define Module_Date                     "26 Sep 2014"
d16 1
a16 1
#define Module_ApplicationDate          "26-Sep-14"
d21 3
a23 3
#define Module_FullVersion              "1.21"
#define Module_HelpVersion              "1.21 (26 Sep 2014)"
#define Module_LibraryVersionInfo       "1:21"
@


1.55
log
@Zap both the LoadModeFile command and the WimpMode command on CMOS reset
Detail:
  Source/ClrMonitor/c/main - On CMOS reset, zap both lines in the monitor configuration file instead of just the LoadModeFile line
  Will prevent the boot sequence terminating early after a CMOS reset when running Wimp 5.40, under which WimpMode will correctly error when given a bad mode
Admin:
  Tested on Raspberry Pi


Version 1.20. Tagged as 'Boot-1_20'
@
text
@d1 1
a1 1
/* (1.20)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.20
d9 1
a9 1
#define Module_Date_CMHG                18 Apr 2014
d11 2
a12 2
#define Module_MajorVersion             "1.20"
#define Module_Version                  120
d14 1
a14 1
#define Module_Date                     "18 Apr 2014"
d16 1
a16 1
#define Module_ApplicationDate          "18-Apr-14"
d21 3
a23 3
#define Module_FullVersion              "1.20"
#define Module_HelpVersion              "1.20 (18 Apr 2014)"
#define Module_LibraryVersionInfo       "1:20"
@


1.54
log
@Issue service call once boot variables are set
After setting BootResources$Things, Choices$Things, Boot$Things a new service call is sent to allow, for example, ROM based modules to react to any implications of that change.
R0 is defined as flags, currently all 0, might be useful one day.
Tested briefly.

Version 1.19. Tagged as 'Boot-1_19'
@
text
@d1 1
a1 1
/* (1.19)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.19
d9 1
a9 1
#define Module_Date_CMHG                21 Nov 2013
d11 2
a12 2
#define Module_MajorVersion             "1.19"
#define Module_Version                  119
d14 1
a14 1
#define Module_Date                     "21 Nov 2013"
d16 1
a16 1
#define Module_ApplicationDate          "21-Nov-13"
d21 3
a23 3
#define Module_FullVersion              "1.19"
#define Module_HelpVersion              "1.19 (21 Nov 2013)"
#define Module_LibraryVersionInfo       "1:19"
@


1.53
log
@Update ROM patcher to understand Ursula kernels
The ROM patcher relied on lots of grubby internal knowledge of kernel addresses, some of which moved for Ursula
* L1PT now discovered with OS_ReadSysInfo 6
* CAM now discovered with OS_ReadSysInfo 6
* The StrongARM cleaner flipflop now discovered with OS_ReadSysInfo 6
* Option to ignore the ROM checksum where it is known to be duff (eg. personalised copies of RISC OS 4)

Also
* Remove RO430Hook from the output pending more testing
* Readd SoundDMA for RISC OS 3.60


Version 1.18. Tagged as 'Boot-1_18'
@
text
@d1 1
a1 1
/* (1.18)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.18
d9 1
a9 1
#define Module_Date_CMHG                27 May 2013
d11 2
a12 2
#define Module_MajorVersion             "1.18"
#define Module_Version                  118
d14 1
a14 1
#define Module_Date                     "27 May 2013"
d16 1
a16 1
#define Module_ApplicationDate          "27-May-13"
d21 3
a23 3
#define Module_FullVersion              "1.18"
#define Module_HelpVersion              "1.18 (27 May 2013)"
#define Module_LibraryVersionInfo       "1:18"
@


1.52
log
@Boot script fixes
When softloading the Wimp pre RISC OS 3.50 we must kill the BorderUtils module (which gets loaded as a side effect of the Toolbox being loaded when !System is run). While BorderUtils is careful not to fiddle with the workspace of Wimps it doesn't recognise this check is only made when it loads (which passes as the ROM Wimp is acceptable) but subsequent softloading is missed. Generally bad things happen when it pokes the Wimps workspace on every mode change.

PreDesktop scripts were trying to fix up malformed Boot$OSVersions, but since we know we get that right those steps are redundant.

In BootRun the use of AddToRMA hadn't spotted a subtle syntax change.
The AddToRMA utility ignored a trailing 'K' and assumed the number was always in kilobytes. AddToRMA in BootCommands requires a K (or M) suffix otherwise it assumes bytes. So for a number of years only 768 bytes have been added to the RMA, which isn't enough to softload a Wimp on RISC OS 3.10.
As RISC OS 3.10 has no free pool, the AppSize command drains the RMA dry. We push 256K back into it for any subsequent requirements (notably on RISC OS 3.10, sprites are held in the RMA, and the filer seeing some apps could trigger an annoying RMA full error message).

Disabled theme loading on RISC OS 3.10, there's really not enough free RAM to usefully load that many sprites.

Typo in RO310Hook/Boot/Desktop corrected.

Version 1.17. Tagged as 'Boot-1_17'
@
text
@d1 1
a1 1
/* (1.17)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.17
d9 1
a9 1
#define Module_Date_CMHG                09 May 2013
d11 2
a12 2
#define Module_MajorVersion             "1.17"
#define Module_Version                  117
d14 1
a14 1
#define Module_Date                     "09 May 2013"
d16 1
a16 1
#define Module_ApplicationDate          "09-May-13"
d21 3
a23 3
#define Module_FullVersion              "1.17"
#define Module_HelpVersion              "1.17 (09 May 2013)"
#define Module_LibraryVersionInfo       "1:17"
@


1.51
log
@Update to baseline Wimp version
Previously 3.98 (the nested Wimp supplied with the browser/Java CD), now 5.15.
While not wanting to belittle 117 versions, many of which were STB resource refinements, the main highlights are probably
 * 4.10 UTF8 support
 * 4.82 features contemporary with RISC OS 4.02
 * 4.84 support hires Sprites11
 * 4.85 support searching Wimp$IconTheme
 * 5.13 zero page safe and VFP contexts
 * 5.15 preset Wimp$IconTheme <-- that's the change !Boot was waiting for

RO310/350/360/370/400Hook: PreDesktop files updated to load the newer Wimp
RO430Hook: Unfortunately the ROM copy of the Wimp in 4.39 is already > the themed nested Wimp, but since the RO430Hook is only a skeleton (to allow softloading of RISC OS 5) there's little to gain by loading a Wimp
RO360Hook: Trim out licence from installed !Run file
RO400Hook: Reenable the default monitor definition in the NoVRAM case

Version 1.16. Tagged as 'Boot-1_16'
@
text
@d1 1
a1 1
/* (1.16)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.16
d9 1
a9 1
#define Module_Date_CMHG                04 May 2013
d11 2
a12 2
#define Module_MajorVersion             "1.16"
#define Module_Version                  116
d14 1
a14 1
#define Module_Date                     "04 May 2013"
d16 1
a16 1
#define Module_ApplicationDate          "04-May-13"
d21 3
a23 3
#define Module_FullVersion              "1.16"
#define Module_HelpVersion              "1.16 (04 May 2013)"
#define Module_LibraryVersionInfo       "1:16"
@


1.50
log
@Add missing backdrop configuration for RISC OS 3.10
Everyone deserves a marble backdrop.

Version 1.15. Tagged as 'Boot-1_15'
@
text
@d1 1
a1 1
/* (1.15)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.15
d9 1
a9 1
#define Module_Date_CMHG                03 May 2013
d11 2
a12 2
#define Module_MajorVersion             "1.15"
#define Module_Version                  115
d14 1
a14 1
#define Module_Date                     "03 May 2013"
d16 1
a16 1
#define Module_ApplicationDate          "03-May-13"
d21 3
a23 3
#define Module_FullVersion              "1.15"
#define Module_HelpVersion              "1.15 (03 May 2013)"
#define Module_LibraryVersionInfo       "1:15"
@


1.49
log
@Updates to hooks
Makefile produces RO520Hook too, corrected rule for RO430Hook.
Removed unnecessary 'IfThere' from RO500/RO510, both of which are HAL based so have never provided BandLimit.

Version 1.14. Tagged as 'Boot-1_14'
@
text
@d1 1
a1 1
/* (1.14)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.14
d9 1
a9 1
#define Module_Date_CMHG                29 Mar 2013
d11 2
a12 2
#define Module_MajorVersion             "1.14"
#define Module_Version                  114
d14 1
a14 1
#define Module_Date                     "29 Mar 2013"
d16 1
a16 1
#define Module_ApplicationDate          "29-Mar-13"
d21 3
a23 3
#define Module_FullVersion              "1.14"
#define Module_HelpVersion              "1.14 (29 Mar 2013)"
#define Module_LibraryVersionInfo       "1:14"
@


1.48
log
@Add skeleton hook directory for RISC OS 4.39
Largely a clone of the RO400Hook.
Also
* Update RO400Hook/ResetCMOS to have the right OS version at the end
* In each 'Desktop' file only Filer_Boot the utilities of the same major version number
* BootRun accepts RISC OS Adjust's extra default library prefix, but outputs a corrected Run$Path (where the CSD is checked before the Lib)
* Makefile and docs updated

Tested on RISC OS 4.39, booting to the desktop with no errors.

Version 1.13. Tagged as 'Boot-1_13'
@
text
@d1 1
a1 1
/* (1.13)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.13
d9 1
a9 1
#define Module_Date_CMHG                24 Mar 2013
d11 2
a12 2
#define Module_MajorVersion             "1.13"
#define Module_Version                  113
d14 1
a14 1
#define Module_Date                     "24 Mar 2013"
d16 1
a16 1
#define Module_ApplicationDate          "24-Mar-13"
d21 3
a23 3
#define Module_FullVersion              "1.13"
#define Module_HelpVersion              "1.13 (24 Mar 2013)"
#define Module_LibraryVersionInfo       "1:13"
@


1.47
log
@Reinstate RO310Hook
Clarify comment in 350 patches
Fix bug in SetChoices where it tried to create 2 levels of directory in one operation, leading to choices not getting copied over correctly

Version 1.12. Tagged as 'Boot-1_12'
@
text
@d1 1
a1 1
/* (1.12)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.12
d9 1
a9 1
#define Module_Date_CMHG                23 Mar 2013
d11 2
a12 2
#define Module_MajorVersion             "1.12"
#define Module_Version                  112
d14 1
a14 1
#define Module_Date                     "23 Mar 2013"
d16 1
a16 1
#define Module_ApplicationDate          "23-Mar-13"
d21 3
a23 3
#define Module_FullVersion              "1.12"
#define Module_HelpVersion              "1.12 (23 Mar 2013)"
#define Module_LibraryVersionInfo       "1:12"
@


1.46
log
@Reverted the BootFX bodge now theming is better understood.

The BootFX:PreDesk file is no longer required now it's clear that
the splash screen stuff can't really be themed due to where various
things happen in the boot sequence.

Version 1.11. Tagged as 'Boot-1_11'
@
text
@d1 1
a1 1
/* (1.11)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.11
d9 1
a9 1
#define Module_Date_CMHG                08 Oct 2012
d11 2
a12 2
#define Module_MajorVersion             "1.11"
#define Module_Version                  111
d14 1
a14 1
#define Module_Date                     "08 Oct 2012"
d16 1
a16 1
#define Module_ApplicationDate          "08-Oct-12"
d21 3
a23 3
#define Module_FullVersion              "1.11"
#define Module_HelpVersion              "1.11 (08 Oct 2012)"
#define Module_LibraryVersionInfo       "1:11"
@


1.45
log
@Add Pandora mode definition
Detail:
  Configure/Monitors/Other/Generic - Added an MDF entry for the Pandora's native resolution
Admin:
  Tested on Pandora


Version 1.10. Tagged as 'Boot-1_10'
@
text
@d1 1
a1 1
/* (1.10)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.10
d9 1
a9 1
#define Module_Date_CMHG                06 Oct 2012
d11 2
a12 2
#define Module_MajorVersion             "1.10"
#define Module_Version                  110
d14 1
a14 1
#define Module_Date                     "06 Oct 2012"
d16 1
a16 1
#define Module_ApplicationDate          "06-Oct-12"
d21 3
a23 3
#define Module_FullVersion              "1.10"
#define Module_HelpVersion              "1.10 (06 Oct 2012)"
#define Module_LibraryVersionInfo       "1:10"
@


1.44
log
@Install alternate !ResetBoot icons
To save a little disc space the default is the RISC OS 5 cream colour folder, hence only the deltas (Ursula and Morris4) are needed.

Version 1.09. Tagged as 'Boot-1_09'
@
text
@d1 1
a1 1
/* (1.09)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.09
d9 1
a9 1
#define Module_Date_CMHG                19 Sep 2012
d11 2
a12 2
#define Module_MajorVersion             "1.09"
#define Module_Version                  109
d14 1
a14 1
#define Module_Date                     "19 Sep 2012"
d16 1
a16 1
#define Module_ApplicationDate          "19-Sep-12"
d21 3
a23 3
#define Module_FullVersion              "1.09"
#define Module_HelpVersion              "1.09 (19 Sep 2012)"
#define Module_LibraryVersionInfo       "1:9"
@


1.43
log
@Install alternate !Boot icons
To save a little disc space the default is the RISC OS 5 cream colour folder, hence only the deltas (Ursula and Morris4) are needed.

Version 1.08. Tagged as 'Boot-1_08'
@
text
@d1 1
a1 1
/* (1.08)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.08
d11 2
a12 2
#define Module_MajorVersion             "1.08"
#define Module_Version                  108
d21 3
a23 3
#define Module_FullVersion              "1.08"
#define Module_HelpVersion              "1.08 (19 Sep 2012)"
#define Module_LibraryVersionInfo       "1:8"
@


1.42
log
@Add blending font manager for 3.50 and 3.60
Comes built in from 3.70 onwards, so resides in Hook directory.

Version 1.07. Tagged as 'Boot-1_07'
@
text
@d1 1
a1 1
/* (1.07)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.07
d9 1
a9 1
#define Module_Date_CMHG                16 Sep 2012
d11 2
a12 2
#define Module_MajorVersion             "1.07"
#define Module_Version                  107
d14 1
a14 1
#define Module_Date                     "16 Sep 2012"
d16 1
a16 1
#define Module_ApplicationDate          "16-Sep-12"
d21 3
a23 3
#define Module_FullVersion              "1.07"
#define Module_HelpVersion              "1.07 (16 Sep 2012)"
#define Module_LibraryVersionInfo       "1:7"
@


1.41
log
@MDF review
* Removed triplicate of AKF11/12; AKF30/40; AKF11-40 since (aside from the monitor title) they're all the same
* Renamed Fujitsu L22W2 to use a hyphen like the others
* VM1403 title expanded to Vision Master 1403
* 31 occurences of 'Diaganol' spelling mistake from EDID Decoder tool corrected

Version 1.06. Tagged as 'Boot-1_06'
@
text
@d1 1
a1 1
/* (1.06)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.06
d9 1
a9 1
#define Module_Date_CMHG                13 Sep 2012
d11 2
a12 2
#define Module_MajorVersion             "1.06"
#define Module_Version                  106
d14 1
a14 1
#define Module_Date                     "13 Sep 2012"
d16 1
a16 1
#define Module_ApplicationDate          "13-Sep-12"
d21 3
a23 3
#define Module_FullVersion              "1.06"
#define Module_HelpVersion              "1.06 (13 Sep 2012)"
#define Module_LibraryVersionInfo       "1:6"
@


1.40
log
@Switched the BootFX progress bar on.

Version 1.05. Tagged as 'Boot-1_05'
@
text
@d1 1
a1 1
/* (1.05)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.05
d11 2
a12 2
#define Module_MajorVersion             "1.05"
#define Module_Version                  105
d21 3
a23 3
#define Module_FullVersion              "1.05"
#define Module_HelpVersion              "1.05 (13 Sep 2012)"
#define Module_LibraryVersionInfo       "1:5"
@


1.39
log
@Add progress hint to repeats
Same as in Boot-1_03 but the switches must come after the command tail according to the help.
Additionally, the option is omitted when an older BootCommands module is present.

Version 1.04. Tagged as 'Boot-1_04'
@
text
@d1 1
a1 1
/* (1.04)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.04
d9 1
a9 1
#define Module_Date_CMHG                08 Sep 2012
d11 2
a12 2
#define Module_MajorVersion             "1.04"
#define Module_Version                  104
d14 1
a14 1
#define Module_Date                     "08 Sep 2012"
d16 1
a16 1
#define Module_ApplicationDate          "08-Sep-12"
d21 3
a23 3
#define Module_FullVersion              "1.04"
#define Module_HelpVersion              "1.04 (08 Sep 2012)"
#define Module_LibraryVersionInfo       "1:4"
@


1.38
log
@Add progress hint to repeats

Version 1.03. Tagged as 'Boot-1_03'
@
text
@d1 1
a1 1
/* (1.03)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.03
d9 1
a9 1
#define Module_Date_CMHG                07 Sep 2012
d11 2
a12 2
#define Module_MajorVersion             "1.03"
#define Module_Version                  103
d14 1
a14 1
#define Module_Date                     "07 Sep 2012"
d16 1
a16 1
#define Module_ApplicationDate          "07-Sep-12"
d21 3
a23 3
#define Module_FullVersion              "1.03"
#define Module_HelpVersion              "1.03 (07 Sep 2012)"
#define Module_LibraryVersionInfo       "1:3"
@


1.37
log
@More boot reorganisation
* BootRun no longer bothers checking for CallASWI, since the SharedCLibrary (which is loaded prior to BootRun) does this anyway.
* Try loading the StrongARM app patcher. Note the check is conditioned on 500 since it is assumed any application which has been 32 bitted is now also StrongARM safe, the use of 'X RMLoad' uses cunning on the placement of the PatchApp module in System:Modules.370, thus skipping the load on versions prior to StrongARM too.
* Remove redundant sprite sets from Extras/500 which were no longer being used anyway.
* Import of UserIF specific backdrop textures (Morris4 ones clawed off an old CD, others courtesy of Richard Hallas).
* Makefile rejigged to allow a TARGET=TEXTURES to select which UserIFs to add.
* Updated 'RTexture' to scan the configured theme for its random backdrop in addition to the generics.

Version 1.02. Tagged as 'Boot-1_02'
@
text
@d1 1
a1 1
/* (1.02)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.02
d9 1
a9 1
#define Module_Date_CMHG                02 Sep 2012
d11 2
a12 2
#define Module_MajorVersion             "1.02"
#define Module_Version                  102
d14 1
a14 1
#define Module_Date                     "02 Sep 2012"
d16 1
a16 1
#define Module_ApplicationDate          "02-Sep-12"
d21 3
a23 3
#define Module_FullVersion              "1.02"
#define Module_HelpVersion              "1.02 (02 Sep 2012)"
#define Module_LibraryVersionInfo       "1:2"
@


1.36
log
@Add 'Generic' monitor definition
Archive of items on the ROOL USB stick, this contains a number of handy screenmodes that even the most picky monitor shouldn't be upset by, so should be enough to start with.

Version 1.01. Tagged as 'Boot-1_01'
@
text
@d1 1
a1 1
/* (1.01)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.01
d9 1
a9 1
#define Module_Date_CMHG                28 Aug 2012
d11 2
a12 2
#define Module_MajorVersion             "1.01"
#define Module_Version                  101
d14 1
a14 1
#define Module_Date                     "28 Aug 2012"
d16 1
a16 1
#define Module_ApplicationDate          "28-Aug-12"
d21 3
a23 3
#define Module_FullVersion              "1.01"
#define Module_HelpVersion              "1.01 (28 Aug 2012)"
#define Module_LibraryVersionInfo       "1:1"
@


1.35
log
@Add helper to recalc iconbar bounding boxes
When 'protect ROM sprites' is turned off, and a theme is being loaded (after the desktop has started in order to pick the right eigen factor sprites file), the various built in ROM applications have already installed their iconbar sprites.
Therefore, when new ones are loaded the bounding boxes are wrong (eg. drive icons the wrong width, switcher icon too tall) and need recalculating.
Derived from 'FontChange' new configure helper 'IconChange' does this.

Also removed unnecessary 500/Tools22.

Version 1.00. Tagged as 'Boot-1_00'
@
text
@d1 1
a1 1
/* (1.00)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.00
d9 1
a9 1
#define Module_Date_CMHG                26 Aug 2012
d11 2
a12 2
#define Module_MajorVersion             "1.00"
#define Module_Version                  100
d14 1
a14 1
#define Module_Date                     "26 Aug 2012"
d16 1
a16 1
#define Module_ApplicationDate          "26-Aug-12"
d21 3
a23 3
#define Module_FullVersion              "1.00"
#define Module_HelpVersion              "1.00 (26 Aug 2012)"
#define Module_LibraryVersionInfo       "1:0"
@


1.34
log
@Reorder when theme resources are loaded
Needs to be a little later on, after the desktop has been entered, in order that the pended *WIMPMODE command set in Choices:Boot.PreDesk.Configure has been acted upon (so any *ICONSPRITES commands know which is the best resolution to load).
Inlined the (optional) user setting of the theme, rather than unconditionally doing so in Choices:Boot.PreDesktop then having to go back and fix it up again later.
Tested with some different eigen factors with different sprite sets for each, to check the right one gets loaded.

Version 0.99. Tagged as 'Boot-0_99'
@
text
@d1 1
a1 1
/* (0.99)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.99
d9 1
a9 1
#define Module_Date_CMHG                22 Aug 2012
d11 2
a12 2
#define Module_MajorVersion             "0.99"
#define Module_Version                  99
d14 1
a14 1
#define Module_Date                     "22 Aug 2012"
d16 1
a16 1
#define Module_ApplicationDate          "22-Aug-12"
d21 3
a23 3
#define Module_FullVersion              "0.99"
#define Module_HelpVersion              "0.99 (22 Aug 2012)"
#define Module_LibraryVersionInfo       "0:99"
@


1.33
log
@Fix to ClrMonitor
In a refactoring frenzy the return value for OS_Byte got lost, so was using an undefined automatic variable and randomly clearing the monitor.

Version 0.98. Tagged as 'Boot-0_98'
@
text
@d1 1
a1 1
/* (0.98)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.98
d9 1
a9 1
#define Module_Date_CMHG                14 Aug 2012
d11 2
a12 2
#define Module_MajorVersion             "0.98"
#define Module_Version                  98
d14 1
a14 1
#define Module_Date                     "14 Aug 2012"
d16 1
a16 1
#define Module_ApplicationDate          "14-Aug-12"
d21 3
a23 3
#define Module_FullVersion              "0.98"
#define Module_HelpVersion              "0.98 (14 Aug 2012)"
#define Module_LibraryVersionInfo       "0:98"
@


1.32
log
@Adjust for VIDCBandwidthLimit and VIDCBandLimit
RO350Hook and RO360Hook these were still containing an obey file 'BandLimit' however the corresponding !Configure had been modified (for 3.7x) to instead use the alias VIDCBandLimit. Adjusted obey files accordingly.
RO500Hook and RO510Hook now use 'X' to supress errors when VIDCBandwidthLimit is absent. From RO520Hook onwards this can be removed permanently.
Additionally RO500Hook and RO510Hook were not running ClrMonitor so on a CMOS reset the (potentially wrong) monitor would be selected.
Updated comment in BandLimit/BandLimit.c.
Updated ClrMonitor/main.c to use central defines. Put old copy in attic to reduce confusion.

Version 0.97. Tagged as 'Boot-0_97'
@
text
@d1 1
a1 1
/* (0.97)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.97
d9 1
a9 1
#define Module_Date_CMHG                12 Aug 2012
d11 2
a12 2
#define Module_MajorVersion             "0.97"
#define Module_Version                  97
d14 1
a14 1
#define Module_Date                     "12 Aug 2012"
d16 1
a16 1
#define Module_ApplicationDate          "12-Aug-12"
d21 3
a23 3
#define Module_FullVersion              "0.97"
#define Module_HelpVersion              "0.97 (12 Aug 2012)"
#define Module_LibraryVersionInfo       "0:97"
@


1.31
log
@Skip NewLook and !+Resources obey files
Will now use centralised ThemeDefs instead, allowing the user to add themes without needing access to the tools to make resource modules.

Version 0.96. Tagged as 'Boot-0_96'
@
text
@d1 1
a1 1
/* (0.96)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.96
d9 1
a9 1
#define Module_Date_CMHG                11 Aug 2012
d11 2
a12 2
#define Module_MajorVersion             "0.96"
#define Module_Version                  96
d14 1
a14 1
#define Module_Date                     "11 Aug 2012"
d16 1
a16 1
#define Module_ApplicationDate          "11-Aug-12"
d21 3
a23 3
#define Module_FullVersion              "0.96"
#define Module_HelpVersion              "0.96 (11 Aug 2012)"
#define Module_LibraryVersionInfo       "0:96"
@


1.30
log
@Generate ROM patches from source
It looks like the source to the ROM patches got lost in one of the numerous reorganisations, so while "ROMPatch2" was here "ROMPatch3" including the crucial > 2GB drive lockup fix were lost.
* Reverse engineered ROMPatch3, see userdocs/v204/!ReadMe
* Added support to the patch tool for 2MB ROMs as used in RISC OS 3.50
* Convert the BASIC patch for 3.50 (in Sources/ROMPatch4M) into patch tool format, unfortunately it's not clear what all the patches actually do so they're mostly grouped by module with little explanation
* Removed source attribution from obey files copied to the user
* Use Push/Pull macros
Tested by applying the original patch to a ROM, saving it, then applying this patch, and diffing the result.

Version 0.95. Tagged as 'Boot-0_95'
@
text
@d1 1
a1 1
/* (0.95)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.95
d9 1
a9 1
#define Module_Date_CMHG                26 Jul 2012
d11 2
a12 2
#define Module_MajorVersion             "0.95"
#define Module_Version                  95
d14 1
a14 1
#define Module_Date                     "26 Jul 2012"
d16 1
a16 1
#define Module_ApplicationDate          "26-Jul-12"
d21 3
a23 3
#define Module_FullVersion              "0.95"
#define Module_HelpVersion              "0.95 (26 Jul 2012)"
#define Module_LibraryVersionInfo       "0:95"
@


1.29
log
@Further convergence
* RO310Hook is now created, but Boot removed (to halt booting on 3.10 until the assembler macros support ARMv2)
* 310/350/360/370/400 predesktop now define Wimp$IconTheme after loading the nested window manager
* 360 now has a default backdrop tiled sprite on entering the desktop
* 400/500/510 now demark sections of 'Desktop' with RISCOS - note, all one word. The installer relies on the lines being of the form '|Start <company> <program> 1.23 <detail>" with a space it would be mis parsed
* Recovered more recent patch for 3.50 from the archives
* Reordered BootRun so the hourglass is on before the (potentially slow) choices directory is cloned
* Added sprites for UserIF=Sovereign

Version 0.94. Tagged as 'Boot-0_94'
@
text
@d1 1
a1 1
/* (0.94)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.94
d9 1
a9 1
#define Module_Date_CMHG                22 Jul 2012
d11 2
a12 2
#define Module_MajorVersion             "0.94"
#define Module_Version                  94
d14 1
a14 1
#define Module_Date                     "22 Jul 2012"
d16 1
a16 1
#define Module_ApplicationDate          "22-Jul-12"
d21 3
a23 3
#define Module_FullVersion              "0.94"
#define Module_HelpVersion              "0.94 (22 Jul 2012)"
#define Module_LibraryVersionInfo       "0:94"
@


1.28
log
@Try creating Boot/Apps/Res explicitly
Some weird difference between the autobuilder and a manual run means that some of the (empty) hook directories are missing. Try working around this by creating a new hook rule which manually creates them then copies the template contents over the top.

Version 0.93. Tagged as 'Boot-0_93'
@
text
@d1 1
a1 1
/* (0.93)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.93
d9 1
a9 1
#define Module_Date_CMHG                21 Jul 2012
d11 2
a12 2
#define Module_MajorVersion             "0.93"
#define Module_Version                  93
d14 1
a14 1
#define Module_Date                     "21 Jul 2012"
d16 1
a16 1
#define Module_ApplicationDate          "21-Jul-12"
d21 3
a23 3
#define Module_FullVersion              "0.93"
#define Module_HelpVersion              "0.93 (21 Jul 2012)"
#define Module_LibraryVersionInfo       "0:93"
@


1.27
log
@/Repeat -> Repeat, /AddApp -> AddApp
No longer uses UnplugTBox

Version 0.92. Tagged as 'Boot-0_92'
@
text
@d1 1
a1 1
/* (0.92)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.92
d9 1
a9 1
#define Module_Date_CMHG                19 Jul 2012
d11 2
a12 2
#define Module_MajorVersion             "0.92"
#define Module_Version                  92
d14 1
a14 1
#define Module_Date                     "19 Jul 2012"
d16 1
a16 1
#define Module_ApplicationDate          "19-Jul-12"
d21 3
a23 3
#define Module_FullVersion              "0.92"
#define Module_HelpVersion              "0.92 (19 Jul 2012)"
#define Module_LibraryVersionInfo       "0:92"
@


1.26
log
@Clearout and universality improvements
Still a work in progress, but the number of changes were getting above my "due for a checkin" threshold.
Highlights
* Import of skeleton RO400Hook (derived from prototype RO380Hook recovered from the archives).
* Clear out !ArmBoot junk, the aim is to have either a disc based universal boot or fileserver based boot (1 of 2, not 1 of 3).
* Import of RO370Hook scripts (derived from Acorn's universal boot CD).
* Generate DPMSUtils, WimpUtils, BandLimit, CDReinit from sources. Binaries deleted.
* Import of Ursula style sprites
* Combined SetChoices and NetChoices into 1, now in BASIC, allows more rational RAM disc creation in the case of a readonly boot (using SWI to discover how much RAM there is to apportion its size).
* Empty SetTheme added.
* Removed use of aasm, now use objasm, at least for those things still used.
* Trimmed source attributions from those files which get copied to the end user's output.
* Removed SetupMimeMap hack - this was only needed because the dopey MimeMap module goes dormant if Inet$Mimemapping is not set when it starts (which it isn't when in ROM), now the BootRun obey file deals with that case.

Version 0.91. Tagged as 'Boot-0_91'
@
text
@d1 1
a1 1
/* (0.91)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.91
d11 2
a12 2
#define Module_MajorVersion             "0.91"
#define Module_Version                  91
d21 3
a23 3
#define Module_FullVersion              "0.91"
#define Module_HelpVersion              "0.91 (19 Jul 2012)"
#define Module_LibraryVersionInfo       "0:91"
@


1.25
log
@Restore a little universality
Makefile updated to use some shared bits.
New (empty) FILES510 definition.
Only !Sprites is mandatory for a given UserIF, !Sprites22 and !Sprites11 may be omitted.
Removed some heading blocks from files deposited on the user's disc.
Copied !Run into locale specific dir since it contains english translations.
Notes moved into Docs dir.

Version 0.90. Tagged as 'Boot-0_90'
@
text
@d1 1
a1 1
/* (0.90)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.90
d9 1
a9 1
#define Module_Date_CMHG                15 Jul 2012
d11 2
a12 2
#define Module_MajorVersion             "0.90"
#define Module_Version                  90
d14 1
a14 1
#define Module_Date                     "15 Jul 2012"
d16 1
a16 1
#define Module_ApplicationDate          "15-Jul-12"
d21 3
a23 3
#define Module_FullVersion              "0.90"
#define Module_HelpVersion              "0.90 (15 Jul 2012)"
#define Module_LibraryVersionInfo       "0:90"
@


1.24
log
@Handful of minor tweaks
* Spurious leading space for LCD14500 monitor definition removed
* Now redundant su_ banner sprites trimmed from Iyonix UserIF
* Source code comment block removed from !Run and !Boot, since they're copied to the user install

Version 0.89. Tagged as 'Boot-0_89'
@
text
@d1 1
a1 1
/* (0.89)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.89
d9 1
a9 1
#define Module_Date_CMHG                07 Jul 2012
d11 2
a12 2
#define Module_MajorVersion             "0.89"
#define Module_Version                  89
d14 1
a14 1
#define Module_Date                     "07 Jul 2012"
d16 1
a16 1
#define Module_ApplicationDate          "07-Jul-12"
d21 3
a23 3
#define Module_FullVersion              "0.89"
#define Module_HelpVersion              "0.89 (07 Jul 2012)"
#define Module_LibraryVersionInfo       "0:89"
@


1.23
log
@Replace "-wipe" with "x wipe" in makefiles to remove annoying errors.

Version 0.88. Tagged as 'Boot-0_88'
@
text
@d1 1
a1 1
/* (0.88)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.88
d9 1
a9 1
#define Module_Date_CMHG                14 Jan 2012
d11 2
a12 2
#define Module_MajorVersion             "0.88"
#define Module_Version                  88
d14 1
a14 1
#define Module_Date                     "14 Jan 2012"
d16 1
a16 1
#define Module_ApplicationDate          "14-Jan-12"
d21 3
a23 3
#define Module_FullVersion              "0.88"
#define Module_HelpVersion              "0.88 (14 Jan 2012)"
#define Module_LibraryVersionInfo       "0:88"
@


1.22
log
@Correction to Desktop files
The default run action for CMOS files was "/LoadCMOS" with "/" being a shorthand for run, which checks the run path and library (where the LoadCMOS utility is on old machines).
Since LoadCMOS is now in the boot commands module the "/" stops it working since the LoadCMOS utility is not supplied. This would still work without the "/" on a machine with no boot commands module too.

Version 0.87. Tagged as 'Boot-0_87'
@
text
@d1 1
a1 1
/* (0.87)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.87
d9 1
a9 1
#define Module_Date_CMHG                13 Jan 2012
d11 2
a12 2
#define Module_MajorVersion             "0.87"
#define Module_Version                  87
d14 1
a14 1
#define Module_Date                     "13 Jan 2012"
d16 1
a16 1
#define Module_ApplicationDate          "13-Jan-12"
d21 3
a23 3
#define Module_FullVersion              "0.87"
#define Module_HelpVersion              "0.87 (13 Jan 2012)"
#define Module_LibraryVersionInfo       "0:87"
@


1.21
log
@Fixed BootVars.

We introduced a bug in BootVars which breaks the boot sequence on non-read-only
filesystems (e.g. almost everything!). Doh. This version should mean that our
HardDisc4 build works a bit better now...

Version 0.86. Tagged as 'Boot-0_86'
@
text
@d1 1
a1 1
/* (0.86)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.86
d9 1
a9 1
#define Module_Date_CMHG                09 Jan 2012
d11 2
a12 2
#define Module_MajorVersion             "0.86"
#define Module_Version                  86
d14 1
a14 1
#define Module_Date                     "09 Jan 2012"
d16 1
a16 1
#define Module_ApplicationDate          "09-Jan-12"
d21 3
a23 3
#define Module_FullVersion              "0.86"
#define Module_HelpVersion              "0.86 (09 Jan 2012)"
#define Module_LibraryVersionInfo       "0:86"
@


1.20
log
@Modified to support booting from read-only file systems.

Changes to the BootVars utility and a couple of Boot:Utils scripts.
Introduces the new Boot$ReadOnly and Boot$ChoicesRW system variables:

  Boot$ReadOnly evaluates to 1 if booting from a read-only file
  system (or more specifically, if the choices specific to that
  machine cannot be written to). Else evaluates to 0.

  Boot$ChoicesRW is the full pathname of the writeable Choices
  directory, which may NOT be Boot:Choices under various circumstances.
  This is only important during the boot sequence. The Choices$Write
  variable is still the one for everyone else to use.

Version 0.85. Tagged as 'Boot-0_85'
@
text
@d1 1
a1 1
/* (0.85)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.85
d9 1
a9 1
#define Module_Date_CMHG                12 Dec 2011
d11 2
a12 2
#define Module_MajorVersion             "0.85"
#define Module_Version                  85
d14 1
a14 1
#define Module_Date                     "12 Dec 2011"
d16 1
a16 1
#define Module_ApplicationDate          "12-Dec-11"
d21 3
a23 3
#define Module_FullVersion              "0.85"
#define Module_HelpVersion              "0.85 (12 Dec 2011)"
#define Module_LibraryVersionInfo       "0:85"
@


1.19
log
@Typos corrected.

Version 0.84. Tagged as 'Boot-0_84'
@
text
@d1 1
a1 1
/* (0.84)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.84
d9 1
a9 1
#define Module_Date_CMHG                04 Dec 2011
d11 2
a12 2
#define Module_MajorVersion             "0.84"
#define Module_Version                  84
d14 1
a14 1
#define Module_Date                     "04 Dec 2011"
d16 1
a16 1
#define Module_ApplicationDate          "04-Dec-11"
d21 3
a23 3
#define Module_FullVersion              "0.84"
#define Module_HelpVersion              "0.84 (04 Dec 2011)"
#define Module_LibraryVersionInfo       "0:84"
@


1.18
log
@Fix the 'Do' transient utility build process.
Tidy up the clean phase and a few other miscellaneous bits of makefile.

Version 0.83. Tagged as 'Boot-0_83'
@
text
@d1 1
a1 1
/* (0.83)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.83
d9 1
a9 1
#define Module_Date_CMHG                17 Mar 2011
d11 2
a12 2
#define Module_MajorVersion             "0.83"
#define Module_Version                  83
d14 1
a14 1
#define Module_Date                     "17 Mar 2011"
d16 1
a16 1
#define Module_ApplicationDate          "17-Mar-11"
d21 3
a23 3
#define Module_FullVersion              "0.83"
#define Module_HelpVersion              "0.83 (17 Mar 2011)"
#define Module_LibraryVersionInfo       "0:83"
@


1.17
log
@Updated the DO utility to work on RISC OS 6.

Version 0.82. Tagged as 'Boot-0_82'
@
text
@d1 1
a1 1
/* (0.82)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.82
d9 1
a9 1
#define Module_Date_CMHG                09 Mar 2011
d11 2
a12 2
#define Module_MajorVersion             "0.82"
#define Module_Version                  82
d14 1
a14 1
#define Module_Date                     "09 Mar 2011"
d16 1
a16 1
#define Module_ApplicationDate          "09-Mar-11"
d21 3
a23 3
#define Module_FullVersion              "0.82"
#define Module_HelpVersion              "0.82 (09 Mar 2011)"
#define Module_LibraryVersionInfo       "0:82"
@


1.16
log
@Import full set of MDFs from the offical Iyonix disc image
Detail:
  This change adds a load of MDFs to CVS that were in the Iyonix disc images but never in source control. The makefile has also been updated to simplify the MDF installation rules.
Admin:
  Tested on rev C2 beagleboard


Version 0.81. Tagged as 'Boot-0_81'
@
text
@d1 1
a1 1
/* (0.81)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.81
d9 1
a9 1
#define Module_Date_CMHG                28 Oct 2009
d11 2
a12 2
#define Module_MajorVersion             "0.81"
#define Module_Version                  81
d14 1
a14 1
#define Module_Date                     "28 Oct 2009"
d16 1
a16 1
#define Module_ApplicationDate          "28-Oct-09"
d21 3
a23 3
#define Module_FullVersion              "0.81"
#define Module_HelpVersion              "0.81 (28 Oct 2009)"
#define Module_LibraryVersionInfo       "0:81"
@


1.15
log
@Ensure RO510Hook contains the new files that were added to RO500Hook, fix ResetBoot to not reset to RO500Hook
Detail:
  RO510Hook/* - These files were aded to RO500Hook yesterday, but needed adding to RO510Hook as well so that they actually get used on RISC OS 5.10+
  Makefile - Instead of containing a copy of RO500Hook, ResetBoot now has an empty Choices directory. This is the same as an ordinary (5.12) Iyonix, and will cause !Boot to reinstall the appropriate Hook folder on the next boot, ensuring the correct version is installed for the OS.
Admin:
  Tested on rev C2 beagleboard.


Version 0.80. Tagged as 'Boot-0_80'
@
text
@d1 1
a1 1
/* (0.80)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.80
d9 1
a9 1
#define Module_Date_CMHG                25 Oct 2009
d11 2
a12 2
#define Module_MajorVersion             "0.80"
#define Module_Version                  80
d14 1
a14 1
#define Module_Date                     "25 Oct 2009"
d16 1
a16 1
#define Module_ApplicationDate          "25-Oct-09"
d21 3
a23 3
#define Module_FullVersion              "0.80"
#define Module_HelpVersion              "0.80 (25 Oct 2009)"
#define Module_LibraryVersionInfo       "0:80"
@


1.14
log
@Add missing SoftSCSI, !+Resource, DALimit, ~SetupMimeMap files to RO500Hook

Version 0.79. Tagged as 'Boot-0_79'
@
text
@d1 1
a1 1
/* (0.79)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.79
d11 2
a12 2
#define Module_MajorVersion             "0.79"
#define Module_Version                  79
d21 3
a23 3
#define Module_FullVersion              "0.79"
#define Module_HelpVersion              "0.79 (25 Oct 2009)"
#define Module_LibraryVersionInfo       "0:79"
@


1.13
log
@Bulk import of missing !Sprites11 files

Version 0.78. Tagged as 'Boot-0_78'
@
text
@d1 1
a1 1
/* (0.78)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.78
d9 1
a9 1
#define Module_Date_CMHG                24 Oct 2009
d11 2
a12 2
#define Module_MajorVersion             "0.78"
#define Module_Version                  78
d14 1
a14 1
#define Module_Date                     "24 Oct 2009"
d16 1
a16 1
#define Module_ApplicationDate          "24-Oct-09"
d21 3
a23 3
#define Module_FullVersion              "0.78"
#define Module_HelpVersion              "0.78 (24 Oct 2009)"
#define Module_LibraryVersionInfo       "0:78"
@


1.12
log
@Update BootVars to allow RISC OS 5.1x !Boot to be built from ROOL sources
Detail:
  Source/BootVars/c/main - Added kludge for missing service call definition in current ROOL sources
  Makefile - Updated to include RO510Hook directory. Fixed VProtect to use ${CPFLAGS} when copying.
  RO510Hook directory reconstructed by comparing RO500Hook directory against RISC OS 5 install CD.
Admin:
  Built on Iyonix, tested on beagleboard


Version 0.77. Tagged as 'Boot-0_77'
@
text
@d1 1
a1 1
/* (0.77)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.77
d9 1
a9 1
#define Module_Date_CMHG                30 Sep 2009
d11 2
a12 2
#define Module_MajorVersion             "0.77"
#define Module_Version                  77
d14 1
a14 1
#define Module_Date                     "30 Sep 2009"
d16 1
a16 1
#define Module_ApplicationDate          "30-Sep-09"
d21 3
a23 3
#define Module_FullVersion              "0.77"
#define Module_HelpVersion              "0.77 (30 Sep 2009)"
#define Module_LibraryVersionInfo       "0:77"
@


1.11
log
@  Minor tweaks to build and install correctly.
Detail:
  Some changes were required in order for this component to build and install
  correctly. These changes are required for the ROOL 'Disc' build.
Admin:
  Tested in Iyonix 'Disc' build using ROOL 'BuildEnv' build environment

Version 0.76. Tagged as 'Boot-0_76'
@
text
@d1 1
a1 1
/* (0.76)
d4 1
a4 1
 * Last processed by srccommit version: 1.2.
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.76
d9 1
a9 1
#define Module_Date_CMHG                22 Jan 2007
d11 2
a12 2
#define Module_MajorVersion             "0.76"
#define Module_Version                  76
d14 1
a14 1
#define Module_Date                     "22 Jan 2007"
d16 1
a16 1
#define Module_ApplicationDate          "22-Jan-07"
d19 1
a19 1
#define Module_ComponentPath            "RiscOS/Sources/SystemRes/Boot"
d21 3
a23 3
#define Module_FullVersion              "0.76"
#define Module_HelpVersion              "0.76 (22 Jan 2007)"
#define Module_LibraryVersionInfo       "0:76"
@


1.10
log
@  Build updates
Detail:
  Updated to build correctly on Iyonix.
Summary:
  Tested in DB220 Baseline build

Version 0.75. Tagged as 'Boot-0_75'
@
text
@d1 1
a1 1
/* (0.75)
d4 1
a4 1
 * Last processed by srccommit version: 1.68.
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.75
d9 1
a9 1
#define Module_Date_CMHG                01 Jul 2004
d11 2
a12 2
#define Module_MajorVersion             "0.75"
#define Module_Version                  75
d14 1
a14 1
#define Module_Date                     "01 Jul 2004"
d16 1
a16 1
#define Module_ApplicationDate          "01-Jul-04"
d21 3
a23 3
#define Module_FullVersion              "0.75"
#define Module_HelpVersion              "0.75 (01 Jul 2004)"
#define Module_LibraryVersionInfo       "0:75"
@


1.9
log
@BootRun RMEnsures VProtect 4.00 as that's the first 32 bit one.
BootRun tries to load the mimemap,fixes problem when only ShareFS is
enabled (hence !Internet not run) and the MimeMap never being loaded.
The MimeMap is now a more critical system resource as things like DOSFS
and CDFS use it,not just stuff in the !Internet.

Version 0.74. Tagged as 'Boot-0_74'
@
text
@d1 1
a1 1
/* (0.74)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.74
d9 1
a9 1
#define Module_Date_CMHG                10 Jun 2003
d11 2
a12 2
#define Module_MajorVersion             "0.74"
#define Module_Version                  74
d14 1
a14 1
#define Module_Date                     "10 Jun 2003"
d16 1
a16 1
#define Module_ApplicationDate          "10-Jun-03"
d21 3
a23 3
#define Module_FullVersion              "0.74"
#define Module_HelpVersion              "0.74 (10 Jun 2003)"
#define Module_LibraryVersionInfo       "0:74"
@


1.8
log
@Updated VProtect module from A.Glover.

Version 0.73. Tagged as 'Boot-0_73'
@
text
@d1 1
a1 1
/* (0.73)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.73
d9 1
a9 1
#define Module_Date_CMHG                28 Apr 2003
d11 2
a12 2
#define Module_MajorVersion             "0.73"
#define Module_Version                  73
d14 1
a14 1
#define Module_Date                     "28 Apr 2003"
d16 1
a16 1
#define Module_ApplicationDate          "28-Apr-03"
d21 3
a23 3
#define Module_FullVersion              "0.73"
#define Module_HelpVersion              "0.73 (28 Apr 2003)"
#define Module_LibraryVersionInfo       "0:73"
@


1.7
log
@Finally got round to storing this stuff.
Many changes,highlights being:
 freepool now creates its 'o' directory in the top Makefile
 safelogin tweaked so it can find its header files again
 stopped EXITS macro moaning about no ENTRYS in Appsize and AddApp
 added 2DTools to universal boot sequence
 Added RO370/400/500Hook though the 370 and 400 are just empty at present
 newer vprotect added from Alan Glover
 add Utils.NetChoices
 delete ~CDReinit binary,shuffle sources a bit
 misc changes to obey files from Steve
The Makefile now expects a TARGET to be defined.Currently the 500 one is
the only one tested,though UNIVERSAL is also defined and outputs a boot
sequence like you would have got with !MkInstall in V0.71.
This picks up files which might differ between boots,and also adds
extra files which change when the UserIF changes.

Version 0.72. Tagged as 'Boot-0_72'
@
text
@d1 1
a1 1
/* (0.72)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.72
d9 1
a9 1
#define Module_Date_CMHG                13 Feb 2003
d11 2
a12 2
#define Module_MajorVersion             "0.72"
#define Module_Version                  72
d14 1
a14 1
#define Module_Date                     "13 Feb 2003"
d16 1
a16 1
#define Module_ApplicationDate          "13-Feb-03"
d21 3
a23 3
#define Module_FullVersion              "0.72"
#define Module_HelpVersion              "0.72 (13 Feb 2003)"
#define Module_LibraryVersionInfo       "0:72"
@


1.6
log
@Addition of extra pinboard textures as featured with RISC OS 5.00
RTexture adjusted to first count the number of textures before deciding
what to use with RND()

Version 0.71. Tagged as 'Boot-0_71'
@
text
@d1 1
a1 1
/* (0.71)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.71
d9 1
a9 1
#define Module_Date_CMHG                11 Jan 2003
d11 2
a12 2
#define Module_MajorVersion             "0.71"
#define Module_Version                  71
d14 1
a14 1
#define Module_Date                     "11 Jan 2003"
d16 1
a16 1
#define Module_ApplicationDate          "11-Jan-03"
d21 3
a23 3
#define Module_FullVersion              "0.71"
#define Module_HelpVersion              "0.71 (11 Jan 2003)"
#define Module_LibraryVersionInfo       "0:71"
@


1.5
log
@ResetBoot internationalised.
Renamed HelpText to Help,fixes report of Help missing in ResetBoot 0.69
New ResetBoot sprites
Top level MakeFile adjusted for above changes.

Version 0.70. Tagged as 'Boot-0_70'
@
text
@d1 1
a1 1
/* (0.70)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.70
d9 1
a9 1
#define Module_Date_CMHG                14 Dec 2002
d11 2
a12 2
#define Module_MajorVersion             "0.70"
#define Module_Version                  70
d14 1
a14 1
#define Module_Date                     "14 Dec 2002"
d16 1
a16 1
#define Module_ApplicationDate          "14-Dec-02"
d21 3
a23 3
#define Module_FullVersion              "0.70"
#define Module_HelpVersion              "0.70 (14 Dec 2002)"
#define Module_LibraryVersionInfo       "0:70"
@


1.4
log
@Added PowerOff util to Boot.Source.PowerOff

Version 0.69. Tagged as 'Boot-0_69'
@
text
@d1 1
a1 1
/* (0.69)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.69
d9 1
a9 1
#define Module_Date_CMHG                14 Nov 2002
d11 2
a12 2
#define Module_MajorVersion             "0.69"
#define Module_Version                  69
d14 1
a14 1
#define Module_Date                     "14 Nov 2002"
d16 1
a16 1
#define Module_ApplicationDate          "14-Nov-02"
d21 3
a23 3
#define Module_FullVersion              "0.69"
#define Module_HelpVersion              "0.69 (14 Nov 2002)"
#define Module_LibraryVersionInfo       "0:69"
@


1.3
log
@Addition of BootUtils source in Boot.Source.BootUtils

Version 0.68. Tagged as 'Boot-0_68'
@
text
@d1 1
a1 1
/* (0.68)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.68
d11 2
a12 2
#define Module_MajorVersion             "0.68"
#define Module_Version                  68
d21 3
a23 3
#define Module_FullVersion              "0.68"
#define Module_HelpVersion              "0.68 (14 Nov 2002)"
#define Module_LibraryVersionInfo       "0:68"
@


1.2
log
@  Made the FreePool utility capable of building stand-alone.
Detail:
  Added a Makefile to the FreePool utility sources. I also converted it to
  use objasm and changed the GET directives. The main Makefile has been
  changed to cope with FreePool using objasm.

  As it stands, the main Makefile has some dynamic dependencies. I've left
  the ones which are not related to FreePool in there.
Admin:
  My changes have brought the component under srccommit control, but I
  haven't bothered to do anything about the "Version" file in the root.

Version 0.67. Tagged as 'Boot-0_67'
@
text
@d1 1
a1 1
/* (0.67)
d4 1
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.67
d9 1
a9 1
#define Module_Date_CMHG                05 Oct 2001
d11 2
a12 2
#define Module_MajorVersion             "0.67"
#define Module_Version                  67
d14 1
a14 1
#define Module_Date                     "05 Oct 2001"
d16 1
a16 2
#define Module_ApplicationDate2         "05-Oct-01"
#define Module_ApplicationDate4         "05-Oct-2001"
d21 3
a23 3
#define Module_FullVersion              "0.67"
#define Module_HelpVersion              "0.67 (05 Oct 2001)"
#define Module_LibraryVersionInfo       "0:67"
@


1.1
log
@created by srccommit.
@
text
@d1 1
a1 1
/* (0.66)
d6 1
a6 1
#define Module_MajorVersion_CMHG        0.66
d10 2
a11 2
#define Module_MajorVersion             "0.66"
#define Module_Version                  66
d21 3
a23 3
#define Module_FullVersion              "0.66"
#define Module_HelpVersion              "0.66 (05 Oct 2001)"
#define Module_LibraryVersionInfo       "0:66"
@

