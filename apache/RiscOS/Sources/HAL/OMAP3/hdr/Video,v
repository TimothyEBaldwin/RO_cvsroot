head	1.7;
access;
symbols
	OMAP3-1_18:1.7
	OMAP3-1_17:1.7
	OMAP3-1_16:1.7
	OMAP3-1_15:1.7
	OMAP3-1_14:1.7
	SMP:1.7.0.2
	SMP_bp:1.7
	OMAP3-1_13:1.7
	OMAP3-1_12:1.7
	OMAP3-1_11:1.7
	OMAP3-1_10:1.7
	OMAP3-1_09:1.7
	OMAP3-1_08:1.7
	OMAP3-1_07:1.7
	OMAP3-1_06:1.7
	OMAP3-1_05:1.7
	OMAP3-1_04:1.7
	OMAP3-1_03:1.7
	OMAP3-1_02:1.7
	OMAP3-1_01:1.7
	OMAP3-1_00:1.7
	OMAP3-0_99:1.7
	OMAP3-0_98:1.7
	OMAP3-0_97:1.7
	OMAP3-0_96:1.7
	OMAP3-0_95:1.7
	OMAP3-0_94:1.7
	OMAP3-0_93:1.7
	OMAP3-0_92:1.7
	OMAP3-0_91:1.6
	OMAP3-0_90:1.6
	OMAP3-0_89:1.6
	OMAP3-0_88:1.6
	OMAP3-0_87:1.6
	OMAP3-0_86:1.6
	OMAP3-0_85:1.6
	OMAP3-0_84:1.6
	OMAP3-0_83:1.6
	OMAP3-0_82:1.6
	OMAP3-0_81:1.6
	OMAP3-0_80:1.6
	OMAP3-0_79:1.6
	OMAP3-0_78:1.6
	OMAP3-0_77:1.6
	OMAP3-0_76:1.6
	OMAP3-0_75:1.6
	OMAP3-0_74:1.6
	OMAP3-0_73:1.6
	OMAP3-0_72:1.6
	OMAP3-0_71:1.6
	OMAP3-0_70:1.6
	OMAP3-0_69:1.6
	OMAP3-0_68:1.6
	OMAP3-0_67:1.6
	OMAP3-0_66:1.6
	OMAP3-0_65:1.6
	OMAP3-0_64:1.6
	OMAP3-0_63:1.6
	OMAP3-0_62:1.6
	OMAP3-0_61:1.6
	OMAP3-0_60:1.5
	OMAP3-0_59:1.5
	OMAP3-0_58:1.5
	OMAP3-0_57:1.5
	OMAP3-0_56:1.5
	OMAP3-0_55:1.5
	OMAP3-0_54:1.5
	OMAP3-0_53:1.5
	OMAP3-0_52:1.5
	OMAP3-0_51:1.5
	OMAP3-0_50:1.5
	OMAP3-0_49:1.5
	OMAP3-0_48:1.5
	OMAP3-0_47:1.5
	OMAP3-0_46:1.5
	OMAP3-0_45:1.5
	OMAP3-0_44:1.5
	OMAP3-0_43:1.5
	OMAP3-0_42:1.5
	OMAP3-0_41:1.5
	OMAP3-0_40:1.5
	OMAP3-0_39:1.5
	OMAP3-0_38:1.5
	OMAP3-0_37:1.5
	OMAP3-0_36:1.5
	OMAP3-0_35:1.5
	OMAP3-0_34:1.5
	OMAP3-0_33:1.5
	OMAP3-0_32:1.5
	OMAP3-0_31:1.5
	OMAP3-0_30:1.5
	OMAP3-0_29:1.5
	OMAP3-0_28:1.5
	OMAP3-0_27:1.5
	OMAP3-0_26:1.5
	OMAP3-0_25:1.5
	OMAP3-0_24:1.5
	OMAP3-0_23:1.5
	OMAP3-0_22:1.4
	OMAP3-0_21:1.4
	OMAP3-0_20:1.4
	OMAP3-0_19:1.4
	OMAP3-0_18:1.4
	OMAP3-0_17:1.4
	OMAP3-0_16:1.4
	OMAP3-0_15:1.4
	OMAP3-0_14:1.4
	OMAP3-0_13:1.4
	OMAP3-0_12:1.4
	OMAP3-0_11:1.4
	OMAP3-0_10:1.4
	OMAP3-0_09:1.4
	OMAP3-0_08:1.4
	OMAP3-0_07:1.4
	OMAP3-0_06:1.4
	OMAP3-0_05:1.3
	OMAP3-0_04:1.3
	OMAP3-0_03:1.2
	OMAP3-0_02:1.1
	OMAP3-0_01:1.1;
locks; strict;
comment	@# @;


1.7
date	2013.12.15.22.41.25;	author jlee;	state Exp;
branches;
next	1.6;
commitid	IxRihA5IJEl1vhhx;

1.6
date	2012.03.25.11.49.03;	author rsprowson;	state Exp;
branches;
next	1.5;
commitid	c99VvmwezV2J8gYv;

1.5
date	2010.02.28.19.47.12;	author jlee;	state Exp;
branches;
next	1.4;

1.4
date	2009.04.22.22.03.39;	author jlee;	state Exp;
branches;
next	1.3;

1.3
date	2009.04.08.22.25.09;	author jlee;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.06.23.35.40;	author jlee;	state Exp;
branches;
next	1.1;

1.1
date	2009.02.01.13.58.04;	author jlee;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Remove obsolete stub HAL video API implementation
Detail:
  hdr/Video, s/Top - Remove local VIDC list type 3 definition, use Hdr:VIDCList instead
  s/Boot, s/Video - Removed obsolete HAL video API implementation. A stub implementation is no longer required for systems that have a GraphicsV driver in a module, and can even cause problems if the OS decides to use the HAL implementation instead of the module one.
Admin:
  Tested in OMAP3 ROM on BB-xM
  Requires Kernel-5_35-4_79_2_203


Version 0.92. Tagged as 'OMAP3-0_92'
@
text
@; Copyright 2009 Castle Technology Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;

        GET     hdr:VideoDevice

; Hardware cursor size limits
HW_CURSOR_WIDTH         * 32
HW_CURSOR_HEIGHT        * 32
HW_CURSOR_WIDTH_POW2    * 5

VIDEO_IRQ               * 25

; DSS registers - relative to L4_Display
DSS_SYSCONFIG           * &010
DSS_SYSSTATUS           * &014
DSS_IRQSTATUS           * &018
DSS_CONTROL             * &040
DSS_SDI_CONTROL         * &044
DSS_PLL_CONTROL         * &048
DSS_SDI_STATUS          * &05C

; DISPC - relative to L4_Display
DISPC_SYSCONFIG                 * &410
DISPC_SYSTATUS                  * &414
DISPC_IRQSTATUS                 * &418
DISPC_IRQENABLE                 * &41C
DISPC_CONTROL                   * &440
DISPC_CONFIG                    * &444
DISPC_DEFAULT_COLOR0            * &44C
DISPC_DEFAULT_COLOR1            * &450
DISPC_TRANS_COLOR0              * &454
DISPC_TRANS_COLOR1              * &458
DISPC_LINE_STATUS               * &45C
DISPC_LINE_NUMBER               * &460
DISPC_TIMING_H                  * &464
DISPC_TIMING_V                  * &468
DISPC_POL_FREQ                  * &46C
DISPC_DIVISOR                   * &470
DISPC_GLOBAL_ALPHA              * &474
DISPC_SIZE_DIG                  * &478
DISPC_SIZE_LCD                  * &47C
DISPC_GFX_BA0                   * &480
DISPC_GFX_BA1                   * &484
DISPC_GFX_POSITION              * &488
DISPC_GFX_SIZE                  * &48C
DISPC_GFX_ATTRIBUTES            * &4A0
DISPC_GFX_FIFO_THRESHOLD        * &4A4
DISPC_GFX_FIFO_SIZE_STATUS      * &4A8
DISPC_GFX_ROW_INC               * &4AC
DISPC_GFX_PIXEL_INC             * &4B0
DISPC_GFX_WINDOW_SKIP           * &4B4
DISPC_GFX_TABLE_BA              * &4B8
DISPC_VID1                      * &4BC
DISPC_VID2                      * &54C
DISPC_VIDn_BA0                  * &000 ; Relative to DISP_VID1/DISPC_VID2
DISPC_VIDn_BA1                  * &004
DISPC_VIDn_POSITION             * &008
DISPC_VIDn_SIZE                 * &00C
DISPC_VIDn_ATTRIBUTES           * &010
DISPC_VIDn_FIFO_THRESHOLD       * &014
DISPC_VIDn_FIFO_SIZE_STATUS     * &018
DISPC_VIDn_ROW_INC              * &01C
DISPC_VIDn_PIXEL_INC            * &020
DISPC_VIDn_FIR                  * &024
DISPC_VIDn_PICTURE_SIZE         * &028
DISPC_VIDn_ACCU0                * &02C
DISPC_VIDn_ACCU1                * &030
DISPC_VIDn_FIR_COEF_H0          * &034
DISPC_VIDn_FIR_COEF_HV0         * &038
DISPC_VIDn_FIR_COEF_H1          * &03C
DISPC_VIDn_FIR_COEF_HV1         * &040
DISPC_VIDn_FIR_COEF_H2          * &044
DISPC_VIDn_FIR_COEF_HV2         * &048
DISPC_VIDn_FIR_COEF_H3          * &04C
DISPC_VIDn_FIR_COEF_HV3         * &050
DISPC_VIDn_CONV_COEF0           * &054
DISPC_VIDn_CONV_COEF1           * &058
DISPC_VIDn_CONV_COEF2           * &05C
DISPC_VIDn_CONV_COEF3           * &060
DISPC_VIDn_CONV_COEF4           * &064
DISPC_DATA_CYCLE0               * &5D4
DISPC_VID0_FIR_COEF_V           * &5E0
DISPC_VID1_FIR_COEF_V           * &600
DISPC_CPR_COEF_R                * &620
DISPC_CPR_COEF_G                * &624
DISPC_CPR_COEF_B                * &628
DISPC_GFX_PRELOAD               * &62C
DISPC_VID0_PRELOAD              * &630
DISPC_VID1_PRELOAD              * &634

; RFBI - Relative to L4_Display
RFBI_SYSCONFIG                  * &810
RFBI_SYSTATUS                   * &814
RFBI_CONTROL                    * &840
RFBI_PIXEL_CNT                  * &844
RFBI_LINE_NUMBER                * &848
RFBI_CMD                        * &84C
RFBI_PARAM                      * &850
RFBI_DATA                       * &854
RFBI_READ                       * &858
RFBI_STATUS                     * &85C
RFBI_CONFIG0                    * &860
RFBI_ONOFF_TIME0                * &864
RFBI_CYCLE_TIME0                * &868
RFBI_DATA_CYCLE1_0              * &86C
RFBI_DATA_CYCLE2_0              * &870
RFBI_DATA_CYCLE3_0              * &874
RFBI_CONFIG1                    * &878
RFBI_ONOFF_TIME1                * &87C
RFBI_CYCLE_TIME1                * &880
RFBI_DATA_CYCLE1_1              * &884
RFBI_DATA_CYCLE2_1              * &888
RFBI_DATA_CYCLE3_1              * &88C
RFBI_VSYNC_WIDTH                * &890
RFBI_HSYNC_WIDTH                * &894

; DSI PLL registers - relative to L4_Display
DSI_PLL_CONTROL                 * &00-256
DSI_PLL_STATUS                  * &04-256
DSI_PLL_GO                      * &08-256
DSI_PLL_CONFIGURATION1          * &0C-256
DSI_PLL_CONFIGURATION2          * &10-256

; DSI registers - relative to L4_Display
DSI_CLK_CTRL                    * &54-&400

; VENC registers - relative to L4_Display
VENC_STATUS                     * &C04
VENC_F_CONTROL                  * &C08
VENC_VIDOUT_CTRL                * &C10
VENC_SYNC_CTRL                  * &C14
VENC_LLEN                       * &C1C
VENC_FLENS                      * &C20
VENC_HFLTR_CTRL                 * &C24
VENC_CC_CARR_WSS_CARR           * &C28
VENC_C_PHASE                    * &C2C
VENC_GAIN_U                     * &C30
VENC_GAIN_V                     * &C34
VENC_GAIN_Y                     * &C38
VENC_BLACK_LEVEL                * &C3C
VENC_BLANK_LEVEL                * &C40
VENC_X_COLOR                    * &C44
VENC_M_CONTROL                  * &C48
VENC_BSTAMP_WSS_DATA            * &C4C
VENC_S_CARR                     * &C50
VENC_LINE21                     * &C54
VENC_LN_SEL                     * &C58
VENC_L21_WC_CTL                 * &C5C
VENC_HTRIGGER_VTRIGGER          * &C60
VENC_SAVID_EAVID                * &C64
VENC_FLEN_FAL                   * &C68
VENC_LAL_PHASE_RESET            * &C6C
VENC_HS_INT_START_STOP_X        * &C70
VENC_HS_EXT_START_STOP_X        * &C74
VENC_VS_INT_START_X             * &C78
VENC_VS_INT_STOP_X_VS_INT_START_Y * &C7C
VENC_VS_INT_STOP_Y_VS_EXT_START_X * &C80
VENC_VS_EXT_STOP_X_VS_EXT_START_Y * &C84
VENC_VS_EXT_STOP_Y              * &C88
VENC_AVID_START_STOP_X          * &C90
VENC_AVID_START_STOP_Y          * &C94
VENC_FID_INT_START_X_FID_INT_START_Y  * &CA0
VENC_FID_INT_OFFSET_Y_FID_EXT_START_X * &CA4
VENC_FID_EXT_START_Y_FID_EXT_OFFSET_Y * &CA8
VENC_TVDETGP_INT_START_STOP_X   * &CB0
VENC_TVDETGP_INT_START_STOP_Y   * &CB4
VENC_GEN_CTRL                   * &CB8
VENC_OUTPUT_CONTROL             * &CC4
VENC_OUTPUT_TEST                * &CC8         

; -----------------------------------------------------------------------------------

                      ^    0, a1
; Public bits
VideoDeviceDevice     #    HALDevice_VDU_Size
; Private bits
VideoWorkspace        #    4 ; HAL workspace pointer
Video_DeviceSize      *    :INDEX: @@

        END
@


1.6
log
@Line some things up.
To help OMAP4 tracking changes a number of the changes were purely cosmetic lining up differences, this change is where OMAP3 wasn't on a conventional column layout.

Version 0.61. Tagged as 'OMAP3-0_61'
@
text
@a184 51
; mjs - this had better agree with the format specified in kernel s.vdu.vdumodes

;
; format of a VIDC list type 3
;
                                ^       4
VIDCList3_PixelDepth            #       4
VIDCList3_HorizSyncWidth        #       4
VIDCList3_HorizBackPorch        #       4
VIDCList3_HorizLeftBorder       #       4
VIDCList3_HorizDisplaySize      #       4
VIDCList3_HorizRightBorder      #       4
VIDCList3_HorizFrontPorch       #       4
VIDCList3_VertiSyncWidth        #       4
VIDCList3_VertiBackPorch        #       4
VIDCList3_VertiTopBorder        #       4
VIDCList3_VertiDisplaySize      #       4
VIDCList3_VertiBottomBorder     #       4
VIDCList3_VertiFrontPorch       #       4
VIDCList3_PixelRate             #       4
VIDCList3_SyncPol               #       4  ; sync polarity/flag bits
VIDCList3_ControlList           #       0  ; possibly empty list of pairs of index,value words
;
; and VIDCList3 is terminated by a -1 word
;
; Indices in VIDCList3_ControlList
;
                                ^       1
ControlList_LCDMode             #       1
ControlList_LCDDualPanelMode    #       1
ControlList_LCDOffset0          #       1
ControlList_LCDOffset1          #       1
ControlList_HiResMode           #       1
ControlList_DACControl          #       1
ControlList_RGBPedestals        #       1
ControlList_ExternalRegister    #       1
ControlList_HClockSelect        #       1
ControlList_RClockFrequency     #       1
ControlList_DPMSState           #       1
ControlList_Interlaced          #       1
ControlList_InvalidReason       #       0

; bits/flags in VIDCList3_SyncPol word:
;
SyncPol_InvertHSync             * 1
SyncPol_InvertVSync             * 2
SyncPol_InterlaceSpecified      * 4 ; if set, interlace bit has been specified, else filled in by kernel
SyncPol_Interlace               * 8 ; set=interlaced, either specified by service call claimant or filled in from *TV by kernel

; -----------------------------------------------------------------------------------

@


1.5
log
@Update OMAP3 HAL to support new OMAPVideo module, plus other minor changes
Detail:
  hdr/StaticWS, hdr/Video, hdr/board, hdr/omap3530, s/Boot, s/Video, s/board - Add new HALDoesVideo switch to control whether the HAL provides the video driver or whether a HAL device is used to expose the video hardware to the OMAPVideo module. Switch defaults to the 'off' state, i.e. OMAPVideo provides the video driver. Also updated the board config struct to contain more detailed information about the video capabilities of each board.
  s/Audio - fix the FIFO underflow/overflow IRQ handler to disable the IRQ after the underflow/overflow has been detection. This prevents the OS from (potentially) getting stuck in a loop servicing the interrupt and never reaching the state where it can shut down & re-initialise the audio to fix the error properly.
  s/Debug - add DebugCallstack function that disables IRQs/FIQs and dumps the stack contents over the serial port
Admin:
  Tested on rev C2 beagleboard.


Version 0.23. Tagged as 'OMAP3-0_23'
@
text
@d16 1
a16 1
       GET   hdr:VideoDevice
d19 3
a21 3
HW_CURSOR_WIDTH        *   32
HW_CURSOR_HEIGHT       *   32
HW_CURSOR_WIDTH_POW2   *   5
d23 1
a23 1
VIDEO_IRQ         *          25
d26 7
a32 7
DSS_SYSCONFIG         *       &010
DSS_SYSSTATUS         *       &014
DSS_IRQSTATUS         *       &018
DSS_CONTROL           *       &040
DSS_SDI_CONTROL       *       &044
DSS_PLL_CONTROL       *       &048
DSS_SDI_STATUS        *       &05C
d35 67
a101 67
DISPC_SYSCONFIG               *       &410
DISPC_SYSTATUS                *       &414
DISPC_IRQSTATUS               *       &418
DISPC_IRQENABLE               *       &41C
DISPC_CONTROL                 *       &440
DISPC_CONFIG                  *       &444
DISPC_DEFAULT_COLOR0          *       &44C
DISPC_DEFAULT_COLOR1          *       &450
DISPC_TRANS_COLOR0            *       &454
DISPC_TRANS_COLOR1            *       &458
DISPC_LINE_STATUS             *       &45C
DISPC_LINE_NUMBER             *       &460
DISPC_TIMING_H                *       &464
DISPC_TIMING_V                *       &468
DISPC_POL_FREQ                *       &46C
DISPC_DIVISOR                 *       &470
DISPC_GLOBAL_ALPHA            *       &474
DISPC_SIZE_DIG                *       &478
DISPC_SIZE_LCD                *       &47C
DISPC_GFX_BA0                 *       &480
DISPC_GFX_BA1                 *       &484
DISPC_GFX_POSITION            *       &488
DISPC_GFX_SIZE                *       &48C
DISPC_GFX_ATTRIBUTES          *       &4A0
DISPC_GFX_FIFO_THRESHOLD      *       &4A4
DISPC_GFX_FIFO_SIZE_STATUS    *       &4A8
DISPC_GFX_ROW_INC             *       &4AC
DISPC_GFX_PIXEL_INC           *       &4B0
DISPC_GFX_WINDOW_SKIP         *       &4B4
DISPC_GFX_TABLE_BA            *       &4B8
DISPC_VID1                    *       &4BC
DISPC_VID2                    *       &54C
DISPC_VIDn_BA0                *       &000 ; Relative to DISP_VID1/DISPC_VID2
DISPC_VIDn_BA1                *       &004
DISPC_VIDn_POSITION           *       &008
DISPC_VIDn_SIZE               *       &00C
DISPC_VIDn_ATTRIBUTES         *       &010
DISPC_VIDn_FIFO_THRESHOLD     *       &014
DISPC_VIDn_FIFO_SIZE_STATUS   *       &018
DISPC_VIDn_ROW_INC            *       &01C
DISPC_VIDn_PIXEL_INC          *       &020
DISPC_VIDn_FIR                *       &024
DISPC_VIDn_PICTURE_SIZE       *       &028
DISPC_VIDn_ACCU0              *       &02C
DISPC_VIDn_ACCU1              *       &030
DISPC_VIDn_FIR_COEF_H0        *       &034
DISPC_VIDn_FIR_COEF_HV0       *       &038
DISPC_VIDn_FIR_COEF_H1        *       &03C
DISPC_VIDn_FIR_COEF_HV1       *       &040
DISPC_VIDn_FIR_COEF_H2        *       &044
DISPC_VIDn_FIR_COEF_HV2       *       &048
DISPC_VIDn_FIR_COEF_H3        *       &04C
DISPC_VIDn_FIR_COEF_HV3       *       &050
DISPC_VIDn_CONV_COEF0         *       &054
DISPC_VIDn_CONV_COEF1         *       &058
DISPC_VIDn_CONV_COEF2         *       &05C
DISPC_VIDn_CONV_COEF3         *       &060
DISPC_VIDn_CONV_COEF4         *       &064
DISPC_DATA_CYCLE0             *       &5D4
DISPC_VID0_FIR_COEF_V         *       &5E0
DISPC_VID1_FIR_COEF_V         *       &600
DISPC_CPR_COEF_R              *       &620
DISPC_CPR_COEF_G              *       &624
DISPC_CPR_COEF_B              *       &628
DISPC_GFX_PRELOAD             *       &62C
DISPC_VID0_PRELOAD            *       &630
DISPC_VID1_PRELOAD            *       &634
d104 24
a127 24
RFBI_SYSCONFIG                *       &810
RFBI_SYSTATUS                 *       &814
RFBI_CONTROL                  *       &840
RFBI_PIXEL_CNT                *       &844
RFBI_LINE_NUMBER              *       &848
RFBI_CMD                      *       &84C
RFBI_PARAM                    *       &850
RFBI_DATA                     *       &854
RFBI_READ                     *       &858
RFBI_STATUS                   *       &85C
RFBI_CONFIG0                  *       &860
RFBI_ONOFF_TIME0              *       &864
RFBI_CYCLE_TIME0              *       &868
RFBI_DATA_CYCLE1_0            *       &86C
RFBI_DATA_CYCLE2_0            *       &870
RFBI_DATA_CYCLE3_0            *       &874
RFBI_CONFIG1                  *       &878
RFBI_ONOFF_TIME1              *       &87C
RFBI_CYCLE_TIME1              *       &880
RFBI_DATA_CYCLE1_1            *       &884
RFBI_DATA_CYCLE2_1            *       &888
RFBI_DATA_CYCLE3_1            *       &88C
RFBI_VSYNC_WIDTH              *       &890
RFBI_HSYNC_WIDTH              *       &894
d130 5
a134 5
DSI_PLL_CONTROL               *       &00-256
DSI_PLL_STATUS                *       &04-256
DSI_PLL_GO                    *       &08-256
DSI_PLL_CONFIGURATION1        *       &0C-256
DSI_PLL_CONFIGURATION2        *       &10-256
d137 1
a137 1
DSI_CLK_CTRL                  *       &54-&400
d140 34
a173 34
VENC_STATUS                           * &C04
VENC_F_CONTROL                        * &C08
VENC_VIDOUT_CTRL                      * &C10
VENC_SYNC_CTRL                        * &C14
VENC_LLEN                             * &C1C
VENC_FLENS                            * &C20
VENC_HFLTR_CTRL                       * &C24
VENC_CC_CARR_WSS_CARR                 * &C28
VENC_C_PHASE                          * &C2C
VENC_GAIN_U                           * &C30
VENC_GAIN_V                           * &C34
VENC_GAIN_Y                           * &C38
VENC_BLACK_LEVEL                      * &C3C
VENC_BLANK_LEVEL                      * &C40
VENC_X_COLOR                          * &C44
VENC_M_CONTROL                        * &C48
VENC_BSTAMP_WSS_DATA                  * &C4C
VENC_S_CARR                           * &C50
VENC_LINE21                           * &C54
VENC_LN_SEL                           * &C58
VENC_L21_WC_CTL                       * &C5C
VENC_HTRIGGER_VTRIGGER                * &C60
VENC_SAVID_EAVID                      * &C64
VENC_FLEN_FAL                         * &C68
VENC_LAL_PHASE_RESET                  * &C6C
VENC_HS_INT_START_STOP_X              * &C70
VENC_HS_EXT_START_STOP_X              * &C74
VENC_VS_INT_START_X                   * &C78
VENC_VS_INT_STOP_X_VS_INT_START_Y     * &C7C
VENC_VS_INT_STOP_Y_VS_EXT_START_X     * &C80
VENC_VS_EXT_STOP_X_VS_EXT_START_Y     * &C84
VENC_VS_EXT_STOP_Y                    * &C88
VENC_AVID_START_STOP_X                * &C90
VENC_AVID_START_STOP_Y                * &C94
d177 5
a181 5
VENC_TVDETGP_INT_START_STOP_X         * &CB0
VENC_TVDETGP_INT_START_STOP_Y         * &CB4
VENC_GEN_CTRL                         * &CB8
VENC_OUTPUT_CONTROL                   * &CC4
VENC_OUTPUT_TEST                      * &CC8         
d229 4
a232 4
SyncPol_InvertHSync        *  1
SyncPol_InvertVSync        *  2
SyncPol_InterlaceSpecified *  4   ; if set, interlace bit has been specified, else filled in by kernel
SyncPol_Interlace          *  8   ; set=interlaced, either specified by service call claimant or filled in from *TV by kernel
d243 1
a243 1
       END
@


1.4
log
@OMAP3 HAL video support, safer RAM initialisation
Detail:
  Makefile - Enable compilation of s.video
  hdr/StaticWS - New workspace entries for video support
  hdr/Video - Typo fix, VENC registers
  s/Boot - Change initialisation order for video support
  s/Debug - Added DebugMemDump routine
  s/RAM - Added code to verify RAM config, to avoid crash if a board looks like a revision C but doesn't have the extra RAM
  s/Stubs - Disable stub video functions
  s/Video - Working video code, beginnings of TV-out code
Admin:
  Tested on rev C2 beagleboard. Video code may only function correctly if kernel is loaded via u-boot.


Version 0.06. Tagged as 'OMAP3-0_06'
@
text
@d16 2
d236 7
@


1.3
log
@OMAP3 HAL Beagleboard Rev C support, further video work.
Detail:
  s/Boot - Fixes for rev C beagleboard. Added GPIO code.
  s/Debug - DebugHALPrint, DebugHALPrintReg routines
  s/PRCM - PRCM_GetFreqSel added
  s/RAM - Fixes for rev C beagleboard. Sped up RAM clear by using more regs.
  s/Top - Fixes for rev C beagleboard
  s/Video - Video code potentially complete, but full of bugs and so still disabled.
  hdr/GPIO - Added GPIO registers
  hdr/omap3530 - Fixes for rev C beagleboard, GPIO, debug macros, QEMU support for new video code
  hdr/SDRC - Typo fix
  hdr/StaticWS - GPIO, pixel rate entries added
  hdr/Video - DSI PLL registers added
Admin:
  Tested on rev C beagleboard.


Version 0.04. Tagged as 'OMAP3-0_04'
@
text
@d57 1
a57 1
DISPC_GFX_FIFO_THRESHOLD      *       &4A0
d137 44
@


1.2
log
@OMAP3 HAL fixes and further video work
Detail:
  s/Boot - Store some workspace vars used by video code. Disable some debug output.
  s/Interrupts - Update HAL_IRQClear to allow clearing of VSync IRQ
  s/Top - Fix CP15 flags
  s/Video - Implemented majority of video code needed by kernel. Correct code for calculating and programming pixel clocks still required, so code remains disabled by default.
  hdr/PRCM - Correct typo
  hdr/StaticWS - Add video-related workspace entries
  hdr/Video - Add constants for mouse pointer image buffer size
Admin:
  Tested under qemu-omap3 and rev B6 beagleboard.


Version 0.03. Tagged as 'OMAP3-0_03'
@
text
@d127 10
@


1.1
log
@Basic OMAP3 HAL
Detail:
  Performs startup procedure suitable for any location in ROM or RAM. UART, timer, counter, interrupt & debug functionality implemented. Video support incomplete and nonfunctional.
Admin:
  Tested with HALTester & RISC OS kernel under qemu-omap3


Version 0.01. Tagged as 'OMAP3-0_01'
@
text
@d16 5
@

