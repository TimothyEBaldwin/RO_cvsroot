head	1.1;
access;
symbols
	Kernel-5_35-4_79_2_295:1.1.4.12
	Kernel-5_35-4_79_2_294:1.1.4.12
	Kernel-5_35-4_79_2_293:1.1.4.12
	Kernel-5_35-4_79_2_292:1.1.4.12
	Kernel-5_35-4_79_2_291:1.1.4.12
	Kernel-5_35-4_79_2_290:1.1.4.12
	Kernel-5_35-4_79_2_289:1.1.4.12
	Kernel-5_35-4_79_2_288:1.1.4.12
	Kernel-5_35-4_79_2_287:1.1.4.12
	Kernel-5_35-4_79_2_286:1.1.4.12
	Kernel-5_35-4_79_2_285:1.1.4.12
	Kernel-5_35-4_79_2_284:1.1.4.12
	Kernel-5_35-4_79_2_283:1.1.4.12
	Kernel-5_35-4_79_2_282:1.1.4.12
	Kernel-5_35-4_79_2_281:1.1.4.12
	Kernel-5_35-4_79_2_280:1.1.4.12
	Kernel-5_35-4_79_2_279:1.1.4.12
	Kernel-5_35-4_79_2_278:1.1.4.12
	Kernel-5_35-4_79_2_277:1.1.4.12
	Kernel-5_35-4_79_2_276:1.1.4.11
	Kernel-5_35-4_79_2_275:1.1.4.10
	Kernel-5_35-4_79_2_274:1.1.4.9
	Kernel-5_35-4_79_2_273:1.1.4.9
	Kernel-5_35-4_79_2_272:1.1.4.9
	Kernel-5_35-4_79_2_271:1.1.4.9
	Kernel-5_35-4_79_2_270:1.1.4.9
	Kernel-5_35-4_79_2_269:1.1.4.9
	Kernel-5_35-4_79_2_268:1.1.4.9
	Kernel-5_35-4_79_2_267:1.1.4.9
	Kernel-5_35-4_79_2_266:1.1.4.9
	Kernel-5_35-4_79_2_265:1.1.4.9
	Kernel-5_35-4_79_2_264:1.1.4.9
	Kernel-5_35-4_79_2_263:1.1.4.9
	Kernel-5_35-4_79_2_262:1.1.4.9
	Kernel-5_35-4_79_2_261:1.1.4.9
	Kernel-5_35-4_79_2_260:1.1.4.9
	Kernel-5_35-4_79_2_259:1.1.4.9
	Kernel-5_35-4_79_2_258:1.1.4.9
	Kernel-5_35-4_79_2_257:1.1.4.8
	Kernel-5_35-4_79_2_256:1.1.4.7
	Kernel-5_35-4_79_2_255:1.1.4.7
	Kernel-5_35-4_79_2_254:1.1.4.7
	Kernel-5_35-4_79_2_253:1.1.4.7
	Kernel-5_35-4_79_2_252:1.1.4.7
	Kernel-5_35-4_79_2_251:1.1.4.7
	Kernel-5_35-4_79_2_250:1.1.4.7
	Kernel-5_35-4_79_2_249:1.1.4.7
	Kernel-5_35-4_79_2_248:1.1.4.7
	Kernel-5_35-4_79_2_247:1.1.4.7
	Kernel-5_35-4_79_2_246:1.1.4.7
	Kernel-5_35-4_79_2_245:1.1.4.7
	Kernel-5_35-4_79_2_244:1.1.4.7
	Kernel-5_35-4_79_2_243:1.1.4.7
	Kernel-5_35-4_79_2_242:1.1.4.7
	Kernel-5_35-4_79_2_241:1.1.4.7
	Kernel-5_35-4_79_2_240:1.1.4.7
	Kernel-5_35-4_79_2_239:1.1.4.6
	Kernel-5_35-4_79_2_238:1.1.4.6
	Kernel-5_35-4_79_2_237:1.1.4.6
	Kernel-5_35-4_79_2_236:1.1.4.6
	Kernel-5_35-4_79_2_235:1.1.4.6
	Kernel-5_35-4_79_2_234:1.1.4.6
	Kernel-5_35-4_79_2_233:1.1.4.6
	Kernel-5_35-4_79_2_232:1.1.4.6
	Kernel-5_35-4_79_2_231:1.1.4.6
	Kernel-5_35-4_79_2_230:1.1.4.6
	Kernel-5_35-4_79_2_229:1.1.4.6
	Kernel-5_35-4_79_2_228:1.1.4.5
	Kernel-5_35-4_79_2_227:1.1.4.5
	Kernel-5_35-4_79_2_226:1.1.4.5
	Kernel-5_35-4_79_2_225:1.1.4.5
	Kernel-5_35-4_79_2_224:1.1.4.5
	Kernel-5_35-4_79_2_223:1.1.4.5
	Kernel-5_35-4_79_2_222:1.1.4.5
	Kernel-5_35-4_79_2_221:1.1.4.5
	Kernel-5_35-4_79_2_220:1.1.4.5
	Kernel-5_35-4_79_2_219:1.1.4.5
	Kernel-5_35-4_79_2_218:1.1.4.5
	Kernel-5_35-4_79_2_217:1.1.4.5
	Kernel-5_35-4_79_2_216:1.1.4.5
	Kernel-5_35-4_79_2_215:1.1.4.5
	Kernel-5_35-4_79_2_214:1.1.4.5
	Kernel-5_35-4_79_2_213:1.1.4.5
	Kernel-5_35-4_79_2_212:1.1.4.5
	Kernel-5_35-4_79_2_211:1.1.4.5
	Kernel-5_35-4_79_2_210:1.1.4.5
	Kernel-5_35-4_79_2_209:1.1.4.5
	Kernel-5_35-4_79_2_208:1.1.4.5
	Kernel-5_35-4_79_2_207:1.1.4.5
	Kernel-5_35-4_79_2_206:1.1.4.5
	Kernel-5_35-4_79_2_205:1.1.4.5
	Kernel-5_35-4_79_2_204:1.1.4.5
	Kernel-5_35-4_79_2_203:1.1.4.5
	Kernel-5_35-4_79_2_202:1.1.4.5
	Kernel-5_35-4_79_2_201:1.1.4.5
	Kernel-5_35-4_79_2_200:1.1.4.5
	Kernel-5_35-4_79_2_199:1.1.4.5
	Kernel-5_35-4_79_2_198:1.1.4.5
	Kernel-5_35-4_79_2_197:1.1.4.5
	Kernel-5_35-4_79_2_196:1.1.4.5
	Kernel-5_35-4_79_2_195:1.1.4.5
	Kernel-5_35-4_79_2_194:1.1.4.5
	Kernel-5_35-4_79_2_193:1.1.4.5
	Kernel-5_35-4_79_2_192:1.1.4.5
	Kernel-5_35-4_79_2_191:1.1.4.5
	Kernel-5_35-4_79_2_190:1.1.4.5
	Kernel-5_35-4_79_2_189:1.1.4.5
	Kernel-5_35-4_79_2_188:1.1.4.5
	Kernel-5_35-4_79_2_187:1.1.4.5
	Kernel-5_35-4_79_2_186:1.1.4.4
	Kernel-5_35-4_79_2_185:1.1.4.4
	Kernel-5_35-4_79_2_184:1.1.4.4
	Kernel-5_35-4_79_2_183:1.1.4.4
	Kernel-5_35-4_79_2_182:1.1.4.4
	Kernel-5_35-4_79_2_181:1.1.4.4
	Kernel-5_35-4_79_2_180:1.1.4.4
	Kernel-5_35-4_79_2_179:1.1.4.4
	Kernel-5_35-4_79_2_178:1.1.4.4
	Kernel-5_35-4_79_2_177:1.1.4.4
	Kernel-5_35-4_79_2_176:1.1.4.4
	Kernel-5_35-4_79_2_175:1.1.4.4
	Kernel-5_35-4_79_2_174:1.1.4.4
	Kernel-5_35-4_79_2_173:1.1.4.4
	Kernel-5_35-4_79_2_172:1.1.4.4
	Kernel-5_35-4_79_2_171:1.1.4.4
	Kernel-5_35-4_79_2_170:1.1.4.4
	Kernel-5_35-4_79_2_169:1.1.4.4
	Kernel-5_35-4_79_2_168:1.1.4.4
	Kernel-5_35-4_79_2_167:1.1.4.4
	Kernel-5_35-4_79_2_166:1.1.4.4
	Kernel-5_35-4_79_2_165:1.1.4.4
	RPi_merge:1.1.4.2.2.3
	Kernel-5_35-4_79_2_147_2_23:1.1.4.2.2.3
	Kernel-5_35-4_79_2_147_2_22:1.1.4.2.2.2
	Kernel-5_35-4_79_2_147_2_21:1.1.4.2.2.2
	Kernel-5_35-4_79_2_147_2_20:1.1.4.2.2.1
	Kernel-5_35-4_79_2_147_2_19:1.1.4.2.2.1
	Kernel-5_35-4_79_2_147_2_18:1.1.4.2.2.1
	Kernel-5_35-4_79_2_164:1.1.4.3
	Kernel-5_35-4_79_2_163:1.1.4.3
	Kernel-5_35-4_79_2_147_2_17:1.1.4.2.2.1
	Kernel-5_35-4_79_2_147_2_16:1.1.4.2.2.1
	Kernel-5_35-4_79_2_147_2_15:1.1.4.2
	Kernel-5_35-4_79_2_162:1.1.4.3
	Kernel-5_35-4_79_2_161:1.1.4.3
	Kernel-5_35-4_79_2_147_2_14:1.1.4.2
	Kernel-5_35-4_79_2_147_2_13:1.1.4.2
	Kernel-5_35-4_79_2_160:1.1.4.3
	Kernel-5_35-4_79_2_159:1.1.4.3
	Kernel-5_35-4_79_2_158:1.1.4.3
	Kernel-5_35-4_79_2_157:1.1.4.2
	Kernel-5_35-4_79_2_156:1.1.4.2
	Kernel-5_35-4_79_2_147_2_12:1.1.4.2
	Kernel-5_35-4_79_2_147_2_11:1.1.4.2
	Kernel-5_35-4_79_2_155:1.1.4.2
	Kernel-5_35-4_79_2_147_2_10:1.1.4.2
	Kernel-5_35-4_79_2_154:1.1.4.2
	Kernel-5_35-4_79_2_153:1.1.4.2
	Kernel-5_35-4_79_2_147_2_9:1.1.4.2
	Kernel-5_35-4_79_2_152:1.1.4.2
	Kernel-5_35-4_79_2_151:1.1.4.2
	Kernel-5_35-4_79_2_147_2_8:1.1.4.2
	Kernel-5_35-4_79_2_147_2_7:1.1.4.2
	Kernel-5_35-4_79_2_150:1.1.4.2
	Kernel-5_35-4_79_2_147_2_6:1.1.4.2
	Kernel-5_35-4_79_2_147_2_5:1.1.4.2
	Kernel-5_35-4_79_2_149:1.1.4.2
	Kernel-5_35-4_79_2_147_2_4:1.1.4.2
	Kernel-5_35-4_79_2_147_2_3:1.1.4.2
	Kernel-5_35-4_79_2_148:1.1.4.2
	Kernel-5_35-4_79_2_147_2_2:1.1.4.2
	Kernel-5_35-4_79_2_147_2_1:1.1.4.2
	RPi:1.1.4.2.0.2
	RPi_bp:1.1.4.2
	Kernel-5_35-4_79_2_98_2_52_2_1:1.1.2.1
	alees_Kernel_dev:1.1.2.1.0.2
	alees_Kernel_dev_bp:1.1.2.1
	Kernel-5_35-4_79_2_147:1.1.4.2
	Kernel-5_35-4_79_2_146:1.1.4.2
	Kernel-5_35-4_79_2_145:1.1.4.2
	Kernel-5_35-4_79_2_144:1.1.4.2
	Kernel-5_35-4_79_2_143:1.1.4.2
	Kernel-5_35-4_79_2_142:1.1.4.2
	Kernel-5_35-4_79_2_141:1.1.4.2
	Kernel-5_35-4_79_2_140:1.1.4.2
	Kernel-5_35-4_79_2_139:1.1.4.2
	Kernel-5_35-4_79_2_138:1.1.4.2
	Kernel-5_35-4_79_2_137:1.1.4.2
	Kernel-5_35-4_79_2_136:1.1.4.2
	Kernel-5_35-4_79_2_135:1.1.4.2
	Kernel-5_35-4_79_2_134:1.1.4.2
	Kernel-5_35-4_79_2_133:1.1.4.2
	Kernel-5_35-4_79_2_132:1.1.4.2
	Kernel-5_35-4_79_2_131:1.1.4.2
	Kernel-5_35-4_79_2_130:1.1.4.2
	Kernel-5_35-4_79_2_129:1.1.4.2
	Kernel-5_35-4_79_2_128:1.1.4.2
	Kernel-5_35-4_79_2_127:1.1.4.2
	Kernel-5_35-4_79_2_126:1.1.4.2
	Kernel-5_35-4_79_2_125:1.1.4.2
	Kernel-5_35-4_79_2_124:1.1.4.2
	Kernel-5_35-4_79_2_123:1.1.4.2
	HAL:1.1.0.4
	Cortex_merge:1.1.2.1
	Kernel-5_35-4_79_2_98_2_54:1.1.2.1
	Kernel-5_35-4_79_2_98_2_53:1.1.2.1
	Kernel-5_35-4_79_2_98_2_52:1.1.2.1
	Kernel-5_35-4_79_2_98_2_51:1.1.2.1
	Kernel-5_35-4_79_2_98_2_50:1.1.2.1
	Kernel-5_35-4_79_2_98_2_49:1.1.2.1
	Kernel-5_35-4_79_2_98_2_48:1.1.2.1
	Kernel-5_35-4_79_2_98_2_47:1.1.2.1
	Kernel-5_35-4_79_2_98_2_46:1.1.2.1
	Kernel-5_35-4_79_2_98_2_45:1.1.2.1
	Kernel-5_35-4_79_2_98_2_44:1.1.2.1
	Kernel-5_35-4_79_2_98_2_43:1.1.2.1
	Kernel-5_35-4_79_2_98_2_42:1.1.2.1
	Cortex:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2011.07.31.18.50.48;	author jlee;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;
commitid	wkRt8xN38USJ7Itv;

1.1.2.1
date	2011.07.31.18.50.48;	author jlee;	state Exp;
branches;
next	;
commitid	wkRt8xN38USJ7Itv;

1.1.4.1
date	2011.07.31.18.50.48;	author jlee;	state dead;
branches;
next	1.1.4.2;
commitid	cI3W0zbtALQG6TIv;

1.1.4.2
date	2011.11.26.21.11.10;	author jlee;	state Exp;
branches
	1.1.4.2.2.1;
next	1.1.4.3;
commitid	cI3W0zbtALQG6TIv;

1.1.4.3
date	2012.07.02.17.43.36;	author bavison;	state Exp;
branches;
next	1.1.4.4;
commitid	0QXROdzHwQx3V0bw;

1.1.4.4
date	2012.09.18.22.01.12;	author jlee;	state Exp;
branches;
next	1.1.4.5;
commitid	eFa3Y1QY0MjZP3lw;

1.1.4.5
date	2013.04.07.07.47.33;	author rsprowson;	state Exp;
branches;
next	1.1.4.6;
commitid	PuNeWyWrAbKzEOKw;

1.1.4.6
date	2014.07.14.09.02.15;	author bavison;	state Exp;
branches;
next	1.1.4.7;
commitid	LgenghLAR2zubkIx;

1.1.4.7
date	2014.10.08.21.24.59;	author rsprowson;	state Exp;
branches;
next	1.1.4.8;
commitid	BL1tvnKpiUC4wrTx;

1.1.4.8
date	2015.02.16.19.59.04;	author rsprowson;	state Exp;
branches;
next	1.1.4.9;
commitid	qZZykn4yNeKVPgay;

1.1.4.9
date	2015.02.26.21.30.22;	author jlee;	state Exp;
branches;
next	1.1.4.10;
commitid	LoFSIV9J0QeJ1zby;

1.1.4.10
date	2015.08.10.07.57.58;	author jballance;	state Exp;
branches;
next	1.1.4.11;
commitid	0neU531BSnMceHwy;

1.1.4.11
date	2015.08.10.12.04.54;	author jballance;	state Exp;
branches;
next	1.1.4.12;
commitid	peFEwKKvVuHTAIwy;

1.1.4.12
date	2015.08.10.16.31.55;	author jballance;	state Exp;
branches;
next	1.1.4.13;
commitid	4VpeVwWfR5kv4Kwy;

1.1.4.13
date	2015.10.28.21.24.06;	author rsprowson;	state dead;
branches;
next	;
commitid	CgZ4LdDdadyj9VGy;

1.1.4.2.2.1
date	2012.08.02.00.38.17;	author jlee;	state Exp;
branches;
next	1.1.4.2.2.2;
commitid	c9QZpAiugoByfUew;

1.1.4.2.2.2
date	2012.09.08.12.38.14;	author jlee;	state Exp;
branches;
next	1.1.4.2.2.3;
commitid	tIJzr87csTUN2Jjw;

1.1.4.2.2.3
date	2012.09.18.15.49.56;	author jlee;	state Exp;
branches;
next	;
commitid	jeuxYpI6CQUxM1lw;


desc
@@


1.1
log
@file GPIODevice was initially added on branch Cortex.
@
text
@@


1.1.4.1
log
@file GPIODevice was added on branch HAL on 2011-11-26 21:11:10 +0000
@
text
@@


1.1.4.2
log
@Merge Cortex kernel into HAL branch
Detail:
  This is a full merge of the Cortex kernel back into the HAL branch. Since the Cortex kernel is/was just a superset of the HAL branch, at this point in time both branches are identical.
  Main features the HAL branch gains from this merge:
  - ARMv6/ARMv7 support
  - High processor vectors/zero page relocation support
  - objasm 4 warning fixes
  - Improved HAL related functionality:
    - Support for HAL-driven RTCs instead of kernel-driven IIC based ones
    - Support for arbitrary size machine IDs
    - Support for multiple IIC busses
    - Support for any HAL size, instead of hardcoded 64k size
    - Probably some other stuff I've forgotten
  - Probably a few bug fixes here and there
Admin:
  Tested on BB-xM & Iyonix.
  Was successfully flashed to ROM on an Iyonix to test the Cortex branch implementation of the 2010 RTC bug fix.
  IOMD build untested - but has been known to work in the past.


Version 5.35, 4.79.2.123. Tagged as 'Kernel-5_35-4_79_2_123'
@
text
@a0 70
; Copyright 2011 Castle Technology Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;

; Public interface of GPIO HAL devices

        GET     hdr:HALDevice

OldOpt  SETA    {OPT}
        OPT     OptNoList+OptNoP1List

 [ :LNOT: :DEF: Included_Hdr_GPIODevice
                       GBLL Included_Hdr_GPIODevice
Included_Hdr_GPIODevice SETL {TRUE}

; Device for GPIO devices
; This device just reports the board type and revision, so that the GPIO manager
; knows how everything is set up and which bits should be off-limits.

                                 ^       0
                                 #       HALDeviceSize
HALDevice_GPIOType               #       4
HALDevice_GPIORevision           #       4
HALDevice_GPIO_Size              *       :INDEX: @@

; Type & revision values specific to HALDeviceID_GPIO_OMAP3:

                                 ^       0
GPIOType_OMAP3_BeagleBoard       #       1 ; It's a BeagleBoard or BB-xM
GPIOType_OMAP3_DevKit8000        #       1 ; It's a DevKit 8000
GPIOType_OMAP3_IGEPv2            #       1 ; It's an IGEP v2

; BeagleBoard revision values:

                                 ^       0
                                           ; BeagleBoard:
GPIORevision_BeagleBoard_AB      #       1 ; Rev A or B
GPIORevision_BeagleBoard_C123    #       1 ; Rev C1, C2 or C3
GPIORevision_BeagleBoard_C4      #       1 ; Rev C4
                                           ; BeagleBoard-xM:
GPIORevision_BeagleBoard_xMA     #       1 ; Rev A
GPIORevision_BeagleBoard_xMB     #       1 ; Rev B
GPIORevision_BeagleBoard_xMC     #       1 ; Rev C

; DevKit revision values:

                                 ^       0
GPIORevision_DevKit8000_Unknown  #       1

; IGEP revision values:

                                 ^       0
GPIORevision_IGEPv2_BC           #       1 ; Rev B or C (B-compatible)
GPIORevision_IGEPv2_C            #       1 ; Rev C (not a B-compatible one)

 ]

        OPT     OldOpt
        END
@


1.1.4.2.2.1
log
@Add new HAL device IDs for Raspberry Pi GPIO interface & VCHIQ
Detail:
  hdr/HALDevice - Add new inter-processor communications device type. Add device IDs for Pi/BCM2835 GPIO interface & VCHIQ
  hdr/GPIODevice - Add Raspberry Pi GPIO type & interface revision (currently 'unknown')
Admin:
  Tested in Raspberry Pi ROM with high processor vectors
  New IDs required for BCM2835-0_17


Version 5.35, 4.79.2.147.2.16. Tagged as 'Kernel-5_35-4_79_2_147_2_16'
@
text
@a66 10
; Type & revision values specific to HALDeviceID_GPIO_BCM2835:

                                 ^       0
GPIOType_BCM2835_RaspberryPi     #       1 ; It's a Raspberry Pi

; Raspberry Pi revision values:

                                 ^       0
GPIORevision_RaspberryPi_Unknown #       1                                 

@


1.1.4.2.2.2
log
@Update GPIO HAL device revisions to add Raspberry Pi model B rev 1 & rev 2
Detail:
  hdr/GPIODevice - Removed existing 'unknown' revision and added 'B rev 1' and 'B rev 2' in its place, ready for new HAL that can report the board revision.
Admin:
  Tested on Raspberry Pi (B rev 1)


Version 5.35, 4.79.2.147.2.21. Tagged as 'Kernel-5_35-4_79_2_147_2_21'
@
text
@d75 1
a75 2
GPIORevision_RaspberryPi_B_1     #       1 ; Model B Rev 1.0
GPIORevision_RaspberryPi_B_2     #       1 ; Model B Rev 2.0
@


1.1.4.2.2.3
log
@Merge with HAL branch
Detail:
  Merge the HAL branch into the RPi branch, prior to merging RPi to HAL
  Brief summary of main changes brought in:
  * Added *cache functionality previously provided by ARM module
  * Added "CMOS RAM reset" message on startup when CMOS has been wiped by keypress
  * Renamed HAL Video entries from HAL_Video_XXX to HAL_VideoXXX
  * Dropped mjsHAL macros, GRAB/STASH macros
  * Fixed pseudo-VRAM allocation when machine has exactly 16MB of RAM
  * Added OS_Hardware 5
  * Use OS_SerialOp GetDeviceName for getting serial device name
  * Drop HAL_MonitorLeadID
  * Rework default GraphicsV_IICOp handler
Admin:
  Tested on Raspberry Pi with high processor vectors


Version 5.35, 4.79.2.147.2.23. Tagged as 'Kernel-5_35-4_79_2_147_2_23'
@
text
@a42 1
GPIOType_OMAP3_Pandora           #       1 ; It's a Pandora
@


1.1.4.3
log
@  Added an OMAP3 GPIO board type for Pandora
Admin:
  Required by HAL/OMAP3 0.68

Version 5.35, 4.79.2.158. Tagged as 'Kernel-5_35-4_79_2_158'
@
text
@a42 1
GPIOType_OMAP3_Pandora           #       1 ; It's a Pandora
@


1.1.4.4
log
@Merge with RPi branch
Detail:
  Merge the RPi branch with the HAL branch, ending RPi branch development
  Brief summary of changes brought in:
  * Added HAL_VideoStartupMode to allow the HAL to specify a startup mode for the OS
  * Fixed addresses being sent to GraphicsV_SetDMAAddress being wrong for external framestores (addresses were given as if internal framestore was in use)
  * Add InverseTextTransparency option for limited compile-time support for targets where framebuffer alpha channel is important
  * Fix ConfiguredLanguage for non-Tungsten builds
  * Update ARMv6 CPU detection to read cache parameters from cache type register instead of using KnownCPUTable
  * Add HALDebugHexTX/TX2/TX4 debug routines for writing out numbers via HAL
  * Use HAL_TimerIRQClear when clearing timer 0 interrupt instead of just HAL_IRQClear
  * Initialise FileLangCMOS using defines from Hdr:FSNumbers instead of magic numbers. Use SDFS on M_ARM11ZF.
  * Improved software mouse pointer support; software pointer now removed & restored in some of the same places the text cursor is
  * Improve support for external framestores; driver is now able to grow/shrink/move the framestore on mode changes if bit 5 of GraphicsV_DisplayFeatures R0 is set
  * GraphicsV_FramestoreAddress now has a default claimant which calls HAL_VideoFramestoreAddress
Admin:
  Tested on Raspberry Pi, Iyonix, OMAP3, IOMD


Version 5.35, 4.79.2.165. Tagged as 'Kernel-5_35-4_79_2_165'
@
text
@a67 11
; Type & revision values specific to HALDeviceID_GPIO_BCM2835:

                                 ^       0
GPIOType_BCM2835_RaspberryPi     #       1 ; It's a Raspberry Pi

; Raspberry Pi revision values:

                                 ^       0
GPIORevision_RaspberryPi_B_1     #       1 ; Model B Rev 1.0
GPIORevision_RaspberryPi_B_2     #       1 ; Model B Rev 2.0

@


1.1.4.5
log
@Header changes for OMAP4
GPIODevice: defines for OMAP4 targets
KernelWS: bump up the IICBus_Count from 3 to 4

Version 5.35, 4.79.2.187. Tagged as 'Kernel-5_35-4_79_2_187'
@
text
@a78 11
; Type & revision values specific to HALDeviceID_GPIO_OMAP4:

                                 ^       0
GPIOType_OMAP4_Panda             #       1 ; It's a PandaBoard or PandaBoard-ES

; Panda revision values:

                                 ^       0
GPIORevision_Panda               #       1 ; PandaBoard
GPIORevision_PandaES             #       1 ; PandaBoard-ES

@


1.1.4.6
log
@  Add Raspberry Pi board revision for model B+.
Detail:
  Also added model A for completeness.
Admin:
  Required by new version of BCM2835 HAL.


Version 5.35, 4.79.2.229. Tagged as 'Kernel-5_35-4_79_2_229'
@
text
@a77 2
GPIORevision_RaspberryPi_A_2     #       1 ; Model A Rev 2.0
GPIORevision_RaspberryPi_BPlus   #       1 ; Model B+
@


1.1.4.7
log
@Header defs for Pi Compute module and IIC
OSEntries.h: added a C structure for RISCOS_IICOpV.
GPIODevice.hdr: allocate Pandora and Pi Compute module sub device nos.
HALDevice.hdr/Options.hdr: tabs expanded, capitalised abbreviations.
Not tagged.
@
text
@a67 5
; Pandora revision values:

                                 ^       0
GPIORevision_Pandora_Unknown     #       1

a79 1
GPIORevision_RaspberryPi_C_1     #       1 ; Model Compute Rev 1.0
@


1.1.4.8
log
@Added GPIO enumerations for Pi A+ and Mk2 model B
Retagged as Kernel-5_35-4_79_2_257.
@
text
@a85 2
GPIORevision_RaspberryPi_APlus   #       1 ; Model A+
GPIORevision_RaspberryPi_Mk2_B_1 #       1 ; Model Pi 2
@


1.1.4.9
log
@Add TouchBook to hdr:GPIODevice
Detail:
  hdr/GPIODevice - Added the TouchBook as an OMAP3 machine type. We don't actually create a GPIO HAL device for it, but having it defined here is useful for SDIO support in the HAL.
Admin:
  Tested on TouchBook


Version 5.35, 4.79.2.258. Tagged as 'Kernel-5_35-4_79_2_258'
@
text
@a43 1
GPIOType_OMAP3_TouchBook         #       1 ; It's a TouchBook
a72 5
; TouchBook revision values:

                                 ^       0
GPIORevision_TouchBook_Unknown   #       1

@


1.1.4.10
log
@  Added iMx6 spi device and GPIO revision types to relevant device headers
Detail:
Admin:


Version 5.35, 4.79.2.275. Tagged as 'Kernel-5_35-4_79_2_275'
@
text
@a105 6
; iMx6 revision values:

                                 ^       0
GPIORevision_iMx6Q-WBrevB        #       1 ; Initial development
GPIORevision_iMx6Q-WBrevC1       #       1 ; 

@


1.1.4.11
log
@  added iMx6Q GPIO Device type (omitted earlier)
Detail:
Admin:


Version 5.35, 4.79.2.276. Tagged as 'Kernel-5_35-4_79_2_276'
@
text
@d106 1
a106 4
; iMx6 type and revision values:

                                 ^       0
GPIOType_iMx6Q                   #       1 ;
d110 1
a110 1
GPIORevision_iMx6Q-WBrevC1       #       1 ;
@


1.1.4.12
log
@  Correct typos .. - sign not a good idea in header file variable name
Detail:
Admin:


Version 5.35, 4.79.2.277. Tagged as 'Kernel-5_35-4_79_2_277'
@
text
@d112 2
a113 2
GPIORevision_iMx6Q_WBrevB        #       1 ; Initial development
GPIORevision_iMx6Q_WBrevC1       #       1 ;
@


1.1.4.13
log
@Hand off ownership of GPIODevice
The kernel has no place holding this header export, since it doesn't use it nor implement any of its interfaces.

Version 5.35, 4.79.2.296. Tagged as 'Kernel-5_35-4_79_2_296'
@
text
@@


1.1.2.1
log
@Add new GPIO device type & OMAP3 GPIO device ID
Detail:
  hdr/HALDevice - Added GPIO device type in the Comms group, and an ID for a generic OMAP3 GPIO device
  hdr/GPIODevice - Definition of GPIO device structure. Currently only used to store the type and revision of the main board, so the GPIO manager module can tailor its features appropriately.
  Makefile - Export hdr/GPIODevice
Admin:
  Tested on rev A2 BB-xM


Version 5.35, 4.79.2.98.2.42. Tagged as 'Kernel-5_35-4_79_2_98_2_42'
@
text
@a0 70
; Copyright 2011 Castle Technology Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;

; Public interface of GPIO HAL devices

        GET     hdr:HALDevice

OldOpt  SETA    {OPT}
        OPT     OptNoList+OptNoP1List

 [ :LNOT: :DEF: Included_Hdr_GPIODevice
                       GBLL Included_Hdr_GPIODevice
Included_Hdr_GPIODevice SETL {TRUE}

; Device for GPIO devices
; This device just reports the board type and revision, so that the GPIO manager
; knows how everything is set up and which bits should be off-limits.

                                 ^       0
                                 #       HALDeviceSize
HALDevice_GPIOType               #       4
HALDevice_GPIORevision           #       4
HALDevice_GPIO_Size              *       :INDEX: @@

; Type & revision values specific to HALDeviceID_GPIO_OMAP3:

                                 ^       0
GPIOType_OMAP3_BeagleBoard       #       1 ; It's a BeagleBoard or BB-xM
GPIOType_OMAP3_DevKit8000        #       1 ; It's a DevKit 8000
GPIOType_OMAP3_IGEPv2            #       1 ; It's an IGEP v2

; BeagleBoard revision values:

                                 ^       0
                                           ; BeagleBoard:
GPIORevision_BeagleBoard_AB      #       1 ; Rev A or B
GPIORevision_BeagleBoard_C123    #       1 ; Rev C1, C2 or C3
GPIORevision_BeagleBoard_C4      #       1 ; Rev C4
                                           ; BeagleBoard-xM:
GPIORevision_BeagleBoard_xMA     #       1 ; Rev A
GPIORevision_BeagleBoard_xMB     #       1 ; Rev B
GPIORevision_BeagleBoard_xMC     #       1 ; Rev C

; DevKit revision values:

                                 ^       0
GPIORevision_DevKit8000_Unknown  #       1

; IGEP revision values:

                                 ^       0
GPIORevision_IGEPv2_BC           #       1 ; Rev B or C (B-compatible)
GPIORevision_IGEPv2_C            #       1 ; Rev C (not a B-compatible one)

 ]

        OPT     OldOpt
        END
@

