head	4.4;
access;
symbols
	HdrSrc-2_77:4.4
	HdrSrc-2_76:4.4
	HdrSrc-2_75:4.4
	HdrSrc-2_74:4.4
	HdrSrc-2_73:4.4
	HdrSrc-2_72:4.4
	HdrSrc-2_71:4.4
	HdrSrc-2_70:4.4
	HdrSrc-2_69:4.4
	HdrSrc-2_68:4.4
	HdrSrc-2_67:4.4
	HdrSrc-2_66:4.4
	HdrSrc-2_65:4.4
	HdrSrc-2_64:4.4
	HdrSrc-2_63:4.4
	HdrSrc-2_62:4.4
	HdrSrc-2_61:4.4
	HdrSrc-2_60:4.4
	HdrSrc-2_59:4.4
	HdrSrc-2_58:4.4
	HdrSrc-2_57:4.4
	HdrSrc-2_56:4.4
	HdrSrc-2_55:4.4
	HdrSrc-2_54:4.4
	HdrSrc-2_53:4.4
	HdrSrc-2_52:4.4
	HdrSrc-2_51:4.4
	HdrSrc-2_50:4.4
	HdrSrc-2_49:4.4
	HdrSrc-2_48:4.4
	HdrSrc-2_47:4.4
	HdrSrc-2_46-4_247_2_1:4.4
	XCompile:4.4.0.2
	XCompile_bp:4.4
	HdrSrc-2_46:4.4
	HdrSrc-2_45:4.4
	HdrSrc-2_44:4.4
	HdrSrc-2_43:4.4
	HdrSrc-2_42:4.4
	HdrSrc-2_41:4.3
	HdrSrc-2_40-1:4.3
	HdrSrc-2_40:4.3
	HdrSrc-2_39:4.3
	HdrSrc-2_38:4.3
	HdrSrc-2_37:4.3
	HdrSrc-2_36:4.3
	HdrSrc-2_35:4.3
	HdrSrc-2_34:4.2
	HdrSrc-2_33:4.2
	HdrSrc-2_32:4.2
	HdrSrc-2_31:4.2
	HdrSrc-2_30:4.1
	HdrSrc-2_29:4.1
	HdrSrc-2_28:4.1
	HdrSrc-2_27:4.1
	HdrSrc-2_26:4.1
	HdrSrc-2_25:4.1
	HdrSrc-2_24:4.1
	HdrSrc-2_23:4.1
	HdrSrc-2_22:4.1
	HdrSrc-2_21:4.1
	HdrSrc-2_20:4.1
	HdrSrc-2_19:4.1
	HdrSrc-2_18:4.1
	HdrSrc-2_17:4.1
	HdrSrc-2_16:4.1
	HdrSrc-2_15:4.1
	HdrSrc-2_14:4.1
	HdrSrc-2_13:4.1
	HdrSrc-2_12:4.1
	HdrSrc-2_11:4.1
	HdrSrc-2_10:4.1
	HdrSrc-2_09:4.1
	HdrSrc-2_08:4.1
	HdrSrc-2_07:4.1
	HdrSrc-2_06:4.1
	HdrSrc-2_05:4.1
	HdrSrc-2_04:4.1
	HdrSrc-2_03:4.1
	HdrSrc-2_02:4.1
	HdrSrc-2_01:4.1
	HdrSrc-2_00:4.1
	HdrSrc-1_99:4.1
	HdrSrc-1_98:4.1
	HdrSrc-1_97:4.1
	HdrSrc-1_96:4.1
	HdrSrc-1_95:4.1
	HdrSrc-1_94:4.1
	HdrSrc-1_93:4.1
	HdrSrc-1_92:4.1
	HdrSrc-1_91:4.1
	HdrSrc-1_90:4.1
	HdrSrc-1_89:4.1
	HdrSrc-1_88:4.1
	HdrSrc-1_87:4.1
	HdrSrc-1_86:4.1
	HdrSrc-1_85:4.1
	HdrSrc-1_84:4.1
	HdrSrc-1_83:4.1
	HdrSrc-1_82:4.1
	HdrSrc-1_81:4.1
	HdrSrc-1_80:4.1
	HdrSrc-1_79:4.1
	HdrSrc-1_78:4.1
	HdrSrc-1_77:4.1
	HdrSrc-1_76:4.1
	Cortex_merge:4.1
	HdrSrc-1_62-4_162_2_15:4.1
	HdrSrc-1_75:4.1
	HdrSrc-1_62-4_162_2_14:4.1
	HdrSrc-1_74:4.1
	HdrSrc-1_62-4_162_2_13:4.1
	HdrSrc-1_62-4_162_2_12:4.1
	HdrSrc-1_73:4.1
	HdrSrc-1_72:4.1
	HdrSrc-1_62-4_162_2_11:4.1
	HdrSrc-1_62-4_162_2_10:4.1
	HdrSrc-1_71:4.1
	HdrSrc-1_70:4.1
	HdrSrc-1_69:4.1
	Cortex_bp:4.1
	HdrSrc-1_62-4_162_2_9:4.1
	HdrSrc-1_62-4_162_2_8:4.1
	HdrSrc-1_68:4.1
	HdrSrc-1_62-4_162_2_7:4.1
	HdrSrc-1_62-4_162_2_6:4.1
	HdrSrc-1_62-4_162_2_5:4.1
	HdrSrc-1_62-4_162_2_4:4.1
	HdrSrc-1_67:4.1
	HdrSrc-1_66:4.1
	HdrSrc-1_62-4_162_2_3:4.1
	HdrSrc-1_65:4.1
	HdrSrc-1_64:4.1
	HdrSrc-1_63:4.1
	HdrSrc-1_62-4_162_2_2:4.1
	HdrSrc-1_62-4_162_2_1:4.1
	Cortex:4.1.0.2
	HdrSrc-1_62:4.1
	HdrSrc-1_61:4.1
	HdrSrc-1_60:4.1
	HdrSrc-1_59:4.1
	HdrSrc-1_58:4.1
	HdrSrc-1_57:4.1
	HdrSrc-1_56:4.1
	HdrSrc-1_55:4.1
	HdrSrc-1_54:4.1
	HdrSrc-1_53:4.1
	HdrSrc-1_52:4.1
	HdrSrc-1_51:4.1
	HdrSrc-1_50:4.1
	HdrSrc-1_49:4.1
	HdrSrc-1_48:4.1
	HdrSrc-1_47:4.1
	RO_5_07:4.1
	HdrSrc-1_46:4.1
	HdrSrc-1_45:4.1
	HdrSrc-1_44:4.1
	HdrSrc-1_43:4.1
	HdrSrc-1_42:4.1
	HdrSrc-1_41:4.1
	HdrSrc-1_40:4.1
	HdrSrc-1_39:4.1
	HdrSrc-1_38:4.1
	HdrSrc-1_37:4.1
	HdrSrc-1_36:4.1
	HdrSrc-1_35:4.1
	HdrSrc-1_34:4.1
	HdrSrc-1_33:4.1
	HdrSrc-1_32:4.1
	HdrSrc-1_31:4.1
	HdrSrc-1_30:4.1
	HdrSrc-1_29:4.1
	HdrSrc-1_28:4.1
	HdrSrc-1_27:4.1
	HdrSrc-1_26:4.1
	HdrSrc-1_25:4.1
	HdrSrc-1_24:4.1
	HdrSrc-1_23:4.1
	HdrSrc-1_22:4.1
	HdrSrc-1_21:4.1
	HdrSrc-1_20:4.1
	HdrSrc-1_19:4.1
	HdrSrc-1_18:4.1
	HdrSrc-1_17:4.1
	HdrSrc-1_16:4.1
	HdrSrc-1_15:4.1
	HdrSrc-1_14:4.1
	HdrSrc-1_13:4.1
	HdrSrc-1_12:4.1
	HdrSrc-1_11:4.1
	HdrSrc-0_71-4_72_2_2:4.1
	HdrSrc-1_10:4.1
	HdrSrc-1_09:4.1
	HdrSrc-1_08:4.1
	HdrSrc-1_07:4.1
	HdrSrc-1_06:4.1
	HdrSrc-1_05:4.1
	dellis_autobuild_BaseSW:4.1
	HdrSrc-1_04:4.1
	HdrSrc-1_03:4.1
	HdrSrc-1_02:4.1
	HdrSrc-1_00:4.1
	HdrSrc-0_99:4.1
	HdrSrc-0_71-4_72_2_1:4.1
	Lazarus_Z11:4.1.0.12
	HdrSrc-0_98:4.1
	HdrSrc-0_97:4.1
	HdrSrc-0_95:4.1
	HdrSrc-0_94:4.1
	HdrSrc-0_93:4.1
	HdrSrc-0_92:4.1
	HdrSrc-0_91:4.1
	HdrSrc-0_90:4.1
	HdrSrc-0_89:4.1
	HdrSrc-0_88:4.1
	HdrSrc-0_87:4.1
	HdrSrc-0_86:4.1
	HdrSrc-0_85:4.1
	HdrSrc-0_84:4.1
	HdrSrc-0_83:4.1
	HdrSrc-0_82:4.1
	HdrSrc-0_81:4.1
	HdrSrc-0_80:4.1
	HdrSrc-0_79:4.1
	HdrSrc-0_78:4.1
	HdrSrc-0_77:4.1
	sbrodie_sedwards_16Mar2000:4.1
	HdrSrc-0_76:4.1
	HdrSrc-0_75:4.1
	HdrSrc-0_74:4.1
	HdrSrc-0_73:4.1
	HdrSrc-0_72:4.1
	HdrSrc-0_71:4.1
	HdrSrc-0_70:4.1
	HdrSrc-0_69:4.1
	HdrSrc-0_68:4.1
	HdrSrc-0_67:4.1
	HdrSrc-0_66:4.1
	HdrSrc-0_65:4.1
	HdrSrc-0_64:4.1
	kbracey_32bit_merge:4.1
	HdrSrc-0_63:4.1
	HdrSrc-0_57-4_58_2_9:4.1
	HdrSrc-0_57-4_58_2_8:4.1
	HdrSrc-0_57-4_58_2_7:4.1
	HdrSrc-0_57-4_58_2_6:4.1
	HdrSrc-0_57-4_58_2_5:4.1
	HdrSrc-0_57-4_58_2_4:4.1
	HdrSrc-0_57-4_58_2_3:4.1
	HdrSrc-0_62:4.1
	HdrSrc-0_61:4.1
	HdrSrc-0_60:4.1
	HdrSrc-0_57-4_58_2_2:4.1
	HdrSrc-0_59:4.1
	HdrSrc-0_58:4.1
	HdrSrc-0_57-4_58_2_1:4.1
	kbracey_32bit:4.1.0.10
	HdrSrc-0_57:4.1
	HdrSrc-0_56:4.1
	HdrSrc-0_55:4.1
	HdrSrc-0_54:4.1
	HdrSrc-0_53:4.1
	HdrSrc-0_52:4.1
	HdrSrc-0_51:4.1
	HdrSrc-0_50:4.1
	HdrSrc-0_49:4.1
	HdrSrc-0_48:4.1
	HdrSrc-0_47:4.1
	HdrSrc-0_46:4.1
	HdrSrc-0_45:4.1
	HdrSrc-0_44:4.1
	HdrSrc-0_43:4.1
	HdrSrc-0_42:4.1
	dcotton_autobuild_BaseSW:4.1
	HdrSrc-0_41:4.1
	HdrSrc-0_39:4.1
	HdrSrc-0_38:4.1
	HdrSrc-0_37:4.1
	HdrSrc-0_36:4.1
	HdrSrc-0_35:4.1
	HdrSrc-0_34:4.1
	HdrSrc-0_33:4.1
	HdrSrc-0_32:4.1
	HdrSrc-0_31:4.1
	Ursula_RiscPC_merge:4.1
	HdrSrc-0_30:4.1
	HdrSrc-0_29:4.1
	Ursula_merge:4.1
	HdrSrc-0_28:4.1
	HdrSrc-0_27:4.1
	HdrSrc-0_26:4.1
	HdrSrc-0_25:4.1
	HdrSrc-0_24:4.1
	HdrSrc-0_23:4.1
	HdrSrc-0_22:4.1
	HdrSrc-0_21:4.1
	HdrSrc-0_20:4.1
	HdrSrc-0_19:4.1
	nturton_HdrSrc-0_11:4.1
	HdrSrc-0_18:4.1
	HdrSrc-0_17:4.1
	HdrSrc-0_16:4.1
	HdrSrc-0_15:4.1
	HdrSrc-0_14:4.1
	HdrSrc-0_13:4.1
	HdrSrc-0_12:4.1
	HdrSrc-0_11:4.1
	HdrSrc-0_10:4.1
	HdrSrc-0_09:4.1
	HdrSrc-0_08:4.1
	HdrSrc-0_07:4.1
	mstphens_UrsulaRiscPCBuild_20Nov98:4.1
	Ursula_RiscPC:4.1.0.8
	HdrSrc-0_06:4.1
	HdrSrc-0_05:4.1
	HdrSrc-0_04:4.1
	HdrSrc-0_03:4.1
	HdrSrc-0_02:4.1
	HdrSrc-0_01:4.1
	nicke_HdrSrc_21_9_98:4.1
	nicke_HdrSrc_21_8_98:4.1.7.1
	rthornb_UrsulaBuild-19Aug1998:4.1
	UrsulaBuild_FinalSoftload:4.1
	rthornb_UrsulaBuild-12Aug1998:4.1
	aglover_UrsulaBuild-05Aug1998:4.1
	rthornb_UrsulaBuild-29Jul1998:4.1
	rthornb_UrsulaBuild-22Jul1998:4.1
	rthornb_UrsulaBuild-15Jul1998:4.1
	rthornb_UrsulaBuild-07Jul1998:4.1
	rthornb_UrsulaBuild-17Jun1998:4.1
	afrost_NC2_Generic:4.1
	rthornb_UrsulaBuild-03Jun1998:4.1
	rthornb_UrsulaBuild-27May1998:4.1
	rthornb_UrsulaBuild-21May1998:4.1
	rthornb_UrsulaBuild_01May1998:4.1
	Spinner_B20_2:4.1.7.1
	Spinner_19_3:4.1.7.1
	Spinner_B18:4.1.7.1
	Spinner_B17:4.1.7.1
	Spinner_B15:4.1.7.1
	Spinner_B14:4.1.7.1
	Spinner_B13:4.1.7.1
	Spinner_B12:4.1.7.1
	Spinner_B10:4.1.7.1
	Daytona:4.1.0.6
	Daytona_bp:4.1
	Ursula_bp:4.1
	Ursula:4.1.0.4
	Spinner_B7:4.1.7.1
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	ARTtmp:4.1.7.1.0.2
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.4
date	2014.03.09.17.13.27;	author jlee;	state Exp;
branches;
next	4.3;
commitid	1c4nw9RgL9U6Z2sx;

4.3
date	2013.10.13.15.20.09;	author jlee;	state Exp;
branches;
next	4.2;
commitid	JsEgz8mSzwkc599x;

4.2
date	2013.08.06.21.56.23;	author jlee;	state Exp;
branches;
next	4.1;
commitid	Q0Gi0rm6zM2Dsr0x;

4.1
date	96.11.05.09.21.24;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.1.1.1
date	96.11.05.09.21.24;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.05.19.36.57;	author nturton;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.11.36.15;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.19.32.38;	author nturton;	state Exp;
branches;
next	;


desc
@@


4.4
log
@Add OS_SpriteOp 65 (TileSpriteScaled) definition
Detail:
  hdr/Sprite - Added OS_SpriteOp 65 definition, bump SpriteReason_BadReasonCode up to 66
Admin:
  Tested on Iyonix, BB-xM


Version 2.42. Tagged as 'HdrSrc-2_42'
@
text
@; Copyright 1996 Acorn Computers Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;
; > &.Hdr.Sprite

; ***********************************
; ***    C h a n g e   L i s t    ***
; ***********************************

; Date       Name  Description
; ----       ----  -----------
; 22-Sep-87  TMD   Added SwitchOutputToSprite/Mask reason codes
;  8-Oct-87  NDR   Added sprite scaling and colour translation reason codes
;  8-Oct-87  NDR   Moved SwitchOutputToSprite/Mask reason codes to 60,61
;  6-Nov-87  NDR   Added SpriteReason_MergeSprites reason code (35)
; 12-Nov-87  NDR   Changed name from MergeSprites to AppendSprite
; 29-Jan-88  NDR   Added SpriteReason_SetPointerShape
;  2-Feb-88  NDR   Removed SpriteReason_Set/ReadScaleFactors/ColourTranslation
; 17-Feb-88  NDR   Added SpriteReason_ReadVduBlockSize
; 03-Mar-88  TMD   Renamed ReadVduBlockSize as ReadSaveAreaSize
; 11-Oct-88  TMD   Added SpriteReason_RemoveLeftHandWastage
; 13-Sep-89  NDR   Added SpriteReason_PutSpriteTransformed
;                  Added SpriteReason_PlotMaskTransformed
; 28-Nov-89  GJS   Added SpriteReason_InsertDeleteRows
;                  Added SpriteReadon_InsertDeleteColumns
; 30-Jan-91  DDV   Added SpriteReason_CreateRemovePalette
; 28-Aug-92  DDV   Defined new constants about the revised header format
; 11-Mar-93  AMG   Amend the above new constants to reflect reality, and
;                    define the new sprite types
; 16-Jul-93  JSR   MaxSpitePaletteSize put back to 16*8 because 256*8 didn't work
; 28-Sep-93  AMG   Add SpriteReason_PutSpriteTransformedCalibrated, PutSpriteScaledCalibrated
;                    and reserve T=7,T=8 sprites for CC.
; 27-Oct-93  AMG   Add T=9 for JPEG (for WRS).
; 18-Nov-93  AMG   Add SpriteType_Substitute and explanation
; 01-Feb-94  AMG   Correct MaxSpritePaletteSize ( warning! it's no longer an immediate value)
; 27-Sep-94  GPS   Added SpriteReason_CheckSpriteArea (17)
; 25-Oct-94  GPS   Removed SpriteReason_PutSpriteTransformedCalibrated, PutSpriteScaledCalibrated
;                  Added definitions for JPEG SWIs.
; 29-Oct-94  AMcC  Removed definitions for JPEG SWIs (now in Hdr:SprExtend)
;

;
; Reason codes for SWI SpriteOp, passed in R0
;

;SpriteReason_ReportError           * 0
;SpriteReason_ClaimSpace            * 1  ;*SSpace <n>
SpriteReason_ScreenSave             * 2
SpriteReason_ScreenLoad             * 3

SpriteReason_ReadAreaCB             * 8  ;*SInfo
SpriteReason_ClearSprites           * 9  ;*SNew
SpriteReason_LoadSpriteFile         * 10 ;*SLoad <filename>
SpriteReason_MergeSpriteFile        * 11 ;*SMerge <filename>
SpriteReason_SaveSpriteFile         * 12 ;*SSave <filename>
SpriteReason_ReturnName             * 13
SpriteReason_GetSprite              * 14 ;*SGet <n>
SpriteReason_CreateSprite           * 15
SpriteReason_GetSpriteUserCoords    * 16
SpriteReason_CheckSpriteArea        * 17

SpriteReason_SelectSprite           * 24 ;*SChoose <n> [<m>]
SpriteReason_DeleteSprite           * 25 ;*SDelete <n>
SpriteReason_RenameSprite           * 26 ;*SRename
SpriteReason_CopySprite             * 27
SpriteReason_PutSprite              * 28
SpriteReason_CreateMask             * 29
SpriteReason_RemoveMask             * 30
SpriteReason_InsertRow              * 31
SpriteReason_DeleteRow              * 32
SpriteReason_FlipAboutXAxis         * 33
SpriteReason_PutSpriteUserCoords    * 34
SpriteReason_AppendSprite           * 35
SpriteReason_SetPointerShape        * 36
SpriteReason_CreateRemovePalette    * 37
SpriteReason_CreateRemoveAlpha      * 38

SpriteReason_ReadSpriteSize         * 40
SpriteReason_ReadPixelColour        * 41
SpriteReason_WritePixelColour       * 42
SpriteReason_ReadPixelMask          * 43
SpriteReason_WritePixelMask         * 44
SpriteReason_InsertCol              * 45
SpriteReason_DeleteCol              * 46
SpriteReason_FlipAboutYAxis         * 47
SpriteReason_PlotMask               * 48
SpriteReason_PlotMaskUserCoords     * 49

SpriteReason_PlotMaskScaled         * 50
SpriteReason_PaintCharScaled        * 51
SpriteReason_PutSpriteScaled        * 52
SpriteReason_PutSpriteGreyScaled    * 53
SpriteReason_RemoveLeftHandWastage  * 54
SpriteReason_PlotMaskTransformed    * 55
SpriteReason_PutSpriteTransformed   * 56
SpriteReason_InsertDeleteRows       * 57
SpriteReason_InsertDeleteColumns    * 58

SpriteReason_SwitchOutputToSprite   * 60
SpriteReason_SwitchOutputToMask     * 61
SpriteReason_ReadSaveAreaSize       * 62

;SpriteReason_PutSpriteScaledCalibrated        * 63
;SpriteReason_PutSpriteTransformedCalibrated   * 64

SpriteReason_TileSpriteScaled       * 65

SpriteReason_BadReasonCode          * 66


 ^ 0

spNext    # 4  ;  Offset to next sprite
spName    # 12 ;  Sprite name
spWidth   # 4  ;  Width in words-1      (0..639)
spHeight  # 4  ;  Height in scanlines-1 (0..255/511)
spLBit    # 4  ;  First bit used (left end of row)
spRBit    # 4  ;  Last bit used (right end of row)
spImage   # 4  ;  Offset to sprite image
spTrans   # 4  ;  Offset to transparancy mask
spMode    # 4  ;  Mode sprite was defined in
spPalette # 0  ;  
           
; These two map onto the header format used above

sp2Width    * spLBit
sp2Reserved * spRBit

SpriteCBsize * (spPalette-spNext)
SpriteNameSize * (spWidth-spName)
MaxSpritePaletteSize * 256*8

MaxSpriteWidth  * 32768  ;Words ???
MaxSpriteHeight * 32768  ;Rows


 ^ 0

saEnd        # 4 ; Offset to end of sprite area (ie total size)
saNumber     # 4 ; Number of sprites in area
saFirst      # 4 ; Offset to first sprite
saFree       # 4 ; Offset to first free word
saExten      # 0 ;

SpriteAreaCBsize * (saExten-saEnd)

; The RISC OS 3.5 definition of the sprite mode word is:
; Bits 30-27 Sprite type:
;             0 - the word represents a mode number, ie the old world
;             1 - 6  new format as below
;             7 - 15 not assigned
;
; For types >0 the format is:
;
; 31 30--27 26--14 13--01 00
;                          1 - always
;                  <xdpi>    - dots per inch, x
;           <ydpi>           - dots per inch, y
;    <type>                  - type of sprite
; <wm>                       - wide mask (1 => 8 bit alpha, 0 => 1 bit on/off)
;                              (RO Select extension, not in 3.5)
;
; T values allocated so far:
; -
; 0 old format (i.e. just a mode number. <wm> must be zero)
; 1 1bpp
; 2 2bpp
; 3 4bpp
; 4 8bpp
; 5 16bpp 1:5:5:5 TBGR
; 6 32bpp 8:8:8:8 TBGR
; 7 cmyk (no OS support)
; 8 24bpp (no OS support)
; 9 JPEG (no OS support)
; 10 16bpp 5:6:5 TBGR
; 11-14 reserved
; 15 reserved for identifying RISC OS 5 style sprite mode words

; RISC OS 5 introduces another new sprite mode word format, which is:
;
; w111 1ttt tttt 0000 ffff ffff yyxx 0001
;  111 1         0000                0001 - always
;                                 xx      - DPI, x (0=180, 1=90, 2=45, 3=22.5)
;                               yy        - DPI, y (0=180, 1=90, 2=45, 3=22.5)
;                     ffff ffff           - bits 8-15 of ModeFlags
;       ttt tttt                          - sprite type
; w                                       - wide mask flag
;
; Sprite types are:
;
; 0-14 as above, modified by ModeFlags where appropriate
; 15 reserved
; 16 16bpp 4:4:4:4
; 17 4:2:2 YCbCr
; 18 4:2:0 YCbCr
; 19-127 reserved

         
                    ^ 0
SpriteType_Old      # 1 ; 0   old format
SpriteType_New1bpp  # 1 ; 1   1 bpp
SpriteType_New2bpp  # 1 ; 2   2 bpp
SpriteType_New4bpp  # 1 ; 3   4 bpp
SpriteType_New8bpp  # 1 ; 4   8 bpp
SpriteType_New16bpp # 1 ; 5   16 bpp 1555
SpriteType_New32bpp # 1 ; 6   32 bpp
SpriteType_MAX      * :INDEX: @@ ; maximum 3.5 type supported. 64K is an exception.

SpriteType_CMYK     # 1 ; 7   cmyk - no support in OS
SpriteType_New24bpp # 1 ; 8   packed 24bpp - no support in OS
SpriteType_JPEG     # 1 ; 9   JPEG - no support in OS
SpriteType_New64K   # 1 ; 10  16 bpp 565
                    # 4
SpriteType_RISCOS5  # 1 ; 15  New RISC OS 5 sprite mode word
SpriteType_New4K    # 1 ; 16  16 bpp 4444
SpriteType_New422   # 1 ; 17  YCbCr 4:2:2
SpriteType_New420   # 1 ; 18  YCbCr 4:2:0
SpriteType_RO5MAX   * :INDEX: @@
                                           
; if a Sprite Type >= SpriteType_Max is passed through the kernel (ie one that
; there's no support for) it will treat it as the substitute type instead of
; returning an error. This should make it more painless to pass unsupported
; and undefined types through the kernel                                           
                                                            
SpriteType_Substitute * SpriteType_New32bpp

                          
        END
@


4.3
log
@Add OS_SpriteOp 38 definition
Detail:
  hdr/Sprite - Add OS_SpriteOp 38 (CreateRemoveAlpha), for converting between 1bpp masks, alpha masks, and alpha channels
Admin:
  Tested on BB-xM


Version 2.35. Tagged as 'HdrSrc-2_35'
@
text
@d117 3
a119 1
SpriteReason_BadReasonCode          * 63
@


4.2
log
@Add details of new sprite mode word format. Add ColourConv macro to help with colour conversions.
Detail:
  hdr/Macros - Add ColourConv macro to convert &BBGGRRxx palette entries to any sensible true-colour pixel format
  hdr/Sprite - Add definition of the new RISC OS 5 style sprite mode word format. Revise "new" 3.5 style format to include the wide mask flag introduced by ROL. Define new sprite types for ROL-compatible 64K sprites and new RISC OS 5 sprites.
Admin:
  Tested in OMAP3 ROM build on BB-xM
  Part of an implementation of the Extended Framebuffer Format spec:
  http://www.riscosopen.org/wiki/documentation/show/Extended%20Framebuffer%20Format%20Specification


Version 2.31. Tagged as 'HdrSrc-2_31'
@
text
@d87 1
@


4.1
log
@Initial revision
@
text
@d155 2
a156 2
; The new definition of the sprite mode word is:
; Bits 31-27 Sprite type:
d159 1
a159 1
;             7 - 31 not assigned
d163 7
a169 5
; 31--27 26--14 13--01 00
;                       1 - always 
;               <xdpi>    - dots per inch, x
;        <ydpi>           - dots per inch, y
; <type>                  - type of sprite
d173 1
a173 1
; 0 old format
d178 2
a179 2
; 5 16bpp
; 6 32bpp  
d183 23
d208 8
a215 8
SpriteType_Old      # 1 ; 0  old format
SpriteType_New1bpp  # 1 ; 1  1 bpp
SpriteType_New2bpp  # 1 ; 2  2 bpp
SpriteType_New4bpp  # 1 ; 3  4 bpp
SpriteType_New8bpp  # 1 ; 4  8 bpp
SpriteType_New16bpp # 1 ; 5  16 bpp
SpriteType_New32bpp # 1 ; 6  32 bpp
SpriteType_MAX      * :INDEX: @@ ; maximum type allocated
d217 10
a226 3
SpriteType_CMYK     # 1 ; 7 cmyk - no support in OS
SpriteType_New24bpp # 1 ; 8 packed 24bpp - no support in OS
SpriteType_JPEG     # 1 ; 9 JPEG - no support in OS
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.5.1
log
@Import from SrcFiler
@
text
@@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
