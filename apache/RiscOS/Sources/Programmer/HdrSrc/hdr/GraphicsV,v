head	4.6;
access;
symbols
	HdrSrc-2_77:4.6
	HdrSrc-2_76:4.5
	HdrSrc-2_75:4.5
	HdrSrc-2_74:4.5
	HdrSrc-2_73:4.5
	HdrSrc-2_72:4.5
	HdrSrc-2_71:4.5
	HdrSrc-2_70:4.4
	HdrSrc-2_69:4.4
	HdrSrc-2_68:4.4
	HdrSrc-2_67:4.4
	HdrSrc-2_66:4.4
	HdrSrc-2_65:4.4
	HdrSrc-2_64:4.4
	HdrSrc-2_63:4.4
	HdrSrc-2_62:4.4
	HdrSrc-2_61:4.4
	HdrSrc-2_60:4.4
	HdrSrc-2_59:4.4
	HdrSrc-2_58:4.4
	HdrSrc-2_57:4.4
	HdrSrc-2_56:4.4
	HdrSrc-2_55:4.4
	HdrSrc-2_54:4.4
	HdrSrc-2_53:4.4
	HdrSrc-2_52:4.4
	HdrSrc-2_51:4.4
	HdrSrc-2_50:4.4
	HdrSrc-2_49:4.4
	HdrSrc-2_48:4.4
	HdrSrc-2_47:4.4
	HdrSrc-2_46-4_247_2_1:4.4
	XCompile:4.4.0.2
	XCompile_bp:4.4
	HdrSrc-2_46:4.4
	HdrSrc-2_45:4.4
	HdrSrc-2_44:4.4
	HdrSrc-2_43:4.3
	HdrSrc-2_42:4.3
	HdrSrc-2_41:4.3
	HdrSrc-2_40-1:4.2
	HdrSrc-2_40:4.2
	HdrSrc-2_39:4.2
	HdrSrc-2_38:4.2
	HdrSrc-2_37:4.1
	HdrSrc-2_36:4.1
	HdrSrc-2_35:4.1
	HdrSrc-2_34:4.1
	HdrSrc-2_33:4.1
	HdrSrc-2_32:4.1
	HdrSrc-2_31:4.1
	HdrSrc-2_30:4.1
	HdrSrc-2_29:4.1
	HdrSrc-2_28:4.1
	HdrSrc-2_27:4.1
	HdrSrc-2_26:4.1
	HdrSrc-2_25:4.1
	HdrSrc-2_24:4.1
	HdrSrc-2_23:4.1
	HdrSrc-2_22:4.1
	HdrSrc-2_21:4.1
	HdrSrc-2_20:4.1
	HdrSrc-2_19:4.1
	HdrSrc-2_18:4.1
	HdrSrc-2_17:4.1
	HdrSrc-2_16:4.1
	HdrSrc-2_15:4.1
	HdrSrc-2_14:4.1
	HdrSrc-2_13:4.1
	HdrSrc-2_12:4.1
	HdrSrc-2_11:4.1
	HdrSrc-2_10:4.1
	HdrSrc-2_09:4.1
	HdrSrc-2_08:4.1
	HdrSrc-2_07:4.1
	HdrSrc-2_06:4.1
	HdrSrc-2_05:4.1
	HdrSrc-2_04:4.1
	HdrSrc-2_03:4.1
	HdrSrc-2_02:4.1
	HdrSrc-2_01:4.1
	HdrSrc-2_00:4.1
	HdrSrc-1_99:4.1
	HdrSrc-1_98:4.1
	HdrSrc-1_97:4.1
	HdrSrc-1_96:4.1
	HdrSrc-1_95:4.1
	HdrSrc-1_94:4.1
	HdrSrc-1_93:4.1
	HdrSrc-1_92:4.1
	HdrSrc-1_91:4.1
	HdrSrc-1_90:4.1
	HdrSrc-1_89:4.1
	HdrSrc-1_88:4.1
	HdrSrc-1_87:4.1
	HdrSrc-1_86:4.1
	HdrSrc-1_85:4.1
	HdrSrc-1_84:4.1
	HdrSrc-1_83:4.1
	HdrSrc-1_82:4.1
	HdrSrc-1_81:4.1
	HdrSrc-1_80:4.1
	HdrSrc-1_79:4.1
	HdrSrc-1_78:4.1
	HdrSrc-1_77:4.1
	HdrSrc-1_76:4.1
	Cortex_merge:4.1
	HdrSrc-1_62-4_162_2_15:4.1
	HdrSrc-1_75:4.1
	HdrSrc-1_62-4_162_2_14:4.1
	HdrSrc-1_74:4.1
	HdrSrc-1_62-4_162_2_13:4.1
	HdrSrc-1_62-4_162_2_12:4.1
	HdrSrc-1_73:4.1
	HdrSrc-1_72:4.1
	HdrSrc-1_62-4_162_2_11:4.1
	HdrSrc-1_62-4_162_2_10:4.1
	HdrSrc-1_71:4.1
	HdrSrc-1_70:4.1
	HdrSrc-1_69:4.1
	Cortex_bp:4.1
	HdrSrc-1_62-4_162_2_9:4.1
	HdrSrc-1_62-4_162_2_8:4.1
	HdrSrc-1_68:4.1
	HdrSrc-1_62-4_162_2_7:4.1
	HdrSrc-1_62-4_162_2_6:4.1
	HdrSrc-1_62-4_162_2_5:4.1
	HdrSrc-1_62-4_162_2_4:4.1
	HdrSrc-1_67:4.1
	HdrSrc-1_66:4.1
	HdrSrc-1_62-4_162_2_3:4.1
	HdrSrc-1_65:4.1
	HdrSrc-1_64:4.1
	HdrSrc-1_63:4.1
	HdrSrc-1_62-4_162_2_2:4.1
	HdrSrc-1_62-4_162_2_1:4.1
	Cortex:4.1.0.2
	HdrSrc-1_62:4.1
	HdrSrc-1_61:4.1
	HdrSrc-1_60:4.1;
locks; strict;
comment	@# @;


4.6
date	2018.05.30.19.41.21;	author bavison;	state Exp;
branches;
next	4.5;
commitid	8cwfJTHfu9XLcmEA;

4.5
date	2017.06.07.17.36.31;	author bavison;	state Exp;
branches;
next	4.4;
commitid	kIQAqscWdtSpZsUz;

4.4
date	2014.08.04.10.55.37;	author bavison;	state Exp;
branches;
next	4.3;
commitid	SkM1MH0hgC1x82Lx;

4.3
date	2014.03.09.00.08.10;	author bavison;	state Exp;
branches;
next	4.2;
commitid	X3J8boodrBvmjXrx;

4.2
date	2013.12.15.20.15.24;	author bavison;	state Exp;
branches;
next	4.1;
commitid	fMp9LGY4kxqUGghx;

4.1
date	2008.03.21.16.59.40;	author bavison;	state Exp;
branches;
next	;


desc
@@


4.6
log
@Resync with allocations database
Video overlay allocations, and a correction to ErrorBase_SMP

Version 2.77. Tagged as 'HdrSrc-2_77'
@
text
@; Copyright 2008 Castle Technology Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;
; This header file is autogenerated from the files maintained by the
; RISC OS allocations manager and should not be edited by anyone else.

; hdr:GraphicsV

; ********************
; *** Changes List ***
; ********************

; 28-Aug-02 KJB Created.
;

; reason codes passed in r4 to GraphicsV

                          ; R4 bits: | 31-24  | 23-16
GraphicsV_Complete              * 0  ; -      | -
GraphicsV_VSync                 * 1  ; Driver | Head
GraphicsV_SetMode               * 2  ; Driver | Head
GraphicsV_SetInterlace          * 3  ; Driver | Head ; Deprecated
GraphicsV_SetBlank              * 4  ; Driver | Head
GraphicsV_UpdatePointer         * 5  ; Driver | Head
GraphicsV_SetDMAAddress         * 6  ; Driver | Head
GraphicsV_VetMode               * 7  ; Driver | Head
GraphicsV_DisplayFeatures       * 8  ; Driver | Head
GraphicsV_FramestoreAddress     * 9  ; Driver | Head
GraphicsV_WritePaletteEntry     * 10 ; Driver | Head/Overlay
GraphicsV_WritePaletteEntries   * 11 ; Driver | Head/Overlay
GraphicsV_ReadPaletteEntry      * 12 ; Driver | Head/Overlay
GraphicsV_Render                * 13 ; Driver | Head
GraphicsV_IICOp                 * 14 ; Driver | Head
GraphicsV_SelectHead            * 15 ; Driver | -
GraphicsV_StartupMode           * 16 ; Driver | Head
GraphicsV_PixelFormats          * 17 ; Driver | Head
GraphicsV_ReadInfo              * 18 ; Driver | -
GraphicsV_VetMode2              * 19 ; Driver | Head
GraphicsV_CreateOverlay         * 20 ; Driver | -
GraphicsV_DestroyOverlay        * 21 ; Driver | Overlay
GraphicsV_SetOverlayPosition    * 22 ; Driver | Overlay
GraphicsV_MapOverlayBuffer      * 23 ; Driver | Overlay
GraphicsV_UnmapOverlayBuffer    * 24 ; Driver | Overlay
GraphicsV_DiscardOverlayBuffer  * 25 ; Driver | Overlay
GraphicsV_VetOverlay            * 26 ; Driver | -
GraphicsV_SetOverlayTransform   * 27 ; Driver | Overlay
GraphicsV_SetOverlayZOrder      * 28 ; Driver | -

; GraphicsV_SetDMAAddress (r0)
GVDAG_VInit                     * 0
GVDAG_VStart                    * 1
GVDAG_VEnd                      * 2
GVDAG_VRender                   * 3

; GraphicsV_WritePaletteEntry / WritePaletteEntries / ReadPaletteEntry (r0)
GVPaletteType_Normal    * 0 ; &BBGGRRSS palette/gamma entry
GVPaletteType_Border    * 1 ; &BBGGRRSS border colour
GVPaletteType_Pointer   * 2 ; &BBGGRRSS pointer palette entry
GVPaletteType_ColourKey * 3 ; Raw pixel value to write to framebuffer, may be read-only

; GraphicsV_DisplayFeatures flags (r0)
GVDisplayFeature_HardwareScroll                     * 1:SHL:0
GVDisplayFeature_HardwarePointer                    * 1:SHL:1
GVDisplayFeature_InterlaceWithProgressiveFramestore * 1:SHL:2
GVDisplayFeature_SeparateFramestore                 * 1:SHL:3 ; GraphicsV_FramestoreAddress implemented
GVDisplayFeature_NoVsyncIRQ                         * 1:SHL:4
GVDisplayFeature_VariableFramestore                 * 1:SHL:5 ; driver-managed framestore address/size changes with mode
GVDisplayFeature_CopyRectangleIsFast                * 1:SHL:6 ; OS_SpriteOp 65 hint: copying rectangles (VRAM->VRAM via GPU) is faster than plotting sprites (RAM->VRAM via CPU)

; GraphicsV_Render flags (r0)
GVRender_SyncIfComplete         * 1:SHL:0
GVRender_SyncIfNotComplete      * 1:SHL:1
GVRender_Sync                   * 2_11:SHL:0

; GraphicsV_Render operation (r1)
GVRender_NOP                    * 0
GVRender_CopyRectangle          * 1
GVRender_FillRectangle          * 2

; GraphicsV_PixelFormats list format (r0)
                        ^ 0
GVPixelFormat_NColour   # 4 ; NColour mode variable value
GVPixelFormat_ModeFlags # 4 ; Relevant mode flags
GVPixelFormat_Log2BPP   # 4 ; Log2BPP mode variable value
GVPixelFormat_Size      # 0 ; Struct size

; GraphicsV_ReadInfo items (r0)
GVReadInfo_Version          * 0 ; Driver version number (BCD * &10000)
GVReadInfo_ModuleName       * 1 ; Module (instance) name if module
GVReadInfo_DriverName       * 2 ; Driver name for display to user
GVReadInfo_HardwareName     * 3 ; Hardware name for display to user (e.g. PCI card name)
GVReadInfo_ControlListItems * 4 ; List of known VIDC control list items
GVReadInfo_MaxOverlays      * 5 ; Max number of overlays that can be created, indicates overlay API implemented

; GraphicsV_VetMode2 result flags (r0)
GVVetMode2_ResultMask           * 3
GVVetMode2_Result_Unsupported   * 0 ; Provided mode is unsupported
GVVetMode2_Result_SysFramestore * 1 ; Mode is supported, and will use the system framestore (i.e. kernel-managed DA 2)
GVVetMode2_Result_ExtFramestore * 2 ; Mode is supported, and will use the external framestore (as defined by R3 & R5)
GVVetMode2_Result_UnkFramestore * 3 ; Mode is supported, but driver doesn't know where the framestore will be (e.g. framestore is managed by another component, like the GPU firmware in the Pi)
GVVetMode2_ExtraBytes_Invalid   * 4 ; The input value of the ExtraBytes control list item was invalid, driver has suggested a new value in R2

; GraphicsV_CreateOverlay / VetOverlay flags (r2)
GVOverlayFlag_Scalable            * 1:SHL:0

GVOverlayType_Mask   * 255
GVOverlayType_ZOrder * 0
GVOverlayType_Basic  * 1

                END

@


4.5
log
@Resync with allocations database (extensions to GraphicsV)

Version 2.71. Tagged as 'HdrSrc-2_71'
@
text
@d29 30
a58 20
GraphicsV_Complete              * 0
GraphicsV_VSync                 * 1
GraphicsV_SetMode               * 2
GraphicsV_SetInterlace          * 3 ; Deprecated
GraphicsV_SetBlank              * 4
GraphicsV_UpdatePointer         * 5
GraphicsV_SetDMAAddress         * 6
GraphicsV_VetMode               * 7
GraphicsV_DisplayFeatures       * 8
GraphicsV_FramestoreAddress     * 9
GraphicsV_WritePaletteEntry     * 10
GraphicsV_WritePaletteEntries   * 11
GraphicsV_ReadPaletteEntry      * 12
GraphicsV_Render                * 13
GraphicsV_IICOp                 * 14
GraphicsV_SelectHead            * 15
GraphicsV_StartupMode           * 16
GraphicsV_PixelFormats          * 17
GraphicsV_ReadInfo              * 18
GraphicsV_VetMode2              * 19
d60 1
a60 1
; GraphicsV_SetDMAAddress
d66 6
d104 1
d114 6
d122 1
@


4.4
log
@Resync with allocations database

Version 2.44. Tagged as 'HdrSrc-2_44'
@
text
@d48 1
d89 9
@


4.3
log
@  Resync with allocations database
Detail:
  * Add extra flag definition to Hdr:GraphicsV
  * Decloak two system service calls previously used only by ROL fork

Version 2.41. Tagged as 'HdrSrc-2_41'
@
text
@d32 1
a32 1
GraphicsV_SetInterlace          * 3
d47 1
d81 7
@


4.2
log
@  Resync with allocations database
Detail:
  Kernel graphics allocations for Jeffrey Lee

Version 2.38. Tagged as 'HdrSrc-2_38'
@
text
@d61 1
@


4.1
log
@  Finally, a releasable HdrSrc!
Detail:
  Imported public versions of the registration header files. These have all
  mentions of third-party allocations removed from them, and because these
  are new imports, there's nothing hiding in the revision history either.
Admin:
  Manually inspected for sanity; we'll have to see how well it functions in
  a real build.

Version 1.60. Tagged as 'HdrSrc-1_60'
@
text
@d44 3
a46 1
GraphicsV_SelectHead		* 15
d48 15
d67 1
d72 7
@

