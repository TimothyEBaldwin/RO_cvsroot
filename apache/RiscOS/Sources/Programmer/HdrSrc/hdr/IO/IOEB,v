head	4.2;
access;
symbols
	HdrSrc-2_77:4.2
	HdrSrc-2_76:4.2
	HdrSrc-2_75:4.2
	HdrSrc-2_74:4.2
	HdrSrc-2_73:4.2
	HdrSrc-2_72:4.2
	HdrSrc-2_71:4.2
	HdrSrc-2_70:4.2
	HdrSrc-2_69:4.2
	HdrSrc-2_68:4.2
	HdrSrc-2_67:4.2
	HdrSrc-2_66:4.2
	HdrSrc-2_65:4.2
	HdrSrc-2_64:4.2
	HdrSrc-2_63:4.2
	HdrSrc-2_62:4.2
	HdrSrc-2_61:4.2
	HdrSrc-2_60:4.2
	HdrSrc-2_59:4.2
	HdrSrc-2_58:4.2
	HdrSrc-2_57:4.2
	HdrSrc-2_56:4.2
	HdrSrc-2_55:4.2
	HdrSrc-2_54:4.2
	HdrSrc-2_53:4.2
	HdrSrc-2_52:4.2
	HdrSrc-2_51:4.2
	HdrSrc-2_50:4.2
	HdrSrc-2_49:4.2
	HdrSrc-2_48:4.2
	HdrSrc-2_47:4.2
	HdrSrc-2_46-4_247_2_1:4.2.8.1
	XCompile:4.2.0.8
	XCompile_bp:4.2
	HdrSrc-2_46:4.2
	HdrSrc-2_45:4.2
	HdrSrc-2_44:4.2
	HdrSrc-2_43:4.2
	HdrSrc-2_42:4.2
	HdrSrc-2_41:4.2
	HdrSrc-2_40-1:4.2
	HdrSrc-2_40:4.2
	HdrSrc-2_39:4.2
	HdrSrc-2_38:4.2
	HdrSrc-2_37:4.2
	HdrSrc-2_36:4.2
	HdrSrc-2_35:4.2
	HdrSrc-2_34:4.2
	HdrSrc-2_33:4.2
	HdrSrc-2_32:4.2
	HdrSrc-2_31:4.2
	HdrSrc-2_30:4.2
	HdrSrc-2_29:4.2
	HdrSrc-2_28:4.2
	HdrSrc-2_27:4.2
	HdrSrc-2_26:4.2
	HdrSrc-2_25:4.2
	HdrSrc-2_24:4.2
	HdrSrc-2_23:4.2
	HdrSrc-2_22:4.2
	HdrSrc-2_21:4.2
	HdrSrc-2_20:4.2
	HdrSrc-2_19:4.2
	HdrSrc-2_18:4.2
	HdrSrc-2_17:4.2
	HdrSrc-2_16:4.2
	HdrSrc-2_15:4.2
	HdrSrc-2_14:4.2
	HdrSrc-2_13:4.2
	HdrSrc-2_12:4.2
	HdrSrc-2_11:4.2
	HdrSrc-2_10:4.2
	HdrSrc-2_09:4.2
	HdrSrc-2_08:4.2
	HdrSrc-2_07:4.2
	HdrSrc-2_06:4.2
	HdrSrc-2_05:4.2
	HdrSrc-2_04:4.2
	HdrSrc-2_03:4.2
	HdrSrc-2_02:4.2
	HdrSrc-2_01:4.2
	HdrSrc-2_00:4.2
	HdrSrc-1_99:4.2
	HdrSrc-1_98:4.2
	HdrSrc-1_97:4.2
	HdrSrc-1_96:4.2
	HdrSrc-1_95:4.2
	HdrSrc-1_94:4.2
	HdrSrc-1_93:4.2
	HdrSrc-1_92:4.2
	HdrSrc-1_91:4.2
	HdrSrc-1_90:4.2
	HdrSrc-1_89:4.2
	HdrSrc-1_88:4.2
	HdrSrc-1_87:4.2
	HdrSrc-1_86:4.2
	HdrSrc-1_85:4.2
	HdrSrc-1_84:4.2
	HdrSrc-1_83:4.2
	HdrSrc-1_82:4.2
	HdrSrc-1_81:4.2
	HdrSrc-1_80:4.2
	HdrSrc-1_79:4.2
	HdrSrc-1_78:4.2
	HdrSrc-1_77:4.2
	HdrSrc-1_76:4.2
	Cortex_merge:4.2
	HdrSrc-1_62-4_162_2_15:4.2
	HdrSrc-1_75:4.2
	HdrSrc-1_62-4_162_2_14:4.2
	HdrSrc-1_74:4.2
	HdrSrc-1_62-4_162_2_13:4.2
	HdrSrc-1_62-4_162_2_12:4.2
	HdrSrc-1_73:4.2
	HdrSrc-1_72:4.2
	HdrSrc-1_62-4_162_2_11:4.2
	HdrSrc-1_62-4_162_2_10:4.2
	HdrSrc-1_71:4.2
	HdrSrc-1_70:4.2
	HdrSrc-1_69:4.2
	Cortex_bp:4.2
	HdrSrc-1_62-4_162_2_9:4.2
	HdrSrc-1_62-4_162_2_8:4.2
	HdrSrc-1_68:4.2
	HdrSrc-1_62-4_162_2_7:4.2
	HdrSrc-1_62-4_162_2_6:4.2
	HdrSrc-1_62-4_162_2_5:4.2
	HdrSrc-1_62-4_162_2_4:4.2
	HdrSrc-1_67:4.2
	HdrSrc-1_66:4.2
	HdrSrc-1_62-4_162_2_3:4.2
	HdrSrc-1_65:4.2
	HdrSrc-1_64:4.2
	HdrSrc-1_63:4.2
	HdrSrc-1_62-4_162_2_2:4.2
	HdrSrc-1_62-4_162_2_1:4.2
	Cortex:4.2.0.6
	HdrSrc-1_62:4.2
	HdrSrc-1_61:4.2
	HdrSrc-1_60:4.2
	HdrSrc-1_59:4.2
	HdrSrc-1_58:4.2
	HdrSrc-1_57:4.2
	HdrSrc-1_56:4.2
	HdrSrc-1_55:4.2
	HdrSrc-1_54:4.2
	HdrSrc-1_53:4.2
	HdrSrc-1_52:4.2
	HdrSrc-1_51:4.2
	HdrSrc-1_50:4.2
	HdrSrc-1_49:4.2
	HdrSrc-1_48:4.2
	HdrSrc-1_47:4.2
	RO_5_07:4.2
	HdrSrc-1_46:4.2
	HdrSrc-1_45:4.2
	HdrSrc-1_44:4.2
	HdrSrc-1_43:4.2
	HdrSrc-1_42:4.2
	HdrSrc-1_41:4.2
	HdrSrc-1_40:4.2
	HdrSrc-1_39:4.2
	HdrSrc-1_38:4.2
	HdrSrc-1_37:4.2
	HdrSrc-1_36:4.2
	HdrSrc-1_35:4.2
	HdrSrc-1_34:4.2
	HdrSrc-1_33:4.2
	HdrSrc-1_32:4.2
	HdrSrc-1_31:4.2
	HdrSrc-1_30:4.2
	HdrSrc-1_29:4.2
	HdrSrc-1_28:4.2
	HdrSrc-1_27:4.2
	HdrSrc-1_26:4.2
	HdrSrc-1_25:4.2
	HdrSrc-1_24:4.2
	HdrSrc-1_23:4.2
	HdrSrc-1_22:4.2
	HdrSrc-1_21:4.2
	HdrSrc-1_20:4.2
	HdrSrc-1_19:4.2
	HdrSrc-1_18:4.2
	HdrSrc-1_17:4.2
	HdrSrc-1_16:4.2
	HdrSrc-1_15:4.2
	HdrSrc-1_14:4.2
	HdrSrc-1_13:4.2
	HdrSrc-1_12:4.2
	HdrSrc-1_11:4.2
	HdrSrc-0_71-4_72_2_2:4.2
	HdrSrc-1_10:4.2
	HdrSrc-1_09:4.2
	HdrSrc-1_08:4.2
	HdrSrc-1_07:4.2
	HdrSrc-1_06:4.2
	HdrSrc-1_05:4.2
	dellis_autobuild_BaseSW:4.2
	HdrSrc-1_04:4.2
	HdrSrc-1_03:4.2
	HdrSrc-1_02:4.2
	HdrSrc-1_00:4.2
	HdrSrc-0_99:4.2
	HdrSrc-0_71-4_72_2_1:4.2
	Lazarus_Z11:4.2.0.4
	HdrSrc-0_98:4.2
	HdrSrc-0_97:4.2
	HdrSrc-0_95:4.2
	HdrSrc-0_94:4.2
	HdrSrc-0_93:4.2
	HdrSrc-0_92:4.2
	HdrSrc-0_91:4.2
	HdrSrc-0_90:4.2
	HdrSrc-0_89:4.2
	HdrSrc-0_88:4.2
	HdrSrc-0_87:4.2
	HdrSrc-0_86:4.2
	HdrSrc-0_85:4.2
	HdrSrc-0_84:4.2
	HdrSrc-0_83:4.2
	HdrSrc-0_82:4.2
	HdrSrc-0_81:4.2
	HdrSrc-0_80:4.2
	HdrSrc-0_79:4.2
	HdrSrc-0_78:4.2
	HdrSrc-0_77:4.2
	sbrodie_sedwards_16Mar2000:4.2
	HdrSrc-0_76:4.2
	HdrSrc-0_75:4.2
	HdrSrc-0_74:4.2
	HdrSrc-0_73:4.2
	HdrSrc-0_72:4.2
	HdrSrc-0_71:4.2
	HdrSrc-0_70:4.2
	HdrSrc-0_69:4.2
	HdrSrc-0_68:4.2
	HdrSrc-0_67:4.2
	HdrSrc-0_66:4.2
	HdrSrc-0_65:4.2
	HdrSrc-0_64:4.2
	kbracey_32bit_merge:4.2
	HdrSrc-0_63:4.2
	HdrSrc-0_57-4_58_2_9:4.2
	HdrSrc-0_57-4_58_2_8:4.2
	HdrSrc-0_57-4_58_2_7:4.2
	HdrSrc-0_57-4_58_2_6:4.2
	HdrSrc-0_57-4_58_2_5:4.2
	HdrSrc-0_57-4_58_2_4:4.2
	HdrSrc-0_57-4_58_2_3:4.2
	HdrSrc-0_62:4.2
	HdrSrc-0_61:4.2
	HdrSrc-0_60:4.2
	HdrSrc-0_57-4_58_2_2:4.2
	HdrSrc-0_59:4.2
	HdrSrc-0_58:4.2
	HdrSrc-0_57-4_58_2_1:4.2
	kbracey_32bit:4.2.0.2
	HdrSrc-0_57:4.2
	HdrSrc-0_56:4.2
	HdrSrc-0_55:4.2
	HdrSrc-0_54:4.2
	HdrSrc-0_53:4.2
	HdrSrc-0_52:4.2
	HdrSrc-0_51:4.2
	HdrSrc-0_50:4.1
	HdrSrc-0_49:4.1
	HdrSrc-0_48:4.1
	HdrSrc-0_47:4.1
	HdrSrc-0_46:4.1
	HdrSrc-0_45:4.1
	HdrSrc-0_44:4.1
	HdrSrc-0_43:4.1
	HdrSrc-0_42:4.1
	dcotton_autobuild_BaseSW:4.2
	HdrSrc-0_41:4.1
	HdrSrc-0_39:4.1
	HdrSrc-0_38:4.1
	HdrSrc-0_37:4.1
	HdrSrc-0_36:4.1
	HdrSrc-0_35:4.1
	HdrSrc-0_34:4.1
	HdrSrc-0_33:4.1
	HdrSrc-0_32:4.1
	HdrSrc-0_31:4.1
	Ursula_RiscPC_merge:4.1
	HdrSrc-0_30:4.1
	HdrSrc-0_29:4.1
	Ursula_merge:4.1
	HdrSrc-0_28:4.1
	HdrSrc-0_27:4.1
	HdrSrc-0_26:4.1
	HdrSrc-0_25:4.1
	HdrSrc-0_24:4.1
	HdrSrc-0_23:4.1
	HdrSrc-0_22:4.1
	HdrSrc-0_21:4.1
	HdrSrc-0_20:4.1
	HdrSrc-0_19:4.1
	nturton_HdrSrc-0_11:4.1
	HdrSrc-0_18:4.1
	HdrSrc-0_17:4.1
	HdrSrc-0_16:4.1
	HdrSrc-0_15:4.1
	HdrSrc-0_14:4.1
	HdrSrc-0_13:4.1
	HdrSrc-0_12:4.1
	HdrSrc-0_11:4.1
	HdrSrc-0_10:4.1
	HdrSrc-0_09:4.1
	HdrSrc-0_08:4.1
	HdrSrc-0_07:4.1
	mstphens_UrsulaRiscPCBuild_20Nov98:4.1
	Ursula_RiscPC:4.1.0.8
	HdrSrc-0_06:4.1
	HdrSrc-0_05:4.1
	HdrSrc-0_04:4.1
	HdrSrc-0_03:4.1
	HdrSrc-0_02:4.1
	HdrSrc-0_01:4.1
	nicke_HdrSrc_21_9_98:4.1
	nicke_HdrSrc_21_8_98:4.1.7.1
	rthornb_UrsulaBuild-19Aug1998:4.1
	UrsulaBuild_FinalSoftload:4.1
	rthornb_UrsulaBuild-12Aug1998:4.1
	aglover_UrsulaBuild-05Aug1998:4.1
	rthornb_UrsulaBuild-29Jul1998:4.1
	rthornb_UrsulaBuild-22Jul1998:4.1
	rthornb_UrsulaBuild-15Jul1998:4.1
	rthornb_UrsulaBuild-07Jul1998:4.1
	rthornb_UrsulaBuild-17Jun1998:4.1
	afrost_NC2_Generic:4.1
	rthornb_UrsulaBuild-03Jun1998:4.1
	rthornb_UrsulaBuild-27May1998:4.1
	rthornb_UrsulaBuild-21May1998:4.1
	rthornb_UrsulaBuild_01May1998:4.1
	Spinner_B20_2:4.1.7.1
	Spinner_19_3:4.1.7.1
	Spinner_B18:4.1.7.1
	Spinner_B17:4.1.7.1
	Spinner_B15:4.1.7.1
	Spinner_B14:4.1.7.1
	Spinner_B13:4.1.7.1
	Spinner_B12:4.1.7.1
	Spinner_B10:4.1.7.1
	Daytona:4.1.0.6
	Daytona_bp:4.1
	Ursula_bp:4.1
	Ursula:4.1.0.4
	Spinner_B7:4.1.7.1
	RO_3_71:4.1.3.1
	ARTtmp_merge:4.1.7.1
	Spin_merge:4.1.7.1
	Spin_3Apr97:4.1.7.1
	ARTtmp:4.1.7.1.0.2
	MergeFiles:4.1.3.1
	RO_3_70:4.1.3.1
	NC_1_06:4.1.7.1
	Spinner:4.1.7
	Spin_xx:4.1.5
	NC_xx:4.1.5.1
	RO_3_60:4.1.1.1
	StrongARM:4.1.3
	Black:4.1.1;
locks; strict;
comment	@# @;


4.2
date	99.10.25.16.30.27;	author kbracey;	state Exp;
branches
	4.2.8.1;
next	4.1;

4.1
date	96.11.05.09.21.28;	author nturton;	state Exp;
branches
	4.1.1.1
	4.1.3.1
	4.1.5.1
	4.1.7.1;
next	;

4.2.8.1
date	2014.09.24.20.51.18;	author bavison;	state Exp;
branches;
next	;
commitid	FLu4L8VxkYPcNDRx;

4.1.1.1
date	96.11.05.09.21.28;	author nturton;	state Exp;
branches;
next	;

4.1.3.1
date	96.11.05.19.37.14;	author nturton;	state Exp;
branches;
next	;

4.1.5.1
date	96.11.21.11.37.05;	author nturton;	state Exp;
branches;
next	;

4.1.7.1
date	96.11.29.19.32.56;	author nturton;	state Exp;
branches;
next	;


desc
@@


4.2
log
@First attempt at STB400 definitions.
New version of DevNos will need to be sent to Pineapple, I expect.
IRQ changes will probably have repercussions throughout the build.

Version 0.51. Tagged as 'HdrSrc-0_51'
@
text
@; Copyright 1996 Acorn Computers Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;
        SUBT    Definition of the A400 production platform ==> Hdr:IO.A440

OldOpt  SETA    {OPT}
        OPT     OptNoList+OptNoP1List

; ***********************************
; ***    C h a n g e   L i s t    ***
; ***********************************
;
; Date       Name          Description
; ----       ----          -----------
; 13-Jul-93  JRoach        Created

        GET     Hdr:IO.IOC

        ; Control register bits

IOEB_sound_mute_bit             * 1 :SHL: 5             ; Read/Write
IOEB_serial_FIQ_bits            * 1 :SHL: 4             ; Must only write a "1"
IOEB_floppy_density_bit         * 1 :SHL: 2             ; ???
                                                        ; (used to be reset disable bit)

        ; IRQ register A bits

IOEB_floppy_index_bit           * 1 :SHL: 2             ; Set at start of index
IOEB_battery_low_bit            * 1 :SHL: 1             ; Was rining on A1
pbusy_bit                       * 1 :SHL: 0             ; Printer busy          (level)


        ; IRQ register B bits

IOEB_ide_IRQ_bit                * 1 :SHL: 4
IOEB_floppy_IRQ_bit             * 1 :SHL: 3
serial_bit                      * 1 :SHL: 2
IOEB_sound_IRQ_bit              * 1 :SHL: 1             ; sound buffer reload


        ; FIQ register bits

IOEB_econet_bit                 * 1 :SHL: 2
IOEB_serial_FIQ_bit             * 1 :SHL: 4             ; also IRQ reg 'B'




        ; IO device locations
C710                    * &03010000
LC_Base                 * &0302C000
IOEB_LatchA             * &03350040 ; Fast, Bank 5
IOEB_ProcessorSpeed     * &03350054
IOEB_SoundSuppress      * &03350074
PINTR_Latch             * &03350558 ; r/w to clear ACK from parallel (via PAL)
IOEB_EconetController   * &033A0000 ; Sync, Bank 2

        ; LC ASIC registers

        ^       0

LC_VDSR_lo      #       4
LC_VDSR_mid     #       4
LC_VDSR_hi      #       4
LC_VDLR_lo      #       4

LC_VDLR_mid     #       4
LC_VDLR_hi      #       4
LC_HDSR_lo      #       4
LC_HDSR_mid     #       4

LC_HDSR_hi      #       4
LC_HDLR_lo      #       4
LC_HDLR_mid     #       4
LC_HDLR_hi      #       4

LC_LICR_lo      #       4
LC_LICR_mid     #       4
LC_LICR_hi      #       4
LC_Reset        #       4
        ASSERT LC_ASICPresent = LC_Base + LC_Reset

LC_PaletteOffset #      16*4

; Some bits in those registers

LC_LICR_lo_EconetEnable *       1 :SHL: 0
LC_LICR_lo_LCDEnable    *       1 :SHL: 1
LC_LICR_lo_VideoEnable  *       1 :SHL: 2
LC_LICR_lo_SerialEnable *       1 :SHL: 3

LC_LICR_mid_DualEnable  *       1 :SHL: 0
LC_LICR_mid_ClockBits   *       3 :SHL: 1       ; control which clock is fed to VIDC
LC_LICR_mid_ExtClock    *       0 :SHL: 1       ; use external clock (from IOEB)
LC_LICR_mid_Crys2Clock  *       1 :SHL: 1       ; use crystal clock divided by 2
LC_LICR_mid_CrysClock   *       2 :SHL: 1       ; use crystal clock
LC_LICR_mid_InvertClock *       1 :SHL: 3

LC_LICR_hi_BacklightEnable *    1 :SHL: 0
LC_LICR_hi_ExtraLines1  *       0 :SHL: 1
LC_LICR_hi_ExtraLines2  *       1 :SHL: 1
LC_LICR_hi_DRAMs1       *       0 :SHL: 2
LC_LICR_hi_DRAMs2       *       1 :SHL: 2

LC_Reset_Hold           *       1 :SHL: 0
LC_Reset_SoftwareReset  *       1 :SHL: 1       ; not normally needed


        OPT     OldOpt
        END
@


4.2.8.1
log
@  Cross-compile version of HdrSrc
Detail:
  Mostly a question of changing directory separators and removing reliance
  upon path variables and system variable expansion. One day, when all
  components use the shared makefiles (or at least use the necessary -pd and
  -i switches to objasm), we will be able to switch over to using this
  version for all builds. In the meantime, I have created a new branch for
  the HdrSrc component, called XCompile, to store these changes. The downside
  is the fact that we'll now have to maintain unrelated changes on both
  branches until they can be merged.
Admin:
  Tested by cross-assembling the BASIC module.

Version 2.46, 4.247.2.1. Tagged as 'HdrSrc-2_46-4_247_2_1'
@
text
@d28 1
a28 1
        GET     IO/IOC
@


4.1
log
@Initial revision
@
text
@d41 1
d48 1
@


4.1.7.1
log
@NCOS 1.06 Imported from Zip drive
@
text
@@


4.1.5.1
log
@Import from SrcFiler
@
text
@@


4.1.3.1
log
@Import from cleaned 370 CD
@
text
@@


4.1.1.1
log
@Import from cleaned 360 CD
@
text
@@
