head	4.29;
access;
symbols
	BootCmds-1_49-1:4.29
	BootCmds-1_49:4.29
	BootCmds-1_48:4.28
	BootCmds-1_47:4.27
	BootCmds-1_46:4.26
	BootCmds-1_45:4.25
	BootCmds-1_44:4.24
	BootCmds-1_43:4.23
	BootCmds-1_42:4.22
	BootCmds-1_41:4.21
	BootCmds-1_40:4.20
	BootCmds-1_39:4.19
	BootCmds-1_38:4.18
	BootCmds-1_35:4.17
	RO_5_07:4.16
	BootCmds-1_34:4.16
	BootCmds-1_33:4.15
	BootCmds-1_32:4.14
	BootCmds-1_31:4.13
	BootCmds-1_30:4.12
	BootCmds-1_29:4.11
	BootCmds-1_28:4.10
	BootCmds-1_27:4.9
	BootCmds-1_26:4.8
	BootCmds-1_25:4.7
	BootCmds-1_24:4.6
	BootCmds-1_23:4.5
	BootCmds-1_22:4.4
	BootCmds-1_21:4.3
	BootCmds-1_20:4.2
	dellis_autobuild_BaseSW:4.1
	sbrodie_sedwards_16Mar2000:4.1
	dcotton_autobuild_BaseSW:4.5
	BootCmds-1_19:4.1;
locks; strict;
comment	@# @;


4.29
date	2015.08.02.08.33.29;	author rsprowson;	state Exp;
branches;
next	4.28;
commitid	s2pPmSMTp0HmGFvy;

4.28
date	2014.04.06.08.31.36;	author rsprowson;	state Exp;
branches;
next	4.27;
commitid	GWre8yCSC2KhcBvx;

4.27
date	2013.05.09.20.27.44;	author rsprowson;	state Exp;
branches;
next	4.26;
commitid	vSStKYgGi0NBPZOw;

4.26
date	2012.10.10.13.37.47;	author srevill;	state Exp;
branches;
next	4.25;
commitid	Bdyg87hxPkptlQnw;

4.25
date	2012.09.30.16.47.20;	author jlee;	state Exp;
branches;
next	4.24;
commitid	kTittmWgLBYqIzmw;

4.24
date	2012.09.02.17.57.29;	author rsprowson;	state Exp;
branches;
next	4.23;
commitid	cqKszfsXW2ki0Ziw;

4.23
date	2012.07.21.08.00.34;	author rsprowson;	state Exp;
branches;
next	4.22;
commitid	2JhsVM55iUVc5pdw;

4.22
date	2012.01.14.22.59.28;	author srevill;	state Exp;
branches;
next	4.21;
commitid	yCgWx1HK1Mif8cPv;

4.21
date	2012.01.09.22.03.27;	author srevill;	state Exp;
branches;
next	4.20;
commitid	pf4YfOxpEWiZYxOv;

4.20
date	2011.12.12.18.00.23;	author srevill;	state Exp;
branches;
next	4.19;
commitid	dP4OW60puOkpxVKv;

4.19
date	2010.04.19.10.59.19;	author bavison;	state Exp;
branches;
next	4.18;

4.18
date	2008.10.11.23.59.28;	author bavison;	state Exp;
branches;
next	4.17;

4.17
date	2005.09.15.14.04.46;	author srevill;	state Exp;
branches;
next	4.16;

4.16
date	2004.09.06.14.24.12;	author jballance;	state Exp;
branches;
next	4.15;

4.15
date	2004.09.03.16.53.14;	author srevill;	state Exp;
branches;
next	4.14;

4.14
date	2004.07.11.19.38.16;	author srevill;	state Exp;
branches;
next	4.13;

4.13
date	2003.03.17.21.22.24;	author rsprowson;	state Exp;
branches;
next	4.12;

4.12
date	2002.11.26.10.26.51;	author rsprowson;	state Exp;
branches;
next	4.11;

4.11
date	2002.11.08.16.20.18;	author rsprowson;	state Exp;
branches;
next	4.10;

4.10
date	2002.10.20.11.44.19;	author rsprowson;	state Exp;
branches;
next	4.9;

4.9
date	2002.08.05.13.16.14;	author bavison;	state Exp;
branches;
next	4.8;

4.8
date	2002.07.16.13.06.09;	author sbrodie;	state Exp;
branches;
next	4.7;

4.7
date	2002.03.19.16.42.22;	author srevill;	state Exp;
branches;
next	4.6;

4.6
date	2001.11.05.17.14.44;	author srevill;	state Exp;
branches;
next	4.5;

4.5
date	2001.09.20.17.42.02;	author srevill;	state Exp;
branches;
next	4.4;

4.4
date	2001.07.20.11.29.36;	author srevill;	state Exp;
branches;
next	4.3;

4.3
date	2001.06.22.10.46.18;	author sbrodie;	state Exp;
branches;
next	4.2;

4.2
date	2000.12.07.14.00.33;	author sbrodie;	state Exp;
branches;
next	4.1;

4.1
date	99.11.30.11.29.38;	author sbrodie;	state Exp;
branches;
next	;


desc
@@


4.29
log
@Build fix
Don't set RES_OBJ to an empty string.
Make use of INSTRES_FILES to simplify the resources phase.

Version 1.49. Tagged as 'BootCmds-1_49'
@
text
@/* (1.49)
 *
 * This file is automatically maintained by srccommit, do not edit manually.
 * Last processed by srccommit version: 1.1.
 *
 */
#define Module_MajorVersion_CMHG        1.49
#define Module_MinorVersion_CMHG        
#define Module_Date_CMHG                02 Aug 2015

#define Module_MajorVersion             "1.49"
#define Module_Version                  149
#define Module_MinorVersion             ""
#define Module_Date                     "02 Aug 2015"

#define Module_ApplicationDate          "02-Aug-15"

#define Module_ComponentName            "BootCmds"
#define Module_ComponentPath            "castle/RiscOS/Sources/Programmer/BootCmds"

#define Module_FullVersion              "1.49"
#define Module_HelpVersion              "1.49 (02 Aug 2015)"
#define Module_LibraryVersionInfo       "1:49"
@


4.28
log
@Missing message token fix
When built with CMDHELP=None the AppSizeSyntax/AppSlotSyntax/AddToRMASyntax/IfThereSyntax tokens are not present in the messages file.
In fact, for the first 3 we don't need to manually check for trailing parameters since the CMHG definition has max-args of 1, so the OS does it for us.
For IfThereSyntax we instead manually cause an IfThere syntax error in order to get the error message (with CMDHELP=None this will come from the english text, and for internationalised versions this will be looked up for us by the kernel).
Set min-args to 1 for IfThere, this saves having to construct the *If command which we know will fail (for a start there must be no 'then'!).

Tested RAM loaded, no longer reports missing message token.

Version 1.48. Tagged as 'BootCmds-1_48'
@
text
@d1 1
a1 1
/* (1.48)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.48
d9 1
a9 1
#define Module_Date_CMHG                06 Apr 2014
d11 2
a12 2
#define Module_MajorVersion             "1.48"
#define Module_Version                  148
d14 1
a14 1
#define Module_Date                     "06 Apr 2014"
d16 1
a16 1
#define Module_ApplicationDate          "06-Apr-14"
d21 3
a23 3
#define Module_FullVersion              "1.48"
#define Module_HelpVersion              "1.48 (06 Apr 2014)"
#define Module_LibraryVersionInfo       "1:48"
@


4.27
log
@Sync of CmdHelp
The non internationalised messages were out of sync with the messages, specifically the deprecated -stb switch. Updated from CmdHelp.

Version 1.47. Tagged as 'BootCmds-1_47'
@
text
@d1 1
a1 1
/* (1.47)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.47
d9 1
a9 1
#define Module_Date_CMHG                09 May 2013
d11 2
a12 2
#define Module_MajorVersion             "1.47"
#define Module_Version                  147
d14 1
a14 1
#define Module_Date                     "09 May 2013"
d16 1
a16 1
#define Module_ApplicationDate          "09-May-13"
d21 3
a23 3
#define Module_FullVersion              "1.47"
#define Module_HelpVersion              "1.47 (09 May 2013)"
#define Module_LibraryVersionInfo       "1:47"
@


4.26
log
@Change to the BootFX progress bar SWI call.

Version 0.06 of BootFX has a non-backwards-compatible change to the
BarUpdate SWI call. As BootCommands should be the only user right
now, that's not too bad.

Admin:

This version of BootCommands will not work correctly with versions
of BootFX older than 0.06 (the progress bar will not move).

Version 1.46. Tagged as 'BootCmds-1_46'
@
text
@d1 1
a1 1
/* (1.46)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.46
d9 1
a9 1
#define Module_Date_CMHG                10 Oct 2012
d11 2
a12 2
#define Module_MajorVersion             "1.46"
#define Module_Version                  146
d14 1
a14 1
#define Module_Date                     "10 Oct 2012"
d16 1
a16 1
#define Module_ApplicationDate          "10-Oct-12"
d21 3
a23 3
#define Module_FullVersion              "1.46"
#define Module_HelpVersion              "1.46 (10 Oct 2012)"
#define Module_LibraryVersionInfo       "1:46"
@


4.25
log
@Make *SaveCMOS cope better if the boot sequence hasn't been run
Detail:
  c/main - If running on RISC OS 5, *SaveCMOS will now guess at the correct Boot$OSVersion value if it hasn't been set by the boot sequence.
  This makes things easier for OMAP machines which are reliant on SDCMOS; unless the version number is present in the CMOS file the HAL won't pick up the CMOS values on the next boot, so it's important for the OS to be able to determine this value for itself to prevent people getting stuck in situations where boot isn't running and they can't get fixed CMOS settings saved due to lack of Boot$OSVersion
Admin:
  Tested on Pandora


Version 1.45. Tagged as 'BootCmds-1_45'
@
text
@d1 1
a1 1
/* (1.45)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.45
d9 1
a9 1
#define Module_Date_CMHG                30 Sep 2012
d11 2
a12 2
#define Module_MajorVersion             "1.45"
#define Module_Version                  145
d14 1
a14 1
#define Module_Date                     "30 Sep 2012"
d16 1
a16 1
#define Module_ApplicationDate          "30-Sep-12"
d21 3
a23 3
#define Module_FullVersion              "1.45"
#define Module_HelpVersion              "1.45 (30 Sep 2012)"
#define Module_LibraryVersionInfo       "1:45"
@


4.24
log
@Add support for progress indication and 'must continue' switch
* The switch '-stb' has existed for some time but is a bit obtuse, renamed to '-continue' (though -stb is still accepted as an alias).
* Added support for BootFX module, via switch '-progress start,range' which will scale the work done and work yet to do into a percentage and pass it to the BootFX module (intended to track boot progress).
* Trimmed out old switched out repeat command code that ran in SVC mode.
* Eliminate last trace of Support011 library, was only using the control terminated version of strlen() which is in ConfigLib (now linked against).
* Const qualifiers added to command handlers.

Version 1.44. Tagged as 'BootCmds-1_44'
@
text
@d1 1
a1 1
/* (1.44)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.44
d9 1
a9 1
#define Module_Date_CMHG                02 Sep 2012
d11 2
a12 2
#define Module_MajorVersion             "1.44"
#define Module_Version                  144
d14 1
a14 1
#define Module_Date                     "02 Sep 2012"
d16 1
a16 1
#define Module_ApplicationDate          "02-Sep-12"
d21 3
a23 3
#define Module_FullVersion              "1.44"
#define Module_HelpVersion              "1.44 (02 Sep 2012)"
#define Module_LibraryVersionInfo       "1:44"
@


4.23
log
@Makefile adapted to accept CMDHELP=None
* Recreated from fragments
* No longer creates two resource areas (one for Repeat, one for messages) since RESGEN can put many files into one area
* No longer does a ResourceFS register in the ROM case - the resources phase now exports both Repeat and messages directly into the messages module
* Corrected error number for BufOFlo (was using the token number!)
* Used newly allocated error base for all other errors
* Internationalised "Can't claim memory" in Repeat
* Fixed a couple of compiler warnings

Version 1.43. Tagged as 'BootCmds-1_43'
@
text
@d1 1
a1 1
/* (1.43)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.43
d9 1
a9 1
#define Module_Date_CMHG                21 Jul 2012
d11 2
a12 2
#define Module_MajorVersion             "1.43"
#define Module_Version                  143
d14 1
a14 1
#define Module_Date                     "21 Jul 2012"
d16 1
a16 1
#define Module_ApplicationDate          "21-Jul-12"
d21 3
a23 3
#define Module_FullVersion              "1.43"
#define Module_HelpVersion              "1.43 (21 Jul 2012)"
#define Module_LibraryVersionInfo       "1:43"
@


4.22
log
@Replace "-wipe" with "x wipe" in makefiles to remove annoying errors.

Version 1.42. Tagged as 'BootCmds-1_42'
@
text
@d1 1
a1 1
/* (1.42)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.42
d9 1
a9 1
#define Module_Date_CMHG                14 Jan 2012
d11 2
a12 2
#define Module_MajorVersion             "1.42"
#define Module_Version                  142
d14 1
a14 1
#define Module_Date                     "14 Jan 2012"
d16 1
a16 1
#define Module_ApplicationDate          "14-Jan-12"
d21 3
a23 3
#define Module_FullVersion              "1.42"
#define Module_HelpVersion              "1.42 (14 Jan 2012)"
#define Module_LibraryVersionInfo       "1:42"
@


4.21
log
@Yet another attempt at getting read-only booting working.

Spotted a missing part to the tweak which I made previously to this
module (canonicalising the directory name). Adding this means the
read-only boot sequence (in ResourceFS) works correctly - apart from
a final tweak in !Scrap, to be checked-in shortly.

Version 1.41. Tagged as 'BootCmds-1_41'
@
text
@d1 1
a1 1
/* (1.41)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.41
d9 1
a9 1
#define Module_Date_CMHG                09 Jan 2012
d11 2
a12 2
#define Module_MajorVersion             "1.41"
#define Module_Version                  141
d14 1
a14 1
#define Module_Date                     "09 Jan 2012"
d16 1
a16 1
#define Module_ApplicationDate          "09-Jan-12"
d21 3
a23 3
#define Module_FullVersion              "1.41"
#define Module_HelpVersion              "1.41 (09 Jan 2012)"
#define Module_LibraryVersionInfo       "1:41"
@


4.20
log
@Fix to the AddApp command.

If you attempt to AddApp an app which is already within Resources:$.Apps (but not
a subdirectory therein) it would create a stub with circular references, leading
to stack exhaustion. Fixed to take no action in this case (i.e. not to create the
stub).

Untested. Will be required for booting from ResourceFS.

Version 1.40. Tagged as 'BootCmds-1_40'
@
text
@d1 1
a1 1
/* (1.40)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.40
d9 1
a9 1
#define Module_Date_CMHG                12 Dec 2011
d11 2
a12 2
#define Module_MajorVersion             "1.40"
#define Module_Version                  140
d14 1
a14 1
#define Module_Date                     "12 Dec 2011"
d16 1
a16 1
#define Module_ApplicationDate          "12-Dec-11"
d21 3
a23 3
#define Module_FullVersion              "1.40"
#define Module_HelpVersion              "1.40 (12 Dec 2011)"
#define Module_LibraryVersionInfo       "1:40"
@


4.19
log
@  A couple of bugfixes
Detail:
  * *Repeat allows for command lines up to 1024 bytes (RISC OS 4+ standard)
    rather than 256 bytes
 * Fixed crash on *Repeat -sort
 * Uses OS_HeapSort32 rather than OS_HeapSort
Admin:
  Provided by Thomas Milius

Version 1.39. Tagged as 'BootCmds-1_39'
@
text
@d1 1
a1 1
/* (1.39)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.39
d9 1
a9 1
#define Module_Date_CMHG                19 Apr 2010
d11 2
a12 2
#define Module_MajorVersion             "1.39"
#define Module_Version                  139
d14 1
a14 1
#define Module_Date                     "19 Apr 2010"
d16 1
a16 1
#define Module_ApplicationDate          "19-Apr-10"
d21 3
a23 3
#define Module_FullVersion              "1.39"
#define Module_HelpVersion              "1.39 (19 Apr 2010)"
#define Module_LibraryVersionInfo       "1:39"
@


4.18
log
@  Merged in changes from Castle
Detail:
  Extended repeat dir enumeration buffer
  Field failures seen when too many entries in a directory
  It was set to a static buffer for 128 short filename entries.
  Now it'll retry with double the buffer up to 8 times before giving
  buffer overflow
Admin:
  Not tested. Version incremented by 3 to match Castle's version.

Version 1.38. Tagged as 'BootCmds-1_38'
@
text
@d1 1
a1 1
/* (1.38)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.38
d9 1
a9 1
#define Module_Date_CMHG                12 Oct 2008
d11 2
a12 2
#define Module_MajorVersion             "1.38"
#define Module_Version                  138
d14 1
a14 1
#define Module_Date                     "12 Oct 2008"
d16 1
a16 1
#define Module_ApplicationDate          "12-Oct-08"
d19 1
a19 1
#define Module_ComponentPath            "RiscOS/Sources/Programmer/BootCmds"
d21 3
a23 3
#define Module_FullVersion              "1.38"
#define Module_HelpVersion              "1.38 (12 Oct 2008)"
#define Module_LibraryVersionInfo       "1:38"
@


4.17
log
@  Corrected *Repeat help message
Detail:
  The *help message for *Repeat was indicating that 'tail' was a terminal
  symbol in the repeat command's syntax. It is actually a non-terminal
  so should be <tail>.
Admin:
  No code change.

Version 1.35. Tagged as 'BootCmds-1_35'
@
text
@d1 1
a1 1
/* (1.35)
d4 1
a4 1
 * Last processed by srccommit version: 1.2.
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.35
d9 1
a9 1
#define Module_Date_CMHG                15 Sep 2005
d11 2
a12 2
#define Module_MajorVersion             "1.35"
#define Module_Version                  135
d14 1
a14 1
#define Module_Date                     "15 Sep 2005"
d16 1
a16 1
#define Module_ApplicationDate          "15-Sep-05"
d21 3
a23 3
#define Module_FullVersion              "1.35"
#define Module_HelpVersion              "1.35 (15 Sep 2005)"
#define Module_LibraryVersionInfo       "1:35"
@


4.16
log
@   LoadCMOS and SaveCMOS commands updated to use whole of NV memory
Detail:
Admin:
  tested at castle
  castle added IP


Version 1.34. Tagged as 'BootCmds-1_34'
@
text
@d1 1
a1 1
/* (1.34)
d4 1
a4 1
 * Last processed by srccommit version: 1.68.
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.34
d9 1
a9 1
#define Module_Date_CMHG                06 Sep 2004
d11 2
a12 2
#define Module_MajorVersion             "1.34"
#define Module_Version                  134
d14 1
a14 1
#define Module_Date                     "06 Sep 2004"
d16 1
a16 1
#define Module_ApplicationDate          "06-Sep-04"
d21 3
a23 3
#define Module_FullVersion              "1.34"
#define Module_HelpVersion              "1.34 (06 Sep 2004)"
#define Module_LibraryVersionInfo       "1:34"
@


4.15
log
@  Repeat command made more robust in handling errors in the pre-desktop
  execution mode.
Detail:
  If -stb is supplied to the repeat command (and -tasks is not), it will
  put the first error it encounters into the system variable X$Error (if
  not already set) and then continue execution as normal.
Admin:
  I also updated the CmdHelp file to reflect not only this change, but
  also the -sort switch which was added quite some time ago and to make
  the X command help a little more helpful.

Version 1.33. Tagged as 'BootCmds-1_33'
@
text
@d1 1
a1 1
/* (1.33)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.33
d9 1
a9 1
#define Module_Date_CMHG                03 Sep 2004
d11 2
a12 2
#define Module_MajorVersion             "1.33"
#define Module_Version                  133
d14 1
a14 1
#define Module_Date                     "03 Sep 2004"
d16 1
a16 1
#define Module_ApplicationDate          "03-Sep-04"
d21 3
a23 3
#define Module_FullVersion              "1.33"
#define Module_HelpVersion              "1.33 (03 Sep 2004)"
#define Module_LibraryVersionInfo       "1:33"
@


4.14
log
@  Changed makefile to clean more quietly.
Admin:
  Tested in DB220S Baseline build.

Version 1.32. Tagged as 'BootCmds-1_32'
@
text
@d1 1
a1 1
/* (1.32)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.32
d9 1
a9 1
#define Module_Date_CMHG                11 Jul 2004
d11 2
a12 2
#define Module_MajorVersion             "1.32"
#define Module_Version                  132
d14 1
a14 1
#define Module_Date                     "11 Jul 2004"
d16 1
a16 1
#define Module_ApplicationDate          "11-Jul-04"
d21 3
a23 3
#define Module_FullVersion              "1.32"
#define Module_HelpVersion              "1.32 (11 Jul 2004)"
#define Module_LibraryVersionInfo       "1:32"
@


4.13
log
@Filetype was being set before the file closed in *SAVECMOS.

Version 1.31. Tagged as 'BootCmds-1_31'
@
text
@d1 1
a1 1
/* (1.31)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.31
d9 1
a9 1
#define Module_Date_CMHG                17 Mar 2003
d11 2
a12 2
#define Module_MajorVersion             "1.31"
#define Module_Version                  131
d14 1
a14 1
#define Module_Date                     "17 Mar 2003"
d16 1
a16 1
#define Module_ApplicationDate          "17-Mar-03"
d21 3
a23 3
#define Module_FullVersion              "1.31"
#define Module_HelpVersion              "1.31 (17 Mar 2003)"
#define Module_LibraryVersionInfo       "1:31"
@


4.12
log
@Addition of ShrinkRMA,AddToRMA,and Appslot.
Note the code for Appslot and Appsize is probably sufficiently similar
to allow Appsize to be deleted or aliased with Appslot.

Version 1.30. Tagged as 'BootCmds-1_30'
@
text
@d1 1
a1 1
/* (1.30)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.30
d9 1
a9 1
#define Module_Date_CMHG                26 Nov 2002
d11 2
a12 2
#define Module_MajorVersion             "1.30"
#define Module_Version                  130
d14 1
a14 1
#define Module_Date                     "26 Nov 2002"
d16 1
a16 1
#define Module_ApplicationDate          "26-Nov-02"
d21 3
a23 3
#define Module_FullVersion              "1.30"
#define Module_HelpVersion              "1.30 (26 Nov 2002)"
#define Module_LibraryVersionInfo       "1:30"
@


4.11
log
@Savecmos now appends a word representing Boot$OSVersion to the end of
the 240 byte configuration.
Loadcmos will now only load 240 byte configs on machines <= 370,and
will fault configs if the local Boot$OSVersion doesn't match that
stored at the end of the file,or if the checksum is wrong.
Most of the Loadcmos stuff is stolen from the old bootsequence util of
the same name.
Added 2 new error messages to the Messages file.

Version 1.29. Tagged as 'BootCmds-1_29'
@
text
@d1 1
a1 1
/* (1.29)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.29
d9 1
a9 1
#define Module_Date_CMHG                08 Nov 2002
d11 2
a12 2
#define Module_MajorVersion             "1.29"
#define Module_Version                  129
d14 1
a14 1
#define Module_Date                     "08 Nov 2002"
d16 1
a16 1
#define Module_ApplicationDate          "08-Nov-02"
d21 3
a23 3
#define Module_FullVersion              "1.29"
#define Module_HelpVersion              "1.29 (08 Nov 2002)"
#define Module_LibraryVersionInfo       "1:29"
@


4.10
log
@Addition of SaveCMOS command to complement LoadCMOS
Changes from KJB to stop BOOL warnings with C99 compiler

Version 1.28. Tagged as 'BootCmds-1_28'
@
text
@d1 1
a1 1
/* (1.28)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.28
d9 1
a9 1
#define Module_Date_CMHG                20 Oct 2002
d11 2
a12 2
#define Module_MajorVersion             "1.28"
#define Module_Version                  128
d14 1
a14 1
#define Module_Date                     "20 Oct 2002"
d16 1
a16 1
#define Module_ApplicationDate          "20-Oct-02"
d21 3
a23 3
#define Module_FullVersion              "1.28"
#define Module_HelpVersion              "1.28 (20 Oct 2002)"
#define Module_LibraryVersionInfo       "1:28"
@


4.9
log
@  Has a chance of building with cc 5.45.
Detail:
  Was defining structs for the block returned from OS_ReadArgs, but used
  bool types for switch arguments. Now that they are 1 byte wide, this was
  causing problems. Now replaced with osbool types, which should remain
  1 word wide.
Admin:
  Not tested.

Version 1.27. Tagged as 'BootCmds-1_27'
@
text
@d1 1
a1 1
/* (1.27)
d4 1
a4 1
 * Last processed by srccommit version: 1.64.
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.27
d9 1
a9 1
#define Module_Date_CMHG                05 Aug 2002
d11 2
a12 2
#define Module_MajorVersion             "1.27"
#define Module_Version                  127
d14 1
a14 1
#define Module_Date                     "05 Aug 2002"
d16 1
a16 2
#define Module_ApplicationDate2         "05-Aug-02"
#define Module_ApplicationDate4         "05-Aug-2002"
d21 3
a23 3
#define Module_FullVersion              "1.27"
#define Module_HelpVersion              "1.27 (05 Aug 2002)"
#define Module_LibraryVersionInfo       "1:27"
@


4.8
log
@  Explicitly include stdbool.h because this component uses bool
Admin:
  Might help it build.


Version 1.26. Tagged as 'BootCmds-1_26'
@
text
@d1 1
a1 1
/* (1.26)
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.26
d9 1
a9 1
#define Module_Date_CMHG                16 Jul 2002
d11 2
a12 2
#define Module_MajorVersion             "1.26"
#define Module_Version                  126
d14 1
a14 1
#define Module_Date                     "16 Jul 2002"
d16 2
a17 2
#define Module_ApplicationDate2         "16-Jul-02"
#define Module_ApplicationDate4         "16-Jul-2002"
d22 3
a24 3
#define Module_FullVersion              "1.26"
#define Module_HelpVersion              "1.26 (16 Jul 2002)"
#define Module_LibraryVersionInfo       "1:26"
@


4.7
log
@  * Added 'X' as a CLI command.
Detail:
  The 'X' command has existed for a long while as a transient utility in the
  !Internet application. I have impemented it as a CLI command in this module
  to reduce FS access required to use it. Note: this version of X implements
  the extended functionality of placing any suppressed error message into the
  system variable "X$Error" (if not already set).
Admin:
  Tested on RiscPC.

Version 1.25. Tagged as 'BootCmds-1_25'
@
text
@d1 1
a1 1
/* (1.25)
d4 1
a4 1
 * Last processed by srccommit version: 1.62.
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.25
d9 1
a9 1
#define Module_Date_CMHG                19 Mar 2002
d11 2
a12 2
#define Module_MajorVersion             "1.25"
#define Module_Version                  125
d14 1
a14 1
#define Module_Date                     "19 Mar 2002"
d16 2
a17 2
#define Module_ApplicationDate2         "19-Mar-02"
#define Module_ApplicationDate4         "19-Mar-2002"
d22 3
a24 3
#define Module_FullVersion              "1.25"
#define Module_HelpVersion              "1.25 (19 Mar 2002)"
#define Module_LibraryVersionInfo       "1:25"
@


4.6
log
@  Added install ram phase.
  Added stripdepnd to the !MkClean file.
Detail:
  You could not install a ram version of this module. Fixed.
Admin:
  Required for Baseline builds.

Version 1.24. Tagged as 'BootCmds-1_24'
@
text
@d1 1
a1 1
/* (1.24)
d4 1
a4 1
 * Last processed by srccommit version: 1.60.
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.24
d9 1
a9 1
#define Module_Date_CMHG                05 Nov 2001
d11 2
a12 2
#define Module_MajorVersion             "1.24"
#define Module_Version                  124
d14 1
a14 1
#define Module_Date                     "05 Nov 2001"
d16 2
a17 2
#define Module_ApplicationDate2         "05-Nov-01"
#define Module_ApplicationDate4         "05-Nov-2001"
d22 3
a24 3
#define Module_FullVersion              "1.24"
#define Module_HelpVersion              "1.24 (05 Nov 2001)"
#define Module_LibraryVersionInfo       "1:24"
@


4.5
log
@  Slight improvement to the *AddApp command.
Detail:
  The !Boot and !Run files which are created in ResourceFS contain a single
  line which will run the counterpart file in the added application. This
  line should really have %*0 on the end so that any parameters passed to
  the application's !Boot and more importantly to the !Run are passed on,
  rather than being lost.
Admin:
  Tested on RO4 RiscPC.

Version 1.23. Tagged as 'BootCmds-1_23'
@
text
@d1 1
a1 1
/* (1.23)
d4 1
d7 1
a7 1
#define Module_MajorVersion_CMHG        1.23
d9 1
a9 1
#define Module_Date_CMHG                20 Sep 2001
d11 2
a12 2
#define Module_MajorVersion             "1.23"
#define Module_Version                  123
d14 1
a14 1
#define Module_Date                     "20 Sep 2001"
d16 2
a17 2
#define Module_ApplicationDate2         "20-Sep-01"
#define Module_ApplicationDate4         "20-Sep-2001"
d22 3
a24 3
#define Module_FullVersion              "1.23"
#define Module_HelpVersion              "1.23 (20 Sep 2001)"
#define Module_LibraryVersionInfo       "1:23"
@


4.4
log
@  Changes the Repeat sources to add -sort parameter.
Detail:
  -sort will ensure that the objects iterated over are sorted into
  ascending ASCII order before the iteration. This is important for
  FS like NFS which does not return things in order.
Admin:
  Been used for ages in STB Baselines without problems.

Version 1.22. Tagged as 'BootCmds-1_22'
@
text
@d1 1
a1 1
/* (1.22)
d6 1
a6 1
#define Module_MajorVersion_CMHG        1.22
d8 1
a8 1
#define Module_Date_CMHG                20 Jul 2001
d10 2
a11 2
#define Module_MajorVersion             "1.22"
#define Module_Version                  122
d13 1
a13 1
#define Module_Date                     "20 Jul 2001"
d15 2
a16 2
#define Module_ApplicationDate2         "20-Jul-01"
#define Module_ApplicationDate4         "20-Jul-2001"
d21 3
a23 2
#define Module_FullVersion              "1.22"
#define Module_HelpVersion              "1.22 (20 Jul 2001)"
@


4.3
log
@  The output value for SWI XOS_ReadUnsigned should be treated as unsigned.
Detail:
  Fails to build with OSLib 6.21 since the prototype for this function
    has been fixed.  I've changed the type of the value to unsigned
    but always cast its address to void* for this API call to preserve
    compatibility with older versions of OSLib (which are broken)
Admin:
  Built on desktop machine.


Version 1.21. Tagged as 'BootCmds-1_21'
@
text
@d1 1
a1 1
/* (1.21)
d6 1
a6 1
#define Module_MajorVersion_CMHG        1.21
d8 1
a8 1
#define Module_Date_CMHG                22 Jun 2001
d10 2
a11 2
#define Module_MajorVersion             "1.21"
#define Module_Version                  121
d13 1
a13 1
#define Module_Date                     "22 Jun 2001"
d15 2
a16 2
#define Module_ApplicationDate2         "22-Jun-01"
#define Module_ApplicationDate4         "22-Jun-2001"
d21 2
a22 2
#define Module_FullVersion              "1.21"
#define Module_HelpVersion              "1.21 (22 Jun 2001)"
@


4.2
log
@  Fixed the layout of resources in this component.
Detail:
  The Messages and CmdHelp files are now located via LocalRes:
Admin:
  Change makes this module more standard.
  Module no longer requires special changes to support BBE.
  Tested briefly.

Version 1.20. Tagged as 'BootCmds-1_20'
@
text
@d1 1
a1 1
/* (1.20)
d6 1
a6 1
#define Module_MajorVersion_CMHG        1.20
d8 1
a8 1
#define Module_Date_CMHG                07 Dec 2000
d10 2
a11 2
#define Module_MajorVersion             "1.20"
#define Module_Version                  120
d13 1
a13 1
#define Module_Date                     "07 Dec 2000"
d15 2
a16 2
#define Module_ApplicationDate2         "07-Dec-00"
#define Module_ApplicationDate4         "07-Dec-2000"
d21 2
a22 2
#define Module_FullVersion              "1.20"
#define Module_HelpVersion              "1.20 (07 Dec 2000)"
@


4.1
log
@  Moved to srccommit.
  Fixed directory enumerators.
  Removed obsolete assembler sources.
Detail:
  s/main was the output of "cc -S c/main" :-/
Admin:
  Built.

Version 1.19. Tagged as 'BootCmds-1_19'
@
text
@d1 1
a1 1
/* (1.19)
d6 1
a6 1
#define Module_MajorVersion_CMHG        1.19
d8 1
a8 1
#define Module_Date_CMHG                30 Nov 1999
d10 2
a11 2
#define Module_MajorVersion             "1.19"
#define Module_Version                  119
d13 1
a13 1
#define Module_Date                     "30 Nov 1999"
d15 8
a22 1
#define Module_FullVersion              "1.19"
@

