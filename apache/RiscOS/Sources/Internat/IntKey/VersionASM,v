head	4.51;
access;
symbols
	IntKey-0_99:4.51
	IntKey-0_98-1:4.50
	IntKey-0_98:4.50
	IntKey-0_97:4.49
	IntKey-0_96:4.48
	IntKey-0_95:4.47
	IntKey-0_94:4.45
	IntKey-0_93:4.44
	IntKey-0_92:4.43
	IntKey-0_91:4.42
	IntKey-0_90:4.40
	RO_5_07:4.39
	IntKey-0_89:4.39
	IntKey-0_88:4.38
	IntKey-0_87:4.37
	IntKey-0_86:4.36
	IntKey-0_85:4.35
	IntKey-0_84:4.34
	IntKey-0_83:4.33
	IntKey-0_82:4.32
	IntKey-0_81:4.31
	IntKey-0_80:4.30
	IntKey-0_79:4.29
	IntKey-0_78:4.28
	IntKey-0_77:4.27
	IntKey-0_76:4.26
	dellis_autobuild_BaseSW:4.25
	IntKey-0_75:4.25
	IntKey-0_74:4.24
	IntKey-0_73:4.23
	IntKey-0_72:4.22
	IntKey-0_71:4.21
	sbrodie_sedwards_16Mar2000:4.20
	IntKey-0_70:4.20
	dcotton_autobuild_BaseSW:4.30
	IntKey-0_69:4.19
	IntKey-0_68:4.18
	IntKey-0_67:4.17
	IntKey-0_66:4.16
	IntKey-0_65:4.15
	IntKey-0_64:4.14
	IntKey-0_63:4.13
	IntKey-0_62:4.12
	IntKey-0_61:4.11
	IntKey-0_60:4.10
	IntKey-0_59:4.9
	IntKey-0_58:4.8
	IntKey-0_57:4.7
	IntKey-0_56:4.6
	IntKey-0_55:4.5
	IntKey-0_54:4.4
	IntKey-0_53:4.3
	IntKey-0_52:4.2;
locks; strict;
comment	@# @;


4.51
date	2018.01.21.09.33.09;	author rsprowson;	state Exp;
branches;
next	4.50;
commitid	bZ0A71UCujpfZInA;

4.50
date	2014.11.22.13.24.49;	author rsprowson;	state Exp;
branches;
next	4.49;
commitid	20YFBELqseKvqbZx;

4.49
date	2013.04.01.20.00.09;	author rsprowson;	state Exp;
branches;
next	4.48;
commitid	7vryqOpRuliST6Kw;

4.48
date	2013.03.14.00.32.18;	author jlee;	state Exp;
branches;
next	4.47;
commitid	OErZtZ5Vmdv61HHw;

4.47
date	2012.12.05.01.40.17;	author jlee;	state Exp;
branches;
next	4.46;
commitid	XFeMFw6wUN4JzYuw;

4.46
date	2012.11.04.23.03.53;	author bavison;	state Exp;
branches;
next	4.45;
commitid	ge9CRMOtjqlRF6rw;

4.45
date	2012.01.27.21.02.01;	author rsprowson;	state Exp;
branches;
next	4.44;
commitid	0VkxIXhraOe34RQv;

4.44
date	2012.01.14.18.33.06;	author srevill;	state Exp;
branches;
next	4.43;
commitid	8dqQJVQ8qo3SEaPv;

4.43
date	2011.08.04.21.52.55;	author jlee;	state Exp;
branches;
next	4.42;
commitid	q6QwMxT5fQlg0fuv;

4.42
date	2010.01.19.17.10.28;	author rool;	state Exp;
branches;
next	4.41;

4.41
date	2009.06.13.23.16.50;	author bavison;	state Exp;
branches;
next	4.40;

4.40
date	2005.07.18.14.40.37;	author kbracey;	state Exp;
branches;
next	4.39;

4.39
date	2004.07.01.14.55.01;	author srevill;	state Exp;
branches;
next	4.38;

4.38
date	2002.11.28.16.29.56;	author bavison;	state Exp;
branches;
next	4.37;

4.37
date	2002.01.25.10.40.34;	author kbracey;	state Exp;
branches;
next	4.36;

4.36
date	2001.12.06.15.21.53;	author kbracey;	state Exp;
branches;
next	4.35;

4.35
date	2001.12.04.15.56.04;	author asadhu;	state Exp;
branches;
next	4.34;

4.34
date	2001.12.03.16.15.39;	author asadhu;	state Exp;
branches;
next	4.33;

4.33
date	2001.11.28.13.17.34;	author asadhu;	state Exp;
branches;
next	4.32;

4.32
date	2001.11.27.16.57.57;	author kbracey;	state Exp;
branches;
next	4.31;

4.31
date	2001.11.05.17.55.04;	author srevill;	state Exp;
branches;
next	4.30;

4.30
date	2001.06.14.16.08.36;	author sbrodie;	state Exp;
branches;
next	4.29;

4.29
date	2001.03.22.16.37.01;	author sbrodie;	state Exp;
branches;
next	4.28;

4.28
date	2001.01.02.10.30.40;	author dcotton;	state Exp;
branches;
next	4.27;

4.27
date	2000.11.21.17.39.32;	author sforrest;	state Exp;
branches;
next	4.26;

4.26
date	2000.11.02.13.06.00;	author sforrest;	state Exp;
branches;
next	4.25;

4.25
date	2000.07.25.09.12.54;	author kbracey;	state Exp;
branches;
next	4.24;

4.24
date	2000.06.26.11.41.29;	author kbracey;	state Exp;
branches;
next	4.23;

4.23
date	2000.06.21.09.51.02;	author sforrest;	state Exp;
branches;
next	4.22;

4.22
date	2000.06.09.14.38.56;	author kbracey;	state Exp;
branches;
next	4.21;

4.21
date	2000.04.28.13.06.56;	author kbracey;	state Exp;
branches;
next	4.20;

4.20
date	99.10.12.16.28.08;	author sforrest;	state Exp;
branches;
next	4.19;

4.19
date	99.09.16.16.12.03;	author kbracey;	state Exp;
branches;
next	4.18;

4.18
date	99.09.16.15.21.39;	author kbracey;	state Exp;
branches;
next	4.17;

4.17
date	99.09.16.14.19.58;	author kbracey;	state Exp;
branches;
next	4.16;

4.16
date	99.09.10.10.26.33;	author sforrest;	state Exp;
branches;
next	4.15;

4.15
date	99.08.26.15.22.44;	author sforrest;	state Exp;
branches;
next	4.14;

4.14
date	99.04.27.11.13.06;	author kbracey;	state Exp;
branches;
next	4.13;

4.13
date	99.04.26.11.24.33;	author kbracey;	state Exp;
branches;
next	4.12;

4.12
date	99.03.22.13.39.01;	author nbingham;	state Exp;
branches;
next	4.11;

4.11
date	99.03.02.17.05.38;	author kbracey;	state Exp;
branches;
next	4.10;

4.10
date	99.03.02.11.46.44;	author kbracey;	state Exp;
branches;
next	4.9;

4.9
date	99.02.17.08.59.43;	author kbracey;	state Exp;
branches;
next	4.8;

4.8
date	98.11.11.12.24.02;	author kbracey;	state Exp;
branches;
next	4.7;

4.7
date	98.11.09.10.57.26;	author kbracey;	state Exp;
branches;
next	4.6;

4.6
date	98.10.22.14.28.07;	author kbracey;	state Exp;
branches;
next	4.5;

4.5
date	98.10.20.15.49.53;	author kbracey;	state Exp;
branches;
next	4.4;

4.4
date	98.10.16.12.49.05;	author kbracey;	state Exp;
branches;
next	4.3;

4.3
date	98.10.09.15.17.21;	author kbracey;	state Exp;
branches;
next	4.2;

4.2
date	98.10.07.10.41.28;	author kbracey;	state Exp;
branches;
next	4.1;

4.1
date	98.10.07.10.32.12;	author kbracey;	state Exp;
branches;
next	;


desc
@@


4.51
log
@Fix ideograph range check and a couple of resource leaks
unicdata.c: condition changed to match unictype_is_ideograph() in UnicodeLib
keygen.c: free kb
keyconvert.c: free memory and close files on exit (the C environment would do this anyway, but this makes it explicit)
Picked up by static analysis
  https://www.riscosopen.org/forum/forums/4/topics/9503#posts-72623

Version 0.99. Tagged as 'IntKey-0_99'
@
text
@;
; This file is automatically maintained by srccommit, do not edit manually.
; Last processed by srccommit version: 1.1.
;
                        GBLS    Module_MajorVersion
                        GBLA    Module_Version
                        GBLS    Module_MinorVersion
                        GBLS    Module_Date
                        GBLS    Module_FullVersion
                        GBLS    Module_ApplicationDate
                        GBLS    Module_HelpVersion
                        GBLS    Module_ComponentName
                        GBLS    Module_ComponentPath
Module_MajorVersion     SETS    "0.99"
Module_Version          SETA    99
Module_MinorVersion     SETS    ""
Module_Date             SETS    "21 Jan 2018"
Module_ApplicationDate  SETS    "21-Jan-18"
Module_ComponentName    SETS    "IntKey"
Module_ComponentPath    SETS    "castle/RiscOS/Sources/Internat/IntKey"
Module_FullVersion      SETS    "0.99"
Module_HelpVersion      SETS    "0.99 (21 Jan 2018)"
                        END
@


4.50
log
@Build fix
Would fail to build with anything other than Keyboard=All since the Pandora key table is only included in that case, yet the code refers to it unconditionally.
Wrapped Pandora bits with Keyboard=All switch.
Tested briefly in an IOMD ROM with Keyboard=UK.

Version 0.98. Tagged as 'IntKey-0_98'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.98"
Module_Version          SETA    98
d17 2
a18 2
Module_Date             SETS    "22 Nov 2014"
Module_ApplicationDate  SETS    "22-Nov-14"
d21 2
a22 2
Module_FullVersion      SETS    "0.98"
Module_HelpVersion      SETS    "0.98 (22 Nov 2014)"
@


4.49
log
@Correction to addressing mode in NoARMv4 case
Given the context, post indexed rather than post increment was intended.

Version 0.97. Tagged as 'IntKey-0_97'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.97"
Module_Version          SETA    97
d17 2
a18 2
Module_Date             SETS    "01 Apr 2013"
Module_ApplicationDate  SETS    "01-Apr-13"
d21 2
a22 2
Module_FullVersion      SETS    "0.97"
Module_HelpVersion      SETS    "0.97 (01 Apr 2013)"
@


4.48
log
@Fix data aborts when handling dead keys
Detail:
  Source/IntKeyBody - Re-introduce the ALIGN directive that went AWOL in v0.95 of the module. Without this the first symbol in the next file (AccentTable from Source.Accents) isn't properly aligned, causing data aborts either when looking up AccentTable entries or when trying to use the results.
Admin:
  Tested on BB-xM
  Fixes issue reported on forums with dead keys causing aborts with the Netherlands keyboard layout:
  http://www.riscosopen.org/forum/forums/1/topics/1749?page=1#posts-20977


Version 0.96. Tagged as 'IntKey-0_96'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.96"
Module_Version          SETA    96
d17 2
a18 2
Module_Date             SETS    "14 Mar 2013"
Module_ApplicationDate  SETS    "14-Mar-13"
d21 2
a22 2
Module_FullVersion      SETS    "0.96"
Module_HelpVersion      SETS    "0.96 (14 Mar 2013)"
@


4.47
log
@Add support for the new 'wide' key handler format. Add support for keyboard types which have fundamentally different layouts to PC/Arc. Add a basic (UK) layout for the Pandora.
Detail:
  Doc/FileFormat, Doc/HandlerAPI - Updated docs with information about the new key handler format, and how to invoke it in layout files.
  c/keygen, c/unicdata, h/structures - Give keygen a bit of a tidy up. Add support for the new '$Type' directive to allow the keyboard type to be specified (to ensure correct intkey table is used, unique symbol names when the same country is supported by multiple keyboard types, etc.). Add support for the new key handler format.
  Sources/IntKeyBody, Sources/IntKeyMod, Sources/KeyStruct - Tidy up the code a bit to use key handler layout and key/OS_Byte numbers from Hdr:. Add support for the new key handler format, and for the new way keygen generates the layout files.
  layout/Pandora, Makefile, Sources/IntKeyBody, Sources/IntKeyMod, Sources/KeyStruct - Add a layout file for the Pandora, and modify IntKey to use different sets of layout files depending on the keyboard type.
Admin:
  New key handler format tested on Pandora. Old format tested on Pandora & BB-xM.
  Requires HdrSrc-2_20


Version 0.95. Tagged as 'IntKey-0_95'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.95"
Module_Version          SETA    95
d17 2
a18 2
Module_Date             SETS    "05 Dec 2012"
Module_ApplicationDate  SETS    "05-Dec-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.95"
Module_HelpVersion      SETS    "0.95 (05 Dec 2012)"
@


4.46
log
@  Updates to comments describing the internal (OS_Byte) key numbers
Detail:
  * Corrected low-level key number for keypad-minus from &39 to &3A
  * Distinguished Return from Enter
  * Internal key number 72 (:) was incorrectly identified as the preferred
    scan code for low-level key &45 rather than 87 (;). Justification:
    (a) common sense (in all other cases it's the characters generated by the
        un-shifted key in the UK layout that's used to determine the mapping);
    (b) this agrees with the RISC OS 2 PRM (vol 2 page 479) which specifies
        which internal key code is the compatibility one. Compare that with
        the RISC OS 3 PRM which shows them graphically with no indication of
        which is the compatibility code. Unless you also have access to the
        key table for the BBC micro, it's otherwise hard to determine which
        code is which!
Admin:
  No code changes, so not tagged

Version 0.94. Not tagged
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.94"
Module_Version          SETA    94
d17 2
a18 2
Module_Date             SETS    "04 Nov 2012"
Module_ApplicationDate  SETS    "04-Nov-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.94"
Module_HelpVersion      SETS    "0.94 (04 Nov 2012)"
@


4.45
log
@Updated to use central headers for allocated keyboards.
Removed 'Ursula' switch, since the magic service call table works prior to that anyway.
Requires HdrSrc-1_95.

Version 0.94. Tagged as 'IntKey-0_94'
@
text
@d17 2
a18 2
Module_Date             SETS    "27 Jan 2012"
Module_ApplicationDate  SETS    "27-Jan-12"
d22 1
a22 1
Module_HelpVersion      SETS    "0.94 (27 Jan 2012)"
@


4.44
log
@Makefile fixes.

Version 0.93. Tagged as 'IntKey-0_93'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.93"
Module_Version          SETA    93
d17 2
a18 2
Module_Date             SETS    "14 Jan 2012"
Module_ApplicationDate  SETS    "14-Jan-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.93"
Module_HelpVersion      SETS    "0.93 (14 Jan 2012)"
@


4.43
log
@Update to work with zero page relocation
Detail:
  Source/IntKeyBody - Try using OS_ReadSysInfo 6 to get the location of the OS_Byte variables before falling back on OS_Byte &A6
Admin:
  Tested on rev A2 BB-xM


Version 0.92. Tagged as 'IntKey-0_92'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.92"
Module_Version          SETA    92
d17 2
a18 2
Module_Date             SETS    "04 Aug 2011"
Module_ApplicationDate  SETS    "04-Aug-11"
d21 2
a22 2
Module_FullVersion      SETS    "0.92"
Module_HelpVersion      SETS    "0.92 (04 Aug 2011)"
@


4.42
log
@Incremented version number, no other change.
Previous changes were untagged, but incrementing the version number gives
us a tag we can associate with the official RISC OS 5.16 release.

Version 0.91. Tagged as 'IntKey-0_91'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.91"
Module_Version          SETA    91
d17 2
a18 2
Module_Date             SETS    "19 Jan 2010"
Module_ApplicationDate  SETS    "19-Jan-10"
d21 2
a22 2
Module_FullVersion      SETS    "0.91"
Module_HelpVersion      SETS    "0.91 (19 Jan 2010)"
@


4.41
log
@  Build fix
Detail:
  The build utilities keygen and keyconvert, compiled at build time, are now
  built using the HostTools shared makefile, and so will execute on any RISC OS
  build host even if the default compiler options are to target an incompatible
  ARM architecture. An attempt had already been made in this case to support a
  differing host architecture but the implementation was broken.
Admin:
  Tested using an APCS-R build on an Iyonix.

Version 0.90. Not tagged
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.90"
Module_Version          SETA    90
d17 2
a18 2
Module_Date             SETS    "14 Jun 2009"
Module_ApplicationDate  SETS    "14-Jun-09"
d21 2
a22 2
Module_FullVersion      SETS    "0.90"
Module_HelpVersion      SETS    "0.90 (14 Jun 2009)"
@


4.40
log
@Fixed top-left key of DvorakUSA layout (had "not sign" instead of "tilde").

Version 0.90. Tagged as 'IntKey-0_90'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.2.
d17 2
a18 2
Module_Date             SETS    "18 Jul 2005"
Module_ApplicationDate  SETS    "18-Jul-05"
d20 1
a20 1
Module_ComponentPath    SETS    "RiscOS/Sources/Internat/IntKey"
d22 1
a22 1
Module_HelpVersion      SETS    "0.90 (18 Jul 2005)"
@


4.39
log
@  Makefile change.
Detail:
  Even if you're using a 26-bit build environment, this will build
  on a 32-bit machine.
Admin:
  Works in Baseline 500 build.

Version 0.89. Tagged as 'IntKey-0_89'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.68.
d14 2
a15 2
Module_MajorVersion     SETS    "0.89"
Module_Version          SETA    89
d17 2
a18 2
Module_Date             SETS    "01 Jul 2004"
Module_ApplicationDate  SETS    "01-Jul-04"
d21 2
a22 2
Module_FullVersion      SETS    "0.89"
Module_HelpVersion      SETS    "0.89 (01 Jul 2004)"
@


4.38
log
@Turned off PC Delete option.
Added some 2- or 3-year old files that were sitting on Kevin's hard disc.

Version 0.88. Tagged as 'IntKey-0_88'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.88"
Module_Version          SETA    88
d17 2
a18 2
Module_Date             SETS    "28 Nov 2002"
Module_ApplicationDate  SETS    "28-Nov-02"
d21 2
a22 2
Module_FullVersion      SETS    "0.88"
Module_HelpVersion      SETS    "0.88 (28 Nov 2002)"
@


4.37
log
@SPACE changed to IDEOGRAPHIC SPACE in Bopomofo layer of Taiwanese layout.

Version 0.87. Tagged as 'IntKey-0_87'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.62.
d10 1
a10 2
                        GBLS    Module_ApplicationDate2
                        GBLS    Module_ApplicationDate4
d14 2
a15 2
Module_MajorVersion     SETS    "0.87"
Module_Version          SETA    87
d17 2
a18 3
Module_Date             SETS    "25 Jan 2002"
Module_ApplicationDate2 SETS    "25-Jan-02"
Module_ApplicationDate4 SETS    "25-Jan-2002"
d21 2
a22 2
Module_FullVersion      SETS    "0.87"
Module_HelpVersion      SETS    "0.87 (25 Jan 2002)"
@


4.36
log
@First pass at a Taiwanese (Zhuyin) layout.

Version 0.86. Tagged as 'IntKey-0_86'
@
text
@d3 1
d15 2
a16 2
Module_MajorVersion     SETS    "0.86"
Module_Version          SETA    86
d18 3
a20 3
Module_Date             SETS    "06 Dec 2001"
Module_ApplicationDate2 SETS    "06-Dec-01"
Module_ApplicationDate4 SETS    "06-Dec-2001"
d23 2
a24 2
Module_FullVersion      SETS    "0.86"
Module_HelpVersion      SETS    "0.86 (06 Dec 2001)"
@


4.35
log
@  Further changes for kareoke keys.

Detail:
  Re mapped Scroll Lock and Num Lock keymap EB EC to Shift-F5 Shisft-F6 respectively on third party keyboard.

Admin:
  Compiles.


Version 0.85. Tagged as 'IntKey-0_85'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.85"
Module_Version          SETA    85
d17 3
a19 3
Module_Date             SETS    "04 Dec 2001"
Module_ApplicationDate2 SETS    "04-Dec-01"
Module_ApplicationDate4 SETS    "04-Dec-2001"
d22 2
a23 2
Module_FullVersion      SETS    "0.85"
Module_HelpVersion      SETS    "0.85 (04 Dec 2001)"
@


4.34
log
@  Changes for swapping channel up down.
Detail:
  Changed third party mapping for channel up down.
Admin:
  Not tested.


Version 0.84. Tagged as 'IntKey-0_84'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.84"
Module_Version          SETA    84
d17 3
a19 3
Module_Date             SETS    "03 Dec 2001"
Module_ApplicationDate2 SETS    "03-Dec-01"
Module_ApplicationDate4 SETS    "03-Dec-2001"
d22 2
a23 2
Module_FullVersion      SETS    "0.84"
Module_HelpVersion      SETS    "0.84 (03 Dec 2001)"
@


4.33
log
@  Additional files for WhaCom keyboards.
Detail:
  Added extra keys include file and make file for WhaCom keyboards
Admin:


Version 0.83. Tagged as 'IntKey-0_83'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.83"
Module_Version          SETA    83
d17 3
a19 3
Module_Date             SETS    "28 Nov 2001"
Module_ApplicationDate2 SETS    "28-Nov-01"
Module_ApplicationDate4 SETS    "28-Nov-2001"
d22 2
a23 2
Module_FullVersion      SETS    "0.83"
Module_HelpVersion      SETS    "0.83 (28 Nov 2001)"
@


4.32
log
@Added Korean layout. If you don't have a real Korean keyboard, Alt+Num-Lock
acts as Hangul Lock, and Alt+Space (in the Hangul layer) acts as convert.

Version 0.82. Tagged as 'IntKey-0_82'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.82"
Module_Version          SETA    82
d17 3
a19 3
Module_Date             SETS    "27 Nov 2001"
Module_ApplicationDate2 SETS    "27-Nov-01"
Module_ApplicationDate4 SETS    "27-Nov-2001"
d22 2
a23 2
Module_FullVersion      SETS    "0.82"
Module_HelpVersion      SETS    "0.82 (27 Nov 2001)"
@


4.31
log
@  Added install ram phase.
Detail:
  You could not install a ram version of this module. Fixed.
Admin:
  Required for Baseline builds.

Version 0.81. Tagged as 'IntKey-0_81'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.81"
Module_Version          SETA    81
d17 3
a19 3
Module_Date             SETS    "05 Nov 2001"
Module_ApplicationDate2 SETS    "05-Nov-01"
Module_ApplicationDate4 SETS    "05-Nov-2001"
d22 2
a23 2
Module_FullVersion      SETS    "0.81"
Module_HelpVersion      SETS    "0.81 (05 Nov 2001)"
@


4.30
log
@  Some bugfixes for keygen and keyconvert, discovered by gcc.
  Temporary GNUmakefile added containing UNIX build system.
Detail:
  gcc complained about returning the address of a local variable as
    a function result in both keygen and keyconvert.  The two variables
    concerned have now been made static like they should have been.
    Unlikely to have caused much aggravation, but only through luck.
  The Keyboard data structure has been updated to explicitly use an
    unsigned char in some places.  This is necessary for systems on
    which char is signed by default.
  The GNUmakefile is a temporary addition until native tool support can
    be sorted out.  In the xriscos environment, do "make links" and
    then "make rom" to build the module.  "make clean" will remove all
    the built stuff and the symbolic links.  Requires access to the
    exported Unicode library files.  keyconvert is built, but will not
    work for the obvious reason that it calls SWIs.
Admin:
  GNUmakefile will be removed at a later date - it's only temporary.
  Tested - builds the same module (for Keyboard=All, Machine=Phoebe)
    byte-identically.


Version 0.80. Tagged as 'IntKey-0_80'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.80"
Module_Version          SETA    80
d17 3
a19 3
Module_Date             SETS    "14 Jun 2001"
Module_ApplicationDate2 SETS    "14-Jun-01"
Module_ApplicationDate4 SETS    "14-Jun-2001"
d22 2
a23 2
Module_FullVersion      SETS    "0.80"
Module_HelpVersion      SETS    "0.80 (14 Jun 2001)"
@


4.29
log
@  Tidied Makefile.
Admin:
  Built.

Version 0.79. Tagged as 'IntKey-0_79'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.79"
Module_Version          SETA    79
d17 3
a19 3
Module_Date             SETS    "22 Mar 2001"
Module_ApplicationDate2 SETS    "22-Mar-01"
Module_ApplicationDate4 SETS    "22-Mar-2001"
d22 2
a23 2
Module_FullVersion      SETS    "0.79"
Module_HelpVersion      SETS    "0.79 (22 Mar 2001)"
@


4.28
log
@    KeyGen utility now links against CLib rather than ANSILib.

Detail:
    IntKey would not build correctly on machines that build only
SharedCLibrary instead of SharedRISC_OSLib because of ANSILib not being
exported.
    KeyGen was linked against AnsiLib instead of CLib due to a bug in the
qsort() alogrithm that caused highly undesirable consequences with large data
sets.
    Since this bug has been fixed in the latest versions of the C Library, it
now links against the C Library once more.

Admin:
    Tested in a build.
    Note that you must have the latest 32-bit compatible version of the C
Library (5.18) present on the build machine for this to compile.

Version 0.78. Tagged as 'IntKey-0_78'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.78"
Module_Version          SETA    78
d17 3
a19 3
Module_Date             SETS    "02 Jan 2001"
Module_ApplicationDate2 SETS    "02-Jan-01"
Module_ApplicationDate4 SETS    "02-Jan-2001"
d22 2
a23 2
Module_FullVersion      SETS    "0.78"
Module_HelpVersion      SETS    "0.78 (02 Jan 2001)"
@


4.27
log
@
  * South African keyboard layout added.

Detail:

  * South Africa utilises a standard USA layout.  IntKey now recognises
    this, and supports "*Keyboard SAfrica".

  * New layout DrawFile created that describes the South African layout.

  * StripDepnd support added to makefile.

Admin:

  * Assembled and tested on RPC.

Version 0.77. Tagged as 'IntKey-0_77'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.77"
Module_Version          SETA    77
d17 3
a19 3
Module_Date             SETS    "21 Nov 2000"
Module_ApplicationDate2 SETS    "21-Nov-00"
Module_ApplicationDate4 SETS    "21-Nov-2000"
d22 2
a23 2
Module_FullVersion      SETS    "0.77"
Module_HelpVersion      SETS    "0.77 (21 Nov 2000)"
@


4.26
log
@
  * Fixed problems with keys generating lower-case characters when
    Caps Lock is active.

Detail:

  * Faults were found in the Spanish and Welsh layouts.  In particular,
    'Q' on a Spanish layout would generate a lower-case version when
    Caps Lock was active.  And Welsh layouts had a similar fault with
    'Alt' + 'O'.  Now corrected.

Admin:

  * Fault noted in Bethany software.

  * Built and tested on a Risc PC.

Version 0.76. Tagged as 'IntKey-0_76'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.76"
Module_Version          SETA    76
d17 3
a19 3
Module_Date             SETS    "02 Nov 2000"
Module_ApplicationDate2 SETS    "02-Nov-00"
Module_ApplicationDate4 SETS    "02-Nov-2000"
d22 2
a23 2
Module_FullVersion      SETS    "0.76"
Module_HelpVersion      SETS    "0.76 (02 Nov 2000)"
@


4.25
log
@Minor corrections to France and Spain layouts (dead accent shuffling).

Version 0.75. Tagged as 'IntKey-0_75'
@
text
@d11 5
a15 2
Module_MajorVersion     SETS    "0.75"
Module_Version          SETA    75
d17 7
a23 4
Module_Date             SETS    "25 Jul 2000"
Module_ApplicationDate2 SETS    "25-Jul-00"
Module_ApplicationDate4 SETS    "25-Jul-2000"
Module_FullVersion      SETS    "0.75"
@


4.24
log
@  Fix to hexadecimal character entry.

Detail:
  If an alphabetic key was a "simple" key (eg E on the UK layout), then it
  wouldn't work as a hex digit during hexadecimal keypad entry. This bug has
  been in since the start of hexadecimal entry, but only came to light when
  the Euro sign moved away from Alt+E.

Version 0.74. Tagged as 'IntKey-0_74'
@
text
@d11 2
a12 2
Module_MajorVersion     SETS    "0.74"
Module_Version          SETA    74
d14 4
a17 4
Module_Date             SETS    "26 Jun 2000"
Module_ApplicationDate2 SETS    "26-Jun-00"
Module_ApplicationDate4 SETS    "26-Jun-2000"
Module_FullVersion      SETS    "0.74"
@


4.23
log
@
  * Corrected a mistake in the Turkish-QWERTY layout.

Detail:

  * The horizontal ellipsis was misplaced (when compared to the drawfile
    documentation).  Instead of being placed on the comma/semi-colon
    key, it should have been on the full-stop/colon key.  Now corrected.

Admin:

  * Tested.

Version 0.73. Tagged as 'IntKey-0_73'
@
text
@d11 2
a12 2
Module_MajorVersion     SETS    "0.73"
Module_Version          SETA    73
d14 4
a17 4
Module_Date             SETS    "21 Jun 2000"
Module_ApplicationDate2 SETS    "21-Jun-00"
Module_ApplicationDate4 SETS    "21-Jun-2000"
Module_FullVersion      SETS    "0.73"
@


4.22
log
@Minor revisions to Italian and Turkish layouts.
Turkey2 layout created - traditional(?) FGGIOD layout. Not linked in, but
there if anyone wants it.

Version 0.72. Tagged as 'IntKey-0_72'
@
text
@d11 2
a12 2
Module_MajorVersion     SETS    "0.72"
Module_Version          SETA    72
d14 4
a17 4
Module_Date             SETS    "09 Jun 2000"
Module_ApplicationDate2 SETS    "09-Jun-00"
Module_ApplicationDate4 SETS    "09-Jun-2000"
Module_FullVersion      SETS    "0.72"
@


4.21
log
@32-bit compatible.
FN key change broke hexadecimal keypad entry - now fixed.

Version 0.71. Tagged as 'IntKey-0_71'
@
text
@d9 4
a12 2
Module_MajorVersion     SETS    "0.71"
Module_Version          SETA    71
d14 4
a17 2
Module_Date             SETS    "28 Apr 2000"
Module_FullVersion      SETS    "0.71"
@


4.20
log
@Updated key mappings to match the latest specifications from
third parties.

Version 0.70. Tagged as 'IntKey-0_70'
@
text
@d4 10
a13 10
			GBLS	Module_MajorVersion
			GBLA    Module_Version
			GBLS	Module_MinorVersion
			GBLS	Module_Date
			GBLS	Module_FullVersion
Module_MajorVersion	SETS    "0.70"
Module_Version          SETA    70
Module_MinorVersion	SETS	""
Module_Date		SETS    "12 Oct 1999"
Module_FullVersion      SETS    "0.70"
@


4.19
log
@keygen now built with ANSILib instead of Stubs to cope with buggy old qsorts
in old shared C libraries.

Version 0.69. Tagged as 'IntKey-0_69'
@
text
@d9 2
a10 2
Module_MajorVersion	SETS    "0.69"
Module_Version          SETA    69
d12 2
a13 2
Module_Date		SETS    "16 Sep 1999"
Module_FullVersion      SETS    "0.69"
@


4.18
log
@Corrected filename reference to UniData.

Version 0.68. Tagged as 'IntKey-0_68'
@
text
@d9 2
a10 2
Module_MajorVersion	SETS    "0.68"
Module_Version          SETA    68
d13 1
a13 1
Module_FullVersion      SETS    "0.68"
@


4.17
log
@Dead-key tables extended as per Unicode 3.0.
Unicode 3.0 character database imported.
Switzerland layout now includes @@FNKey@@ (missed on previous check-in).

Version 0.67. Tagged as 'IntKey-0_67'
@
text
@d9 2
a10 2
Module_MajorVersion	SETS    "0.67"
Module_Version          SETA    67
d13 1
a13 1
Module_FullVersion      SETS    "0.67"
@


4.16
log
@Added support for Euro sign to third party keyboard layout. The
Euro may be obtained by using <Function> + <O>, as specified in
the third party-specific documentation.  The Euro sign must
be available in the font, otherwise it will not be displayed.

Version 0.66. Tagged as 'IntKey-0_66'
@
text
@d9 2
a10 2
Module_MajorVersion	SETS    "0.66"
Module_Version          SETA    66
d12 2
a13 2
Module_Date		SETS    "10 Sep 1999"
Module_FullVersion      SETS    "0.66"
@


4.15
log
@"FN" key support added by K. Bracey. Special keyboard mappings
defined and included by S. Forrest.

Both changes made in order to support a third
party handset.

Tested on a Risc PC against V0.02 of the RCMM Driver.

Version 0.65. Tagged as 'IntKey-0_65'
@
text
@d9 2
a10 2
Module_MajorVersion	SETS    "0.65"
Module_Version          SETA    65
d12 2
a13 2
Module_Date		SETS    "26 Aug 1999"
Module_FullVersion      SETS    "0.65"
@


4.14
log
@Moved euro sign to Alt-4 on UK and UK-based layouts. This involved
moving the vulgar fractions to Alt-7,8,9.
Double upwards arrow (symbol for Shift on menus) added to assorted layouts,
as per diagrams. This still won't work in any alphabets other than UTF-8
because the International module doesn't recognise that character as being
in the official alphabets.

Version 0.64. Tagged as 'IntKey-0_64'
@
text
@d9 2
a10 2
Module_MajorVersion	SETS    "0.64"
Module_Version          SETA    64
d12 2
a13 2
Module_Date		SETS    "27 Apr 1999"
Module_FullVersion      SETS    "0.64"
@


4.13
log
@Added ability to override modifier keys (eg Ctrl).
Added ability to redefine keys already specified (eg in inc.[tag]).
Added customisations for 3rd party using aforementioned features.

Version 0.63. Tagged as 'IntKey-0_63'
@
text
@d9 2
a10 2
Module_MajorVersion	SETS    "0.63"
Module_Version          SETA    63
d12 2
a13 2
Module_Date		SETS    "26 Apr 1999"
Module_FullVersion      SETS    "0.63"
@


4.12
log
@Renamed layout/Netherland to layout/Netherlands and layout/Switzerla to
layout/Switzerland so that it will build on a long filenames disc.

Version 0.62. Tagged as 'Key-0_62'
@
text
@d8 3
a10 2
Module_MajorVersion	SETS    "0.62"
Module_Version          SETA    62
d12 3
a14 2
Module_Date		SETS    "22 Mar 1999"
		        END
@


4.11
log
@"Q" on the Russia layout didn't respond to Caps Lock.

Version 0.61. Tagged as 'IntKey-0_61'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.61"
Module_Version          SETA    61
d11 1
a11 1
Module_Date		SETS    "02 Mar 1999"
@


4.10
log
@"Q" on the USA layout didn't respond to Caps Lock.

Version 0.60. Tagged as 'IntKey-0_60'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.60"
Module_Version          SETA    60
@


4.9
log
@Added capability to use Left Alt + Shift to change layers.
Created new PC-compatible two-layer Russian layout.

Version 0.59. Tagged as 'IntKey-0_59'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.59"
Module_Version          SETA    59
d11 1
a11 1
Module_Date		SETS    "17 Feb 1999"
@


4.8
log
@%Include directive implemented in layout files - this gives a simpler
way of adding in some keys and allows some commonality between layouts.
To get the keys, you need to set the option EXTRAKEYS="-extra [tag]".
!IKHG removed.

Version 0.58. Tagged as 'IntKey-0_58'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.58"
Module_Version          SETA    58
d11 1
a11 1
Module_Date		SETS    "11 Nov 1998"
@


4.7
log
@3rd party keys placed into UK, USA and Netherlands layouts - this is a temporary
measure until a proper build option is installed.
Dead key ring above + space now outputs U+00B0 (degree sign), rather than
U+02DB (ring above).

Version 0.57. Tagged as 'IntKey-0_57'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.57"
Module_Version          SETA    57
d11 1
a11 1
Module_Date		SETS    "09 Nov 1998"
@


4.6
log
@Shift-6 on Norway layout was circumflex, not ampersand

Version 0.56. Tagged as 'IntKey-0_56'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.56"
Module_Version          SETA    56
d11 1
a11 1
Module_Date		SETS    "22 Oct 1998"
@


4.5
log
@Tilde and circumflex changed to be dead keys on Sweden/Finland layout.

Version 0.55. Tagged as 'IntKey-0_55'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.55"
Module_Version          SETA    55
d11 1
a11 1
Module_Date		SETS    "20 Oct 1998"
@


4.4
log
@Shift-circumflex is overline, not macron on Japanese keyboard.

Version 0.54. Tagged as 'IntKey-0_54'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.54"
Module_Version          SETA    54
d11 1
a11 1
Module_Date		SETS    "16 Oct 1998"
@


4.3
log
@Null keypad keys (eg 5 with Num Lock off) would return random strings.

Version 0.53. Tagged as 'IntKey-0_53'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.53"
Module_Version          SETA    53
d11 1
a11 1
Module_Date		SETS    "09 Oct 1998"
@


4.2
log
@Norweigan keyboard layout fixed (REVERSE SOLIDUS was totally missing).
Changed to use srccommit.

Version 0.52. Tagged as 'IntKey-0_52'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.52"
Module_Version          SETA    52
d11 1
a11 1
Module_Date		SETS    "07 Oct 1998"
@


4.1
log
@created by srccommit.
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.51"
Module_Version          SETA    51
@
