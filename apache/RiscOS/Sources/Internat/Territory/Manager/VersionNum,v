head	4.32;
access;
symbols
	Manager-0_57:4.32
	Manager-0_56:4.31
	Manager-0_55:4.30
	Manager-0_54:4.29
	Manager-0_53:4.28
	Manager-0_52:4.27
	Manager-0_51:4.26
	Manager-0_50:4.25
	Manager-0_49:4.24
	Manager-0_48:4.23
	Manager-0_47:4.22
	Manager-0_46:4.21
	Manager-0_45:4.20
	Manager-0_44:4.19
	Manager-0_43:4.18
	RO_5_07:4.17
	Manager-0_42:4.17
	Manager-0_41:4.16
	Manager-0_40:4.15
	Manager-0_39:4.14
	Manager-0_38:4.13
	Manager-0_37:4.12
	dellis_autobuild_BaseSW:4.11
	Manager-0_36:4.11
	sbrodie_sedwards_16Mar2000:4.10
	dcotton_autobuild_BaseSW:4.15
	Manager-0_35:4.10
	Manager-0_34:4.9
	Manager-0_33:4.8
	Manager-0_32:4.7
	Manager-0_31:4.6
	Manager-0_30:4.5
	Manager-0_29:4.4
	Manager-0_28:4.3
	Manager-0_27:4.2;
locks; strict;
comment	@# @;


4.32
date	2017.11.12.18.16.42;	author jlee;	state Exp;
branches;
next	4.31;
commitid	nbYj7G6x5Rdm8MeA;

4.31
date	2013.11.24.12.03.51;	author rsprowson;	state Exp;
branches;
next	4.30;
commitid	LNbIAJL7D2eaEwex;

4.30
date	2013.03.09.15.53.31;	author rsprowson;	state Exp;
branches;
next	4.29;
commitid	TAx7w6YFEMz6h8Hw;

4.29
date	2012.10.16.21.12.36;	author rsprowson;	state Exp;
branches;
next	4.28;
commitid	fKttNHY877ixFEow;

4.28
date	2012.08.02.19.44.51;	author rsprowson;	state Exp;
branches;
next	4.27;
commitid	i2SnhS1TFEhUA0fw;

4.27
date	2012.07.22.21.32.06;	author rsprowson;	state Exp;
branches;
next	4.26;
commitid	TE1VQnr8guKCxBdw;

4.26
date	2012.07.20.20.32.20;	author rsprowson;	state Exp;
branches;
next	4.25;
commitid	Z6X6fgnb49I6hldw;

4.25
date	2012.06.30.15.37.56;	author rsprowson;	state Exp;
branches;
next	4.24;
commitid	HmpM8GsJnNmYhKaw;

4.24
date	2012.06.08.17.44.05;	author bavison;	state Exp;
branches;
next	4.23;
commitid	j0IrLQ3Zff15HV7w;

4.23
date	2012.06.04.09.24.45;	author rsprowson;	state Exp;
branches;
next	4.22;
commitid	H83jzrondsEK3n7w;

4.22
date	2012.05.28.17.44.46;	author rsprowson;	state Exp;
branches;
next	4.21;
commitid	3IFk2KVqvs8f3w6w;

4.21
date	2012.03.10.08.50.33;	author rsprowson;	state Exp;
branches;
next	4.20;
commitid	TpQKBHqUPfJpDjWv;

4.20
date	2012.03.02.09.06.19;	author rsprowson;	state Exp;
branches;
next	4.19;
commitid	0xc2P99LjsJKYhVv;

4.19
date	2012.02.20.21.43.33;	author rsprowson;	state Exp;
branches;
next	4.18;
commitid	42AbPoCtGtUswWTv;

4.18
date	2009.04.24.00.41.05;	author srevill;	state Exp;
branches;
next	4.17;

4.17
date	2002.12.12.11.15.40;	author rsprowson;	state Exp;
branches;
next	4.16;

4.16
date	2002.02.19.11.51.31;	author kbracey;	state Exp;
branches;
next	4.15;

4.15
date	2001.03.19.15.32.37;	author sbrodie;	state Exp;
branches;
next	4.14;

4.14
date	2001.03.01.15.17.06;	author sforrest;	state Exp;
branches;
next	4.13;

4.13
date	2000.11.22.16.34.27;	author sforrest;	state Exp;
branches;
next	4.12;

4.12
date	2000.11.21.17.18.59;	author sforrest;	state Exp;
branches;
next	4.11;

4.11
date	2000.04.28.14.48.46;	author kbracey;	state Exp;
branches;
next	4.10;

4.10
date	99.08.24.12.17.49;	author kbracey;	state Exp;
branches;
next	4.9;

4.9
date	99.04.19.12.32.53;	author kbracey;	state Exp;
branches;
next	4.8;

4.8
date	99.01.21.09.32.25;	author kbracey;	state Exp;
branches;
next	4.7;

4.7
date	99.01.20.17.14.59;	author kbracey;	state Exp;
branches;
next	4.6;

4.6
date	99.01.20.13.58.25;	author kbracey;	state Exp;
branches;
next	4.5;

4.5
date	99.01.15.18.25.50;	author kbracey;	state Exp;
branches;
next	4.4;

4.4
date	99.01.14.17.30.29;	author kbracey;	state Exp;
branches;
next	4.3;

4.3
date	99.01.07.13.31.51;	author kbracey;	state Exp;
branches;
next	4.2;

4.2
date	98.10.19.11.37.45;	author kbracey;	state Exp;
branches;
next	4.1;

4.1
date	98.10.19.11.34.03;	author kbracey;	state Exp;
branches;
next	;


desc
@@


4.32
log
@Re-evaluate AutoDST state when RTC is synchronised
Detail:
  s/Daylight, s/ModHead - On Service_RTCSynchronised, re-evaluate the current DST state if AutoDST is enabled. Should help ensure that the DST state remains correct whenever OS_ResyncTime is used to reset the soft RTC.
Admin:
  Tested in Iyonix ROM image


Version 0.57. Tagged as 'Manager-0_57'
@
text
@/* (0.57)
 *
 * This file is automatically maintained by srccommit, do not edit manually.
 * Last processed by srccommit version: 1.1.
 *
 */
#define Module_MajorVersion_CMHG        0.57
#define Module_MinorVersion_CMHG        
#define Module_Date_CMHG                12 Nov 2017

#define Module_MajorVersion             "0.57"
#define Module_Version                  57
#define Module_MinorVersion             ""
#define Module_Date                     "12 Nov 2017"

#define Module_ApplicationDate          "12-Nov-17"

#define Module_ComponentName            "Manager"
#define Module_ComponentPath            "castle/RiscOS/Sources/Internat/Territory/Manager"

#define Module_FullVersion              "0.57"
#define Module_HelpVersion              "0.57 (12 Nov 2017)"
#define Module_LibraryVersionInfo       "0:57"
@


4.31
log
@Header definition of a collation flag

Version 0.56. Tagged as 'Manager-0_56'
@
text
@d1 1
a1 1
/* (0.56)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.56
d9 1
a9 1
#define Module_Date_CMHG                24 Nov 2013
d11 2
a12 2
#define Module_MajorVersion             "0.56"
#define Module_Version                  56
d14 1
a14 1
#define Module_Date                     "24 Nov 2013"
d16 1
a16 1
#define Module_ApplicationDate          "24-Nov-13"
d21 3
a23 3
#define Module_FullVersion              "0.56"
#define Module_HelpVersion              "0.56 (24 Nov 2013)"
#define Module_LibraryVersionInfo       "0:56"
@


4.30
log
@Add new flag to allow Territory_ConvertTimeFormats to take an arbitrary timezone offset in R4
Bit 19 clear behaves as before, R4 is the enumerated timezone offset within the territory, bit 19 set is an offset in centiseconds given by the caller.
ModHead.s: don't over declare the buffer size when enumerating !Territory, and mask the FS number with 0xFF to save an instruction and workaround a FileSwitch bug.
SWIs.s: New flag bit support in Territory_ConvertTimeFormats

Version 0.55. Tagged as 'Manager-0_55'
@
text
@d1 1
a1 1
/* (0.55)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.55
d9 1
a9 1
#define Module_Date_CMHG                09 Mar 2013
d11 2
a12 2
#define Module_MajorVersion             "0.55"
#define Module_Version                  55
d14 1
a14 1
#define Module_Date                     "09 Mar 2013"
d16 1
a16 1
#define Module_ApplicationDate          "09-Mar-13"
d21 3
a23 3
#define Module_FullVersion              "0.55"
#define Module_HelpVersion              "0.55 (09 Mar 2013)"
#define Module_LibraryVersionInfo       "0:55"
@


4.29
log
@Allow error pointers in the high half of memory and pass them back in Territory_SetTime
* The cheap clear of V would fail if the error pointer was somewhere that might set V
* Territory_SetTime carefully preserved r0 even if OS_Word (or the recently added auto DST switchover check) failed

Version 0.54. Tagged as 'Manager-0_54'
@
text
@d1 1
a1 1
/* (0.54)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.54
d9 1
a9 1
#define Module_Date_CMHG                16 Oct 2012
d11 2
a12 2
#define Module_MajorVersion             "0.54"
#define Module_Version                  54
d14 1
a14 1
#define Module_Date                     "16 Oct 2012"
d16 1
a16 1
#define Module_ApplicationDate          "16-Oct-12"
d21 3
a23 3
#define Module_FullVersion              "0.54"
#define Module_HelpVersion              "0.54 (16 Oct 2012)"
#define Module_LibraryVersionInfo       "0:54"
@


4.28
log
@Error from GetBounds now reports a consistent error number
Previously the error from the internal SWI call to the territory module was returned to the user, now it is translated into one in the territory manager's error range and that is returned instead.

Version 0.53. Tagged as 'Manager-0_53'
@
text
@d1 1
a1 1
/* (0.53)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.53
d9 1
a9 1
#define Module_Date_CMHG                02 Aug 2012
d11 2
a12 2
#define Module_MajorVersion             "0.53"
#define Module_Version                  53
d14 1
a14 1
#define Module_Date                     "02 Aug 2012"
d16 1
a16 1
#define Module_ApplicationDate          "02-Aug-12"
d21 3
a23 3
#define Module_FullVersion              "0.53"
#define Module_HelpVersion              "0.53 (02 Aug 2012)"
#define Module_LibraryVersionInfo       "0:53"
@


4.27
log
@Fixes to daylight rule check SWI
* Reject ordinals with months > 12 rather than perform out of bounds array access
* Swap round the start and end times for the "apply ordinals to rules" and "apply 5 byte time to rules" SWIs, so they work properly
Reported by Martin Avison.

Version 0.52. Tagged as 'Manager-0_52'
@
text
@d1 1
a1 1
/* (0.52)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.52
d9 1
a9 1
#define Module_Date_CMHG                22 Jul 2012
d11 2
a12 2
#define Module_MajorVersion             "0.52"
#define Module_Version                  52
d14 1
a14 1
#define Module_Date                     "22 Jul 2012"
d16 1
a16 1
#define Module_ApplicationDate          "22-Jul-12"
d21 3
a23 3
#define Module_FullVersion              "0.52"
#define Module_HelpVersion              "0.52 (22 Jul 2012)"
#define Module_LibraryVersionInfo       "0:52"
@


4.26
log
@Fix stack imbalance finding bounds for year with year = current
Add missing "BadTime" token to messages

Version 0.51. Tagged as 'Manager-0_51'
@
text
@d1 1
a1 1
/* (0.51)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.51
d9 1
a9 1
#define Module_Date_CMHG                20 Jul 2012
d11 2
a12 2
#define Module_MajorVersion             "0.51"
#define Module_Version                  51
d14 1
a14 1
#define Module_Date                     "20 Jul 2012"
d16 1
a16 1
#define Module_ApplicationDate          "20-Jul-12"
d21 3
a23 3
#define Module_FullVersion              "0.51"
#define Module_HelpVersion              "0.51 (20 Jul 2012)"
#define Module_LibraryVersionInfo       "0:51"
@


4.25
log
@When timezone is custom assume DST is fixed +1h
Deals with the case where the user only has UK territory loaded, but doesn't live along the meridian line, so would have a nonzero timezone configured. Previously, this would ignore DST.

Version 0.50. Tagged as 'Manager-0_50'
@
text
@d1 1
a1 1
/* (0.50)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.50
d9 1
a9 1
#define Module_Date_CMHG                30 Jun 2012
d11 2
a12 2
#define Module_MajorVersion             "0.50"
#define Module_Version                  50
d14 1
a14 1
#define Module_Date                     "30 Jun 2012"
d16 1
a16 1
#define Module_ApplicationDate          "30-Jun-12"
d21 3
a23 3
#define Module_FullVersion              "0.50"
#define Module_HelpVersion              "0.50 (30 Jun 2012)"
#define Module_LibraryVersionInfo       "0:50"
@


4.24
log
@  More efficient when accessing CMOS
Detail:
  The routine daylight_modify_cmos was used for both reading and writing CMOS
  bits in two different bytes. Unfortunately it unconditionally wrote to
  both CMOS bytes every time, even if they weren't changing (including every
  time the routine was only used to read the bits). This makes the routine
  very slow, especially when extra-slow pseudo-CMOS devices like SD cards
  are actually used for non-volatile storage.
Admin:
  Tested on a beagleboard

Version 0.49. Tagged as 'Manager-0_49'
@
text
@d1 1
a1 1
/* (0.49)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.49
d9 1
a9 1
#define Module_Date_CMHG                08 Jun 2012
d11 2
a12 2
#define Module_MajorVersion             "0.49"
#define Module_Version                  49
d14 1
a14 1
#define Module_Date                     "08 Jun 2012"
d16 1
a16 1
#define Module_ApplicationDate          "08-Jun-12"
d21 3
a23 3
#define Module_FullVersion              "0.49"
#define Module_HelpVersion              "0.49 (08 Jun 2012)"
#define Module_LibraryVersionInfo       "0:49"
@


4.23
log
@Fix random V set exit from Territoty_SetTime
Uninitialised r6 in the DST evaluation could propagate as a bogus error.

Version 0.48. Tagged as 'Manager-0_48'
@
text
@d1 1
a1 1
/* (0.48)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.48
d9 1
a9 1
#define Module_Date_CMHG                04 Jun 2012
d11 2
a12 2
#define Module_MajorVersion             "0.48"
#define Module_Version                  48
d14 1
a14 1
#define Module_Date                     "04 Jun 2012"
d16 1
a16 1
#define Module_ApplicationDate          "04-Jun-12"
d21 3
a23 3
#define Module_FullVersion              "0.48"
#define Module_HelpVersion              "0.48 (04 Jun 2012)"
#define Module_LibraryVersionInfo       "0:48"
@


4.22
log
@Addition of support for automatic daylight saving switchover
Uses *CONFIGURE AutoDST to subsequently allow the computer to decide when to apply DST or not (the underlying CMOS bit is still set/cleared, for those applications reading it).
Messages files updated to include new syntax token.
SWI Territory_DaylightSaving and Territory_DaylightRules and Territory_ConvertTimeFormats added.
Flag definitions for all the SWIs added to exported header file.
The automatic switchover evaluates when the configure command is entered, territory is changed, or time is set (with Territory_SetTime) whether the rule is known for that year.
If no rule is known, standard time is selected, and a callback set to fire on New Year's day to try again.
If a rule is known, the next transition is calculated and a callback set.
ModHead.s
  Configure and status handlers updated for extra configuration command.
  Commoned up the OS_Byte bashing code (since the two flags bits are actually in two differenc CMOS bytes).
  *CONFIGURE <local_name_for_timezone> can now scan all timezones within a territory, not just the first.
  Magic numbers swapped for symbols where available.
  Message block and flag split into flag byte + handle word.
SWIs.s
  Daylight saving SWIs added.
  SWI Territory_ConvertTimeFormats addresses the inability to do some of the matrix of 16 combinations of local/UTC and 5 byte/ordinal conversions using the existing SWIs, and allows more conversion types to be added in the future.
TerrMgr.s
  Workspace shuffled for new functionality.
  Accept international_help switch passed in from outside.
SystemDisc
  Pixel errors in the Archimedes logo fixed.
Doc/AutoDST
Test/MultiTZTest
  Test program and SWI documentation.

Version 0.47. Tagged as 'Manager-0_47'
@
text
@d1 1
a1 1
/* (0.47)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.47
d9 1
a9 1
#define Module_Date_CMHG                28 May 2012
d11 2
a12 2
#define Module_MajorVersion             "0.47"
#define Module_Version                  47
d14 1
a14 1
#define Module_Date                     "28 May 2012"
d16 1
a16 1
#define Module_ApplicationDate          "28-May-12"
d21 3
a23 3
#define Module_FullVersion              "0.47"
#define Module_HelpVersion              "0.47 (28 May 2012)"
#define Module_LibraryVersionInfo       "0:47"
@


4.21
log
@Corrected definitions for Territory_WriteDirection.
Were encoding in bits 1-3 not bits 0-2 as documented.
Fortunately, the WindowManager used hardwired bit testing rather than these defines, and all existing territory modules use a write direction that results in zero anyway.
OSLib got it right, and the PRM details bits 0-2.
The only casualty is FontManager, therefore any newly created territories with right to left writing will need FontManager 3.72 or later.

Version 0.46. Tagged as 'Manager-0_46'
@
text
@d1 1
a1 1
/* (0.46)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.46
d9 1
a9 1
#define Module_Date_CMHG                10 Mar 2012
d11 2
a12 2
#define Module_MajorVersion             "0.46"
#define Module_Version                  46
d14 1
a14 1
#define Module_Date                     "10 Mar 2012"
d16 1
a16 1
#define Module_ApplicationDate          "10-Mar-12"
d21 3
a23 3
#define Module_FullVersion              "0.46"
#define Module_HelpVersion              "0.46 (10 Mar 2012)"
#define Module_LibraryVersionInfo       "0:46"
@


4.20
log
@Allow flags to be passed to territory module SWIs from territory manager.
Allocate some more error numbers from the territory manager block.

Version 0.45. Tagged as 'Manager-0_45'
@
text
@d1 1
a1 1
/* (0.45)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.45
d9 1
a9 1
#define Module_Date_CMHG                02 Mar 2012
d11 2
a12 2
#define Module_MajorVersion             "0.45"
#define Module_Version                  45
d14 1
a14 1
#define Module_Date                     "02 Mar 2012"
d16 1
a16 1
#define Module_ApplicationDate          "02-Mar-12"
d21 3
a23 3
#define Module_FullVersion              "0.45"
#define Module_HelpVersion              "0.45 (02 Mar 2012)"
#define Module_LibraryVersionInfo       "0:45"
@


4.19
log
@Correct behaviour of Territory_ReadCurrentTimeZone.
Reading the current timezone now returns the current value read from the timezone CMOS (with DST applied or not as appropriate). The textual name in R0 comes from the respective territory module if the value in CMOS matches the standard time offset from the territory. If they do not match "Custom" is returned instead of pretending one thing but doing another,
Add new token "Custom" to all the messages files.

Behaviour of *CONFIGURE made more helpful.
When [un]setting the DST with *CONFIGURE [No]DST the DST bit is toggled on or off as expected.
When [un]setting the DST with *CONFIGURE [GMT|BST] (ie. the named zone for this territory) both the DST bit and timezone CMOS are updated. Likewise for other named timezones.
So, if you live in Spain using the Spain territory
*CONFIG.CET            => timezone +1:00, DST=off       "CET"
*CONFIG.TIMEZONE -4:45 => timezone -4:45, DST=unchanged "Custom"
*CONFIG.DST            => timezone -4:45, DST=on        "Custom"
*CONFIG.CEST           => timezone +1:00, DST=on        "CEST"

Fix stack imbalance when failing to resolve a territory name in *TERRITORY (Modhead line 84). Was causing an abort when toggling between two territories.
Fix a signed pointer comparison for the tail of *CONFIGURE command.
Change 1 register push/pull to use macros.
Remove trailing newlines from the non internationalised syntax messages.
Use OS_Args R0=R1=0 to read the current FS rather than having to parse the FS module's title string.
Get some more header files to remove some magic numbers in the source.
Change LNK'd files to use ".s" suffixes.

Version 0.44. Tagged as 'Manager-0_44'
@
text
@d1 1
a1 1
/* (0.44)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.44
d9 1
a9 1
#define Module_Date_CMHG                20 Feb 2012
d11 2
a12 2
#define Module_MajorVersion             "0.44"
#define Module_Version                  44
d14 1
a14 1
#define Module_Date                     "20 Feb 2012"
d16 1
a16 1
#define Module_ApplicationDate          "20-Feb-12"
d21 3
a23 3
#define Module_FullVersion              "0.44"
#define Module_HelpVersion              "0.44 (20 Feb 2012)"
#define Module_LibraryVersionInfo       "0:44"
@


4.18
log
@Corrected the notation in the timezone syntax message.

Author: Rob Sprowson

Version 0.43. Tagged as 'Manager-0_43'
@
text
@d1 1
a1 1
/* (0.43)
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.43
d9 1
a9 1
#define Module_Date_CMHG                24 Apr 2009
d11 2
a12 2
#define Module_MajorVersion             "0.43"
#define Module_Version                  43
d14 1
a14 1
#define Module_Date                     "24 Apr 2009"
d16 1
a16 1
#define Module_ApplicationDate          "24-Apr-09"
d21 3
a23 3
#define Module_FullVersion              "0.43"
#define Module_HelpVersion              "0.43 (24 Apr 2009)"
#define Module_LibraryVersionInfo       "0:43"
@


4.17
log
@Fix to broken messages,the *configure syntax was being partially
tokenised from "Territor" to ESC PERTHOUSAND.
Also added some spaces because the status and configuration have never
lined up!

Version 0.42. Tagged as 'Manager-0_42'
@
text
@d1 1
a1 1
/* (0.42)
d4 1
a4 1
 * Last processed by srccommit version: 1.68.
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.42
d9 1
a9 1
#define Module_Date_CMHG                12 Dec 2002
d11 2
a12 2
#define Module_MajorVersion             "0.42"
#define Module_Version                  42
d14 1
a14 1
#define Module_Date                     "12 Dec 2002"
d16 1
a16 1
#define Module_ApplicationDate          "12-Dec-02"
d19 1
a19 1
#define Module_ComponentPath            "RiscOS/Sources/Internat/Territory/Manager"
d21 3
a23 3
#define Module_FullVersion              "0.42"
#define Module_HelpVersion              "0.42 (12 Dec 2002)"
#define Module_LibraryVersionInfo       "0:42"
@


4.16
log
@Added some extra territory names to UK.Messages.

Version 0.41. Tagged as 'Manager-0_41'
@
text
@d1 1
a1 1
/* (0.41)
d4 1
a4 1
 * Last processed by srccommit version: 1.62.
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.41
d9 1
a9 1
#define Module_Date_CMHG                19 Feb 2002
d11 2
a12 2
#define Module_MajorVersion             "0.41"
#define Module_Version                  41
d14 1
a14 1
#define Module_Date                     "19 Feb 2002"
d16 1
a16 2
#define Module_ApplicationDate2         "19-Feb-02"
#define Module_ApplicationDate4         "19-Feb-2002"
d21 3
a23 3
#define Module_FullVersion              "0.41"
#define Module_HelpVersion              "0.41 (19 Feb 2002)"
#define Module_LibraryVersionInfo       "0:41"
@


4.15
log
@  Updated build structure to use the shared AAsmModule makefile.
  Updated to build using objasm instead of aasm.
  Sources changed to be objasm-compatible.
Detail:
  Removed additional BASIC tools that simply compress/decompress the Sprite
    file - standard squash application is used instead, and the code inside
    the Territory Manager has been updated to know that a full Squash file
    is what it has embedded within itself.  This also improves the memory
    allocation - the module is no longer praying that the sprite fits in
    25K when uncompressed ...
Admin:
  Requires Library 0.71 or later.
  Requires BuildSys 3.06 or later.
  Requires Env 0.65 or later.

Version 0.40. Tagged as 'Manager-0_40'
@
text
@d1 1
a1 1
/* (0.40)
d4 1
d7 1
a7 1
#define Module_MajorVersion_CMHG        0.40
d9 1
a9 1
#define Module_Date_CMHG                19 Mar 2001
d11 2
a12 2
#define Module_MajorVersion             "0.40"
#define Module_Version                  40
d14 1
a14 1
#define Module_Date                     "19 Mar 2001"
d16 2
a17 2
#define Module_ApplicationDate2         "19-Mar-01"
#define Module_ApplicationDate4         "19-Mar-2001"
d22 3
a24 2
#define Module_FullVersion              "0.40"
#define Module_HelpVersion              "0.40 (19 Mar 2001)"
@


4.14
log
@
  * Removed dependency on obsolete STB flag.

Detail:

  * No longer relies on the STB flag; instead utilises "Hdr:UserIF.<UserIF>"
    to provide the Embedded_UI flag.

    On Embedded systems, the picture of the Floppy disc is suppressed
    when the configured territory cannot be found.

Admin:

  * Built and tested on Lazarus 32-bit build.  Code is binary identical to
    previous versions that relied on the STB flag in both the Desktop and
    Embedded variants.

  * StripDepnd support moved from Makefile to MkClean.

  * Requires HdrSrc 1.17 or later.

Version 0.39. Tagged as 'Manager-0_39'
@
text
@d1 1
a1 1
/* (0.39)
d6 1
a6 1
#define Module_MajorVersion_CMHG        0.39
d8 1
a8 1
#define Module_Date_CMHG                01 Mar 2001
d10 2
a11 2
#define Module_MajorVersion             "0.39"
#define Module_Version                  39
d13 1
a13 1
#define Module_Date                     "01 Mar 2001"
d15 2
a16 2
#define Module_ApplicationDate2         "01-Mar-01"
#define Module_ApplicationDate4         "01-Mar-2001"
d21 2
a22 2
#define Module_FullVersion              "0.39"
#define Module_HelpVersion              "0.39 (01 Mar 2001)"
@


4.13
log
@
  * The "Gremlins" have been at the files!  Added "South Africa" to the
    resources in the files that were missing the identifier.

Detail:

  * Japan, Sweden and UK were missing the territory identifier for
    territory 52 (South Africa).  Now rectified.

Admin:

  * Fault noted in development Bethany build.

Version 0.38. Tagged as 'Manager-0_38'
@
text
@d1 1
a1 1
/* (0.38)
d6 1
a6 1
#define Module_MajorVersion_CMHG        0.38
d8 1
a8 1
#define Module_Date_CMHG                22 Nov 2000
d10 2
a11 2
#define Module_MajorVersion             "0.38"
#define Module_Version                  38
d13 1
a13 1
#define Module_Date                     "22 Nov 2000"
d15 2
a16 2
#define Module_ApplicationDate2         "22-Nov-00"
#define Module_ApplicationDate4         "22-Nov-2000"
d21 2
a22 2
#define Module_FullVersion              "0.38"
#define Module_HelpVersion              "0.38 (22 Nov 2000)"
@


4.12
log
@
  * Updated (and added) resource files.

  * Stripdepnd support included in Makefile.

Detail:

  * Taught the module about the South African territory.

  * Took the opportunity to add the missing messages files for Italy,
    Spain and Turkey.  (All the other locales fall back to the UK
    resources.)

Admin:

  * Built on RPC.

Version 0.37. Tagged as 'Manager-0_37'
@
text
@d1 1
a1 1
/* (0.37)
d6 1
a6 1
#define Module_MajorVersion_CMHG        0.37
d8 1
a8 1
#define Module_Date_CMHG                21 Nov 2000
d10 2
a11 2
#define Module_MajorVersion             "0.37"
#define Module_Version                  37
d13 1
a13 1
#define Module_Date                     "21 Nov 2000"
d15 2
a16 2
#define Module_ApplicationDate2         "21-Nov-00"
#define Module_ApplicationDate4         "21-Nov-2000"
d21 2
a22 2
#define Module_FullVersion              "0.37"
#define Module_HelpVersion              "0.37 (21 Nov 2000)"
@


4.11
log
@32-bit compatible.

Version 0.36. Tagged as 'Manager-0_36'
@
text
@d1 1
a1 1
/* (0.36)
d6 1
a6 1
#define Module_MajorVersion_CMHG        0.36
d8 1
a8 1
#define Module_Date_CMHG                28 Apr 2000
d10 2
a11 2
#define Module_MajorVersion             "0.36"
#define Module_Version                  36
d13 1
a13 1
#define Module_Date                     "28 Apr 2000"
d15 8
a22 1
#define Module_FullVersion              "0.36"
@


4.10
log
@Territory_SetTime modified to use OS_Word 15,5 for greater accuracy.
Catches OS_Word 15,5 using Service_UKWord, and implements it (with lower
accuracy) if the kernel doesn't.

Version 0.35. Tagged as 'Manager-0_35'
@
text
@d1 1
a1 1
/* (0.35)
d6 3
a8 3
#define Module_MajorVersion_CMHG     	0.35
#define Module_MinorVersion_CMHG	
#define Module_Date_CMHG      		24 Aug 1999
d10 4
a13 4
#define Module_MajorVersion     	"0.35"
#define Module_Version                  35
#define Module_MinorVersion		""
#define Module_Date      		"24 Aug 1999"
d15 1
a15 1
#define Module_FullVersion              "0.35"
@


4.9
log
@Added Territory_Select SWI and *Territory command.

Version 0.34. Tagged as 'Manager-0_34'
@
text
@d1 1
a1 1
/* (0.34)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.34
d8 1
a8 1
#define Module_Date_CMHG      		19 Apr 1999
d10 2
a11 2
#define Module_MajorVersion     	"0.34"
#define Module_Version                  34
d13 1
a13 1
#define Module_Date      		"19 Apr 1999"
d15 1
a15 1
#define Module_FullVersion              "0.34"
@


4.8
log
@Another change to the DontUseCMOS variant. Option names changed - you should
now set the option -PD "FixedTerritory SETA n" where n is the number of the
territory you want selected, instead of setting DontUseCMOS.

Version 0.33. Tagged as 'Manager-0_33'
@
text
@d1 1
a1 1
/* (0.33)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.33
d8 1
a8 1
#define Module_Date_CMHG      		21 Jan 1999
d10 2
a11 2
#define Module_MajorVersion     	"0.33"
#define Module_Version                  33
d13 1
a13 1
#define Module_Date      		"21 Jan 1999"
d15 1
@


4.7
log
@Another version of the DontUseCMOS hack. This time, get the territory to use
from the build options.

Version 0.32. Tagged as 'Manager-0_32'
@
text
@d1 1
a1 1
/* (0.32)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.32
d8 1
a8 1
#define Module_Date_CMHG      		20 Jan 1999
d10 2
a11 2
#define Module_MajorVersion     	"0.32"
#define Module_Version                  32
d13 1
a13 1
#define Module_Date      		"20 Jan 1999"
@


4.6
log
@Modified "DontUseCMOS" variant to ensure that a valid territory (ie UK) is
selected during module initialisation. The last-registered territory is then
used after Service_PostInit. No attempt is made to load from filing systems.

Version 0.31. Tagged as 'Manager-0_31'
@
text
@d1 1
a1 1
/* (0.31)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.31
d10 2
a11 2
#define Module_MajorVersion     	"0.31"
#define Module_Version                  31
@


4.5
log
@Swedish messages file added. Makefile changed to use LocalRes$Path, because
we don't have any useful Norweigan, Danish or Finnish messages files.

Version 0.30. Tagged as 'Manager-0_30'
@
text
@d1 1
a1 1
/* (0.30)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.30
d8 1
a8 1
#define Module_Date_CMHG      		15 Jan 1999
d10 2
a11 2
#define Module_MajorVersion     	"0.30"
#define Module_Version                  30
d13 1
a13 1
#define Module_Date      		"15 Jan 1999"
@


4.4
log
@CMOS ignoring code should now work.

Version 0.29. Tagged as 'Manager-0_29'
@
text
@d1 1
a1 1
/* (0.29)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.29
d8 1
a8 1
#define Module_Date_CMHG      		14 Jan 1999
d10 2
a11 2
#define Module_MajorVersion     	"0.29"
#define Module_Version                  29
d13 1
a13 1
#define Module_Date      		"14 Jan 1999"
@


4.3
log
@If STB flag is set, don't bring up floppy disc prompt, just take last-
registered territory (ie last in ROM), if configured can't be found.
Also, if you add
     -options OPTS="-PD \"DontUseCMOS SETL {TRUE}\""
to the components file, it will always use the last territory in ROM,
totally ignoring the CMOS.

Version 0.28. Tagged as 'Manager-0_28'
@
text
@d1 1
a1 1
/* (0.28)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.28
d8 1
a8 1
#define Module_Date_CMHG      		07 Jan 1999
d10 2
a11 2
#define Module_MajorVersion     	"0.28"
#define Module_Version                  28
d13 1
a13 1
#define Module_Date      		"07 Jan 1999"
@


4.2
log
@Changed to use srccommit.
Modified to cope with new Hdr:CMOS.
Territory_IME SWI added.
Ursula branch merged.
German resources imported.

Version 0.27. Tagged as 'Manager-0_27'
@
text
@d1 1
a1 1
/* (0.27)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.27
d8 1
a8 1
#define Module_Date_CMHG      		19 Oct 1998
d10 2
a11 2
#define Module_MajorVersion     	"0.27"
#define Module_Version                  27
d13 1
a13 1
#define Module_Date      		"19 Oct 1998"
@


4.1
log
@created by srccommit.
@
text
@d1 1
a1 1
/* (0.26)
d6 1
a6 1
#define Module_MajorVersion_CMHG     	0.26
d10 2
a11 2
#define Module_MajorVersion     	"0.26"
#define Module_Version                  26
@
