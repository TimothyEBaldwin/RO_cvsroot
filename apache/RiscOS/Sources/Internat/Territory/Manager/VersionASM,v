head	4.32;
access;
symbols
	Manager-0_57:4.32
	Manager-0_56:4.31
	Manager-0_55:4.30
	Manager-0_54:4.29
	Manager-0_53:4.28
	Manager-0_52:4.27
	Manager-0_51:4.26
	Manager-0_50:4.25
	Manager-0_49:4.24
	Manager-0_48:4.23
	Manager-0_47:4.22
	Manager-0_46:4.21
	Manager-0_45:4.20
	Manager-0_44:4.19
	Manager-0_43:4.18
	RO_5_07:4.17
	Manager-0_42:4.17
	Manager-0_41:4.16
	Manager-0_40:4.15
	Manager-0_39:4.14
	Manager-0_38:4.13
	Manager-0_37:4.12
	dellis_autobuild_BaseSW:4.11
	Manager-0_36:4.11
	sbrodie_sedwards_16Mar2000:4.10
	dcotton_autobuild_BaseSW:4.15
	Manager-0_35:4.10
	Manager-0_34:4.9
	Manager-0_33:4.8
	Manager-0_32:4.7
	Manager-0_31:4.6
	Manager-0_30:4.5
	Manager-0_29:4.4
	Manager-0_28:4.3
	Manager-0_27:4.2;
locks; strict;
comment	@# @;


4.32
date	2017.11.12.18.16.42;	author jlee;	state Exp;
branches;
next	4.31;
commitid	nbYj7G6x5Rdm8MeA;

4.31
date	2013.11.24.12.03.51;	author rsprowson;	state Exp;
branches;
next	4.30;
commitid	LNbIAJL7D2eaEwex;

4.30
date	2013.03.09.15.53.30;	author rsprowson;	state Exp;
branches;
next	4.29;
commitid	TAx7w6YFEMz6h8Hw;

4.29
date	2012.10.16.21.12.34;	author rsprowson;	state Exp;
branches;
next	4.28;
commitid	fKttNHY877ixFEow;

4.28
date	2012.08.02.19.44.51;	author rsprowson;	state Exp;
branches;
next	4.27;
commitid	i2SnhS1TFEhUA0fw;

4.27
date	2012.07.22.21.32.06;	author rsprowson;	state Exp;
branches;
next	4.26;
commitid	TE1VQnr8guKCxBdw;

4.26
date	2012.07.20.20.32.20;	author rsprowson;	state Exp;
branches;
next	4.25;
commitid	Z6X6fgnb49I6hldw;

4.25
date	2012.06.30.15.37.56;	author rsprowson;	state Exp;
branches;
next	4.24;
commitid	HmpM8GsJnNmYhKaw;

4.24
date	2012.06.08.17.44.05;	author bavison;	state Exp;
branches;
next	4.23;
commitid	j0IrLQ3Zff15HV7w;

4.23
date	2012.06.04.09.24.45;	author rsprowson;	state Exp;
branches;
next	4.22;
commitid	H83jzrondsEK3n7w;

4.22
date	2012.05.28.17.44.46;	author rsprowson;	state Exp;
branches;
next	4.21;
commitid	3IFk2KVqvs8f3w6w;

4.21
date	2012.03.10.08.50.33;	author rsprowson;	state Exp;
branches;
next	4.20;
commitid	TpQKBHqUPfJpDjWv;

4.20
date	2012.03.02.09.06.19;	author rsprowson;	state Exp;
branches;
next	4.19;
commitid	0xc2P99LjsJKYhVv;

4.19
date	2012.02.20.21.43.33;	author rsprowson;	state Exp;
branches;
next	4.18;
commitid	42AbPoCtGtUswWTv;

4.18
date	2009.04.24.00.41.05;	author srevill;	state Exp;
branches;
next	4.17;

4.17
date	2002.12.12.11.15.40;	author rsprowson;	state Exp;
branches;
next	4.16;

4.16
date	2002.02.19.11.51.31;	author kbracey;	state Exp;
branches;
next	4.15;

4.15
date	2001.03.19.15.32.37;	author sbrodie;	state Exp;
branches;
next	4.14;

4.14
date	2001.03.01.15.17.06;	author sforrest;	state Exp;
branches;
next	4.13;

4.13
date	2000.11.22.16.34.27;	author sforrest;	state Exp;
branches;
next	4.12;

4.12
date	2000.11.21.17.18.59;	author sforrest;	state Exp;
branches;
next	4.11;

4.11
date	2000.04.28.14.48.46;	author kbracey;	state Exp;
branches;
next	4.10;

4.10
date	99.08.24.12.17.48;	author kbracey;	state Exp;
branches;
next	4.9;

4.9
date	99.04.19.12.32.49;	author kbracey;	state Exp;
branches;
next	4.8;

4.8
date	99.01.21.09.32.24;	author kbracey;	state Exp;
branches;
next	4.7;

4.7
date	99.01.20.17.14.58;	author kbracey;	state Exp;
branches;
next	4.6;

4.6
date	99.01.20.13.58.25;	author kbracey;	state Exp;
branches;
next	4.5;

4.5
date	99.01.15.18.25.50;	author kbracey;	state Exp;
branches;
next	4.4;

4.4
date	99.01.14.17.30.29;	author kbracey;	state Exp;
branches;
next	4.3;

4.3
date	99.01.07.13.31.50;	author kbracey;	state Exp;
branches;
next	4.2;

4.2
date	98.10.19.11.37.44;	author kbracey;	state Exp;
branches;
next	4.1;

4.1
date	98.10.19.11.34.05;	author kbracey;	state Exp;
branches;
next	;


desc
@@


4.32
log
@Re-evaluate AutoDST state when RTC is synchronised
Detail:
  s/Daylight, s/ModHead - On Service_RTCSynchronised, re-evaluate the current DST state if AutoDST is enabled. Should help ensure that the DST state remains correct whenever OS_ResyncTime is used to reset the soft RTC.
Admin:
  Tested in Iyonix ROM image


Version 0.57. Tagged as 'Manager-0_57'
@
text
@;
; This file is automatically maintained by srccommit, do not edit manually.
; Last processed by srccommit version: 1.1.
;
                        GBLS    Module_MajorVersion
                        GBLA    Module_Version
                        GBLS    Module_MinorVersion
                        GBLS    Module_Date
                        GBLS    Module_FullVersion
                        GBLS    Module_ApplicationDate
                        GBLS    Module_HelpVersion
                        GBLS    Module_ComponentName
                        GBLS    Module_ComponentPath
Module_MajorVersion     SETS    "0.57"
Module_Version          SETA    57
Module_MinorVersion     SETS    ""
Module_Date             SETS    "12 Nov 2017"
Module_ApplicationDate  SETS    "12-Nov-17"
Module_ComponentName    SETS    "Manager"
Module_ComponentPath    SETS    "castle/RiscOS/Sources/Internat/Territory/Manager"
Module_FullVersion      SETS    "0.57"
Module_HelpVersion      SETS    "0.57 (12 Nov 2017)"
                        END
@


4.31
log
@Header definition of a collation flag

Version 0.56. Tagged as 'Manager-0_56'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.56"
Module_Version          SETA    56
d17 2
a18 2
Module_Date             SETS    "24 Nov 2013"
Module_ApplicationDate  SETS    "24-Nov-13"
d21 2
a22 2
Module_FullVersion      SETS    "0.56"
Module_HelpVersion      SETS    "0.56 (24 Nov 2013)"
@


4.30
log
@Add new flag to allow Territory_ConvertTimeFormats to take an arbitrary timezone offset in R4
Bit 19 clear behaves as before, R4 is the enumerated timezone offset within the territory, bit 19 set is an offset in centiseconds given by the caller.
ModHead.s: don't over declare the buffer size when enumerating !Territory, and mask the FS number with 0xFF to save an instruction and workaround a FileSwitch bug.
SWIs.s: New flag bit support in Territory_ConvertTimeFormats

Version 0.55. Tagged as 'Manager-0_55'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.55"
Module_Version          SETA    55
d17 2
a18 2
Module_Date             SETS    "09 Mar 2013"
Module_ApplicationDate  SETS    "09-Mar-13"
d21 2
a22 2
Module_FullVersion      SETS    "0.55"
Module_HelpVersion      SETS    "0.55 (09 Mar 2013)"
@


4.29
log
@Allow error pointers in the high half of memory and pass them back in Territory_SetTime
* The cheap clear of V would fail if the error pointer was somewhere that might set V
* Territory_SetTime carefully preserved r0 even if OS_Word (or the recently added auto DST switchover check) failed

Version 0.54. Tagged as 'Manager-0_54'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.54"
Module_Version          SETA    54
d17 2
a18 2
Module_Date             SETS    "16 Oct 2012"
Module_ApplicationDate  SETS    "16-Oct-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.54"
Module_HelpVersion      SETS    "0.54 (16 Oct 2012)"
@


4.28
log
@Error from GetBounds now reports a consistent error number
Previously the error from the internal SWI call to the territory module was returned to the user, now it is translated into one in the territory manager's error range and that is returned instead.

Version 0.53. Tagged as 'Manager-0_53'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.53"
Module_Version          SETA    53
d17 2
a18 2
Module_Date             SETS    "02 Aug 2012"
Module_ApplicationDate  SETS    "02-Aug-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.53"
Module_HelpVersion      SETS    "0.53 (02 Aug 2012)"
@


4.27
log
@Fixes to daylight rule check SWI
* Reject ordinals with months > 12 rather than perform out of bounds array access
* Swap round the start and end times for the "apply ordinals to rules" and "apply 5 byte time to rules" SWIs, so they work properly
Reported by Martin Avison.

Version 0.52. Tagged as 'Manager-0_52'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.52"
Module_Version          SETA    52
d17 2
a18 2
Module_Date             SETS    "22 Jul 2012"
Module_ApplicationDate  SETS    "22-Jul-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.52"
Module_HelpVersion      SETS    "0.52 (22 Jul 2012)"
@


4.26
log
@Fix stack imbalance finding bounds for year with year = current
Add missing "BadTime" token to messages

Version 0.51. Tagged as 'Manager-0_51'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.51"
Module_Version          SETA    51
d17 2
a18 2
Module_Date             SETS    "20 Jul 2012"
Module_ApplicationDate  SETS    "20-Jul-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.51"
Module_HelpVersion      SETS    "0.51 (20 Jul 2012)"
@


4.25
log
@When timezone is custom assume DST is fixed +1h
Deals with the case where the user only has UK territory loaded, but doesn't live along the meridian line, so would have a nonzero timezone configured. Previously, this would ignore DST.

Version 0.50. Tagged as 'Manager-0_50'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.50"
Module_Version          SETA    50
d17 2
a18 2
Module_Date             SETS    "30 Jun 2012"
Module_ApplicationDate  SETS    "30-Jun-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.50"
Module_HelpVersion      SETS    "0.50 (30 Jun 2012)"
@


4.24
log
@  More efficient when accessing CMOS
Detail:
  The routine daylight_modify_cmos was used for both reading and writing CMOS
  bits in two different bytes. Unfortunately it unconditionally wrote to
  both CMOS bytes every time, even if they weren't changing (including every
  time the routine was only used to read the bits). This makes the routine
  very slow, especially when extra-slow pseudo-CMOS devices like SD cards
  are actually used for non-volatile storage.
Admin:
  Tested on a beagleboard

Version 0.49. Tagged as 'Manager-0_49'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.49"
Module_Version          SETA    49
d17 2
a18 2
Module_Date             SETS    "08 Jun 2012"
Module_ApplicationDate  SETS    "08-Jun-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.49"
Module_HelpVersion      SETS    "0.49 (08 Jun 2012)"
@


4.23
log
@Fix random V set exit from Territoty_SetTime
Uninitialised r6 in the DST evaluation could propagate as a bogus error.

Version 0.48. Tagged as 'Manager-0_48'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.48"
Module_Version          SETA    48
d17 2
a18 2
Module_Date             SETS    "04 Jun 2012"
Module_ApplicationDate  SETS    "04-Jun-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.48"
Module_HelpVersion      SETS    "0.48 (04 Jun 2012)"
@


4.22
log
@Addition of support for automatic daylight saving switchover
Uses *CONFIGURE AutoDST to subsequently allow the computer to decide when to apply DST or not (the underlying CMOS bit is still set/cleared, for those applications reading it).
Messages files updated to include new syntax token.
SWI Territory_DaylightSaving and Territory_DaylightRules and Territory_ConvertTimeFormats added.
Flag definitions for all the SWIs added to exported header file.
The automatic switchover evaluates when the configure command is entered, territory is changed, or time is set (with Territory_SetTime) whether the rule is known for that year.
If no rule is known, standard time is selected, and a callback set to fire on New Year's day to try again.
If a rule is known, the next transition is calculated and a callback set.
ModHead.s
  Configure and status handlers updated for extra configuration command.
  Commoned up the OS_Byte bashing code (since the two flags bits are actually in two differenc CMOS bytes).
  *CONFIGURE <local_name_for_timezone> can now scan all timezones within a territory, not just the first.
  Magic numbers swapped for symbols where available.
  Message block and flag split into flag byte + handle word.
SWIs.s
  Daylight saving SWIs added.
  SWI Territory_ConvertTimeFormats addresses the inability to do some of the matrix of 16 combinations of local/UTC and 5 byte/ordinal conversions using the existing SWIs, and allows more conversion types to be added in the future.
TerrMgr.s
  Workspace shuffled for new functionality.
  Accept international_help switch passed in from outside.
SystemDisc
  Pixel errors in the Archimedes logo fixed.
Doc/AutoDST
Test/MultiTZTest
  Test program and SWI documentation.

Version 0.47. Tagged as 'Manager-0_47'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.47"
Module_Version          SETA    47
d17 2
a18 2
Module_Date             SETS    "28 May 2012"
Module_ApplicationDate  SETS    "28-May-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.47"
Module_HelpVersion      SETS    "0.47 (28 May 2012)"
@


4.21
log
@Corrected definitions for Territory_WriteDirection.
Were encoding in bits 1-3 not bits 0-2 as documented.
Fortunately, the WindowManager used hardwired bit testing rather than these defines, and all existing territory modules use a write direction that results in zero anyway.
OSLib got it right, and the PRM details bits 0-2.
The only casualty is FontManager, therefore any newly created territories with right to left writing will need FontManager 3.72 or later.

Version 0.46. Tagged as 'Manager-0_46'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.46"
Module_Version          SETA    46
d17 2
a18 2
Module_Date             SETS    "10 Mar 2012"
Module_ApplicationDate  SETS    "10-Mar-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.46"
Module_HelpVersion      SETS    "0.46 (10 Mar 2012)"
@


4.20
log
@Allow flags to be passed to territory module SWIs from territory manager.
Allocate some more error numbers from the territory manager block.

Version 0.45. Tagged as 'Manager-0_45'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.45"
Module_Version          SETA    45
d17 2
a18 2
Module_Date             SETS    "02 Mar 2012"
Module_ApplicationDate  SETS    "02-Mar-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.45"
Module_HelpVersion      SETS    "0.45 (02 Mar 2012)"
@


4.19
log
@Correct behaviour of Territory_ReadCurrentTimeZone.
Reading the current timezone now returns the current value read from the timezone CMOS (with DST applied or not as appropriate). The textual name in R0 comes from the respective territory module if the value in CMOS matches the standard time offset from the territory. If they do not match "Custom" is returned instead of pretending one thing but doing another,
Add new token "Custom" to all the messages files.

Behaviour of *CONFIGURE made more helpful.
When [un]setting the DST with *CONFIGURE [No]DST the DST bit is toggled on or off as expected.
When [un]setting the DST with *CONFIGURE [GMT|BST] (ie. the named zone for this territory) both the DST bit and timezone CMOS are updated. Likewise for other named timezones.
So, if you live in Spain using the Spain territory
*CONFIG.CET            => timezone +1:00, DST=off       "CET"
*CONFIG.TIMEZONE -4:45 => timezone -4:45, DST=unchanged "Custom"
*CONFIG.DST            => timezone -4:45, DST=on        "Custom"
*CONFIG.CEST           => timezone +1:00, DST=on        "CEST"

Fix stack imbalance when failing to resolve a territory name in *TERRITORY (Modhead line 84). Was causing an abort when toggling between two territories.
Fix a signed pointer comparison for the tail of *CONFIGURE command.
Change 1 register push/pull to use macros.
Remove trailing newlines from the non internationalised syntax messages.
Use OS_Args R0=R1=0 to read the current FS rather than having to parse the FS module's title string.
Get some more header files to remove some magic numbers in the source.
Change LNK'd files to use ".s" suffixes.

Version 0.44. Tagged as 'Manager-0_44'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.44"
Module_Version          SETA    44
d17 2
a18 2
Module_Date             SETS    "20 Feb 2012"
Module_ApplicationDate  SETS    "20-Feb-12"
d21 2
a22 2
Module_FullVersion      SETS    "0.44"
Module_HelpVersion      SETS    "0.44 (20 Feb 2012)"
@


4.18
log
@Corrected the notation in the timezone syntax message.

Author: Rob Sprowson

Version 0.43. Tagged as 'Manager-0_43'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.43"
Module_Version          SETA    43
d17 2
a18 2
Module_Date             SETS    "24 Apr 2009"
Module_ApplicationDate  SETS    "24-Apr-09"
d21 2
a22 2
Module_FullVersion      SETS    "0.43"
Module_HelpVersion      SETS    "0.43 (24 Apr 2009)"
@


4.17
log
@Fix to broken messages,the *configure syntax was being partially
tokenised from "Territor" to ESC PERTHOUSAND.
Also added some spaces because the status and configuration have never
lined up!

Version 0.42. Tagged as 'Manager-0_42'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.68.
d14 2
a15 2
Module_MajorVersion     SETS    "0.42"
Module_Version          SETA    42
d17 2
a18 2
Module_Date             SETS    "12 Dec 2002"
Module_ApplicationDate  SETS    "12-Dec-02"
d20 3
a22 3
Module_ComponentPath    SETS    "RiscOS/Sources/Internat/Territory/Manager"
Module_FullVersion      SETS    "0.42"
Module_HelpVersion      SETS    "0.42 (12 Dec 2002)"
@


4.16
log
@Added some extra territory names to UK.Messages.

Version 0.41. Tagged as 'Manager-0_41'
@
text
@d3 1
a3 1
; Last processed by srccommit version: 1.62.
d10 1
a10 2
                        GBLS    Module_ApplicationDate2
                        GBLS    Module_ApplicationDate4
d14 2
a15 2
Module_MajorVersion     SETS    "0.41"
Module_Version          SETA    41
d17 2
a18 3
Module_Date             SETS    "19 Feb 2002"
Module_ApplicationDate2 SETS    "19-Feb-02"
Module_ApplicationDate4 SETS    "19-Feb-2002"
d21 2
a22 2
Module_FullVersion      SETS    "0.41"
Module_HelpVersion      SETS    "0.41 (19 Feb 2002)"
@


4.15
log
@  Updated build structure to use the shared AAsmModule makefile.
  Updated to build using objasm instead of aasm.
  Sources changed to be objasm-compatible.
Detail:
  Removed additional BASIC tools that simply compress/decompress the Sprite
    file - standard squash application is used instead, and the code inside
    the Territory Manager has been updated to know that a full Squash file
    is what it has embedded within itself.  This also improves the memory
    allocation - the module is no longer praying that the sprite fits in
    25K when uncompressed ...
Admin:
  Requires Library 0.71 or later.
  Requires BuildSys 3.06 or later.
  Requires Env 0.65 or later.

Version 0.40. Tagged as 'Manager-0_40'
@
text
@d3 1
d15 2
a16 2
Module_MajorVersion     SETS    "0.40"
Module_Version          SETA    40
d18 3
a20 3
Module_Date             SETS    "19 Mar 2001"
Module_ApplicationDate2 SETS    "19-Mar-01"
Module_ApplicationDate4 SETS    "19-Mar-2001"
d23 2
a24 2
Module_FullVersion      SETS    "0.40"
Module_HelpVersion      SETS    "0.40 (19 Mar 2001)"
@


4.14
log
@
  * Removed dependency on obsolete STB flag.

Detail:

  * No longer relies on the STB flag; instead utilises "Hdr:UserIF.<UserIF>"
    to provide the Embedded_UI flag.

    On Embedded systems, the picture of the Floppy disc is suppressed
    when the configured territory cannot be found.

Admin:

  * Built and tested on Lazarus 32-bit build.  Code is binary identical to
    previous versions that relied on the STB flag in both the Desktop and
    Embedded variants.

  * StripDepnd support moved from Makefile to MkClean.

  * Requires HdrSrc 1.17 or later.

Version 0.39. Tagged as 'Manager-0_39'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.39"
Module_Version          SETA    39
d17 3
a19 3
Module_Date             SETS    "01 Mar 2001"
Module_ApplicationDate2 SETS    "01-Mar-01"
Module_ApplicationDate4 SETS    "01-Mar-2001"
d22 2
a23 2
Module_FullVersion      SETS    "0.39"
Module_HelpVersion      SETS    "0.39 (01 Mar 2001)"
@


4.13
log
@
  * The "Gremlins" have been at the files!  Added "South Africa" to the
    resources in the files that were missing the identifier.

Detail:

  * Japan, Sweden and UK were missing the territory identifier for
    territory 52 (South Africa).  Now rectified.

Admin:

  * Fault noted in development Bethany build.

Version 0.38. Tagged as 'Manager-0_38'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.38"
Module_Version          SETA    38
d17 3
a19 3
Module_Date             SETS    "22 Nov 2000"
Module_ApplicationDate2 SETS    "22-Nov-00"
Module_ApplicationDate4 SETS    "22-Nov-2000"
d22 2
a23 2
Module_FullVersion      SETS    "0.38"
Module_HelpVersion      SETS    "0.38 (22 Nov 2000)"
@


4.12
log
@
  * Updated (and added) resource files.

  * Stripdepnd support included in Makefile.

Detail:

  * Taught the module about the South African territory.

  * Took the opportunity to add the missing messages files for Italy,
    Spain and Turkey.  (All the other locales fall back to the UK
    resources.)

Admin:

  * Built on RPC.

Version 0.37. Tagged as 'Manager-0_37'
@
text
@d14 2
a15 2
Module_MajorVersion     SETS    "0.37"
Module_Version          SETA    37
d17 3
a19 3
Module_Date             SETS    "21 Nov 2000"
Module_ApplicationDate2 SETS    "21-Nov-00"
Module_ApplicationDate4 SETS    "21-Nov-2000"
d22 2
a23 2
Module_FullVersion      SETS    "0.37"
Module_HelpVersion      SETS    "0.37 (21 Nov 2000)"
@


4.11
log
@32-bit compatible.

Version 0.36. Tagged as 'Manager-0_36'
@
text
@d9 7
a15 2
Module_MajorVersion     SETS    "0.36"
Module_Version          SETA    36
d17 7
a23 2
Module_Date             SETS    "28 Apr 2000"
Module_FullVersion      SETS    "0.36"
@


4.10
log
@Territory_SetTime modified to use OS_Word 15,5 for greater accuracy.
Catches OS_Word 15,5 using Service_UKWord, and implements it (with lower
accuracy) if the kernel doesn't.

Version 0.35. Tagged as 'Manager-0_35'
@
text
@d4 10
a13 10
			GBLS	Module_MajorVersion
			GBLA    Module_Version
			GBLS	Module_MinorVersion
			GBLS	Module_Date
			GBLS	Module_FullVersion
Module_MajorVersion	SETS    "0.35"
Module_Version          SETA    35
Module_MinorVersion	SETS	""
Module_Date		SETS    "24 Aug 1999"
Module_FullVersion      SETS    "0.35"
@


4.9
log
@Added Territory_Select SWI and *Territory command.

Version 0.34. Tagged as 'Manager-0_34'
@
text
@d9 2
a10 2
Module_MajorVersion	SETS    "0.34"
Module_Version          SETA    34
d12 2
a13 2
Module_Date		SETS    "19 Apr 1999"
Module_FullVersion      SETS    "0.34"
@


4.8
log
@Another change to the DontUseCMOS variant. Option names changed - you should
now set the option -PD "FixedTerritory SETA n" where n is the number of the
territory you want selected, instead of setting DontUseCMOS.

Version 0.33. Tagged as 'Manager-0_33'
@
text
@d8 3
a10 2
Module_MajorVersion	SETS    "0.33"
Module_Version          SETA    33
d12 3
a14 2
Module_Date		SETS    "21 Jan 1999"
		        END
@


4.7
log
@Another version of the DontUseCMOS hack. This time, get the territory to use
from the build options.

Version 0.32. Tagged as 'Manager-0_32'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.32"
Module_Version          SETA    32
d11 1
a11 1
Module_Date		SETS    "20 Jan 1999"
@


4.6
log
@Modified "DontUseCMOS" variant to ensure that a valid territory (ie UK) is
selected during module initialisation. The last-registered territory is then
used after Service_PostInit. No attempt is made to load from filing systems.

Version 0.31. Tagged as 'Manager-0_31'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.31"
Module_Version          SETA    31
@


4.5
log
@Swedish messages file added. Makefile changed to use LocalRes$Path, because
we don't have any useful Norweigan, Danish or Finnish messages files.

Version 0.30. Tagged as 'Manager-0_30'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.30"
Module_Version          SETA    30
d11 1
a11 1
Module_Date		SETS    "15 Jan 1999"
@


4.4
log
@CMOS ignoring code should now work.

Version 0.29. Tagged as 'Manager-0_29'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.29"
Module_Version          SETA    29
d11 1
a11 1
Module_Date		SETS    "14 Jan 1999"
@


4.3
log
@If STB flag is set, don't bring up floppy disc prompt, just take last-
registered territory (ie last in ROM), if configured can't be found.
Also, if you add
     -options OPTS="-PD \"DontUseCMOS SETL {TRUE}\""
to the components file, it will always use the last territory in ROM,
totally ignoring the CMOS.

Version 0.28. Tagged as 'Manager-0_28'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.28"
Module_Version          SETA    28
d11 1
a11 1
Module_Date		SETS    "07 Jan 1999"
@


4.2
log
@Changed to use srccommit.
Modified to cope with new Hdr:CMOS.
Territory_IME SWI added.
Ursula branch merged.
German resources imported.

Version 0.27. Tagged as 'Manager-0_27'
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.27"
Module_Version          SETA    27
d11 1
a11 1
Module_Date		SETS    "19 Oct 1998"
@


4.1
log
@created by srccommit.
@
text
@d8 2
a9 2
Module_MajorVersion	SETS    "0.26"
Module_Version          SETA    26
@
