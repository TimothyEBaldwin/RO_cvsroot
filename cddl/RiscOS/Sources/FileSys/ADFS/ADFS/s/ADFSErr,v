head	1.1;
branch	1.1.1;
access;
symbols
	ADFS-4_05:1.1.1.1
	ADFS-4_04:1.1.1.1
	ADFS-4_03:1.1.1.1
	ADFS-4_02:1.1.1.1
	ADFS-4_01:1.1.1.1
	ADFS-4_00:1.1.1.1
	Vendor:1.1.1;
locks; strict;
comment	@# @;


1.1
date	2016.03.13.22.26.14;	author bavison;	state Exp;
branches
	1.1.1.1;
next	;
commitid	7OqGiOHUJ5Dl4xYy;

1.1.1.1
date	2016.03.13.22.26.14;	author bavison;	state Exp;
branches;
next	;
commitid	7OqGiOHUJ5Dl4xYy;


desc
@@



1.1
log
@Initial revision
@
text
@
        GBLS    FSName
FSName  SETS    "adfs"

        GBLS    fcerror
fcerror SETS    "FSErr"

        MACRO
$num    FSErr   $name, $str
        =       "        AddError $FSName.$name, ""$str"", &"
        =       :STR: (&10000 + fsnumber_$FSName:SHL:8 + &$num), 10
        MEND


        GET     ListOpts
        GET     FSNumbers

        AREA    Text, DATA

        ; File header
        =       "; This is an autogenerated file, do not edit", 10, 10

        ; Define all the errors that FileCore generates for the FS
        GET     FileCoreErr

        ; Define additional FS errors
        ; Although this version of ADFS doesn't generate all these errors,
        ; we still need to export them in case anyone else is testing for them
11      FSErr   FormatEsc, Escape whilst formatting (disc structure invalid)
70      FSErr   FormatNotSupportedOnWinnie, Format not available for Winnies
71      FSErr   DensityNotSupported, Density not supported
72      FSErr   SectorSizeNotSupported, Sectors size not supported
73      FSErr   TooManySectors, Too many sectors on a track
74      FSErr   BadFormat, Bad format
75      FSErr   TooManyDefects2, Too many defects
76      FSErr   NoFloppy, Floppy drive not connected
A0      FSErr   DriverInUse, Driver in use
;80      FSErr   BadFileCore, FileCore too old
81      FSErr   BadSWI, SWI value out of range for module ADFS
;82      FSErr   BadReason, Unknown %0 reason code

        ; File footer
        =       10, "        END", 10

        ; Pad to word alignment with newline characters
        ALIGN   4, 0, 10


        END
@


1.1.1.1
log
@  Initial import of ADFS 4
Detail:
  Version 4 of ADFS is a complete rewrite, but backward compatible with
  previous versions of ADFS. The hardware driver components have been
  extracted out into separate modules, along the lines of the
  SCSIFS/SCSIDriver and SDFS/SDIODriver interfaces. Initially, the only
  supported driver backend is for AHCI SATA controllers, but it is anticipated
  that PATA controller support and maybe even floppy drive support may be
  added at a later date to cater for legacy hardware. Background transfers are
  only partially implemented at present.
Admin:
  This version is what appeared in initial Titanium ROM releases.

Tagged as 'ADFS-4_00'
@
text
@@
